(this["webpackJsonptcg-portal"]=this["webpackJsonptcg-portal"]||[]).push([[0],{103:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},146:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(19),i=a.n(s),l=(a(82),a(26)),o=(a(83),a(14)),r=a(13),d=a(5),b="SET_USER",j="DELETE_USER",m="SET_TABVIEW",u="UPDATE_PREVIEW",h="OPEN_PREVIEW",O="RESET_PREVIEW",p="SET_DETAIL_PAGE_IMAGES_PENDING",x="SET_BANNER_IMAGE_PENDING",g="SET_THUMBNAIL_IMAGE_PENDING",f="TAB_GENERAL",v="TAB_THUMBNAIL",N="TAB_UNIT",y="TAB_PAYMENT",A="TAB_MEDIA",w=a(3),E=function(e,t){switch(t.type){case b:return Object(w.a)(Object(w.a)({},e),{},{currentUser:t.payload});case j:return Object(w.a)(Object(w.a)({},e),{},{currentUser:null});case m:return Object(w.a)(Object(w.a)({},e),{},{tabView:t.payload});case u:return Object(w.a)(Object(w.a)({},e),{},{previewLocation:t.payload});case h:return Object(w.a)(Object(w.a)({},e),{},{openPreview:!0});case O:return Object(w.a)(Object(w.a)({},e),{},{openPreview:!1});case p:return Object(w.a)(Object(w.a)({},e),{},{detailPageImages_pending:t.payload});case x:return Object(w.a)(Object(w.a)({},e),{},{bannerImage_pending:t.payload});case g:return Object(w.a)(Object(w.a)({},e),{},{thumbnailImage_pending:t.payload});default:return e}},C=a(0),k={currentUser:null,tabView:f,previewLocation:{},openPreview:!1,detailPageImages_pending:void 0,bannerImage_pending:void 0,thumbnailImage_pending:void 0},I=Object(c.createContext)(k),S=function(e){var t=Object(c.useReducer)(E,k),a=Object(d.a)(t,2),n=a[0],s=a[1];return Object(C.jsx)(I.Provider,{value:[n,s],children:e.children})},T=a(28),F=a.n(T),P={TAB_GENERAL:"General",TAB_THUMBNAIL:"Thumbnail",TAB_UNIT:"Unit / Pricing",TAB_PAYMENT:"Payment",TAB_MEDIA:"Media"},U="INFO",R="SUCCESS",L="WARNING",B="ERROR",Q={getTabNameFromTabView:function(e){return P[e]},listenerFunction:[],addToastListener:function(e){this.listenerFunction=e},showToast:function(e,t){this.listenerFunction(e,t)}},D="https://contractorsgarage.com",J={withCredentials:!0},q=function(e,t,a,c){F.a.get(D+e,J).then((function(e){a&&Q.showToast(a.type,a.message),t(e)}),(function(e){null!==c&&void 0!==c||Q.showToast(B,e.response),t(null,e)}))},V=function(e,t,a,c,n){F.a.post(D+e,t,J).then((function(e){c&&Q.showToast(c.type,c.message),a(e)}),(function(e){null!==n&&void 0!==n||Q.showToast(B,e.response),a(null,e)}))},M=function(e,t,a,c,n){F.a.put(D+e,t,J).then((function(e){c&&Q.showToast(c.type,c.message),a(e)}),(function(e){null!==n&&void 0!==n||Q.showToast(B,e.response),a(null,e)}))},Y=function(e){q("/api/user/is-logged-in",e,null,!0)},W=function(e,t){V("/api/user/login",e,t)},G=function(e){V("/api/user/logout",null,e)},z=function(e){q("/portal/user/get-all-users",e,null,!0)},_=function(e){q("/portal/locations",e,null,!0)},K=function(e,t){q("/portal/location/".concat(e),t)},Z=function(e,t){M("/portal/location",e,t,{type:R,message:"Update Successful!"})},H=function(e,t){M("/portal/location",e,t)},X=function(e,t){V("/portal/location/preview",e,t,{type:R,message:"Preview has been generated!"})},$=function(e,t){var a=[];F.a.get(D+"/portal/image-upload-credentials",J).then((function(t){for(var c=0;c<e.length;c++){var n=new FormData;n.append("file",e[c]),n.append("tags",["TCG","Portal Upload"]),n.append("upload_preset",t.data.UPLOAD_PRESET),n.append("api key",t.data.API_KEY),n.append("timestamp",Date.now()/1e3|0),a.push(F.a.post("https://api.cloudinary.com/v1_1/".concat(t.data.CLOUD_NAME,"/image/upload"),n,{headers:{"X-Requested-With":"XMLHttpRequest"}}))}return Promise.all(a)})).then(t).catch((function(e){Q.showToast(B,"Error uploading images to server!"),t(null,e)}))},ee=a.p+"static/media/lightLogo.83c080a5.svg",te=a.p+"static/media/lightLogoTransparent.e23d973f.svg",ae=a.p+"static/media/lightLogoTransparentTextOnly.a8cbce4a.svg",ce=a.p+"static/media/squareLightTransparent.cbbe2acf.svg",ne=a.p+"static/media/darkLogo.53731710.svg",se=a.p+"static/media/darkLogoTransparent.521f807a.svg",ie=a.p+"static/media/squareDarkTransparent.dde4f566.svg",le=function(e){return e.textOnly?Object(C.jsx)("img",{className:"CompanyLogo",src:ae,alt:"Contractors Garage"}):e.square?Object(C.jsx)("img",{className:"CompanyLogo",src:e.dark?ie:ce,alt:"Contractors Garage"}):e.dark?Object(C.jsx)("img",{className:"CompanyLogo",src:e.transparent?se:ne,alt:"Contractors Garage"}):Object(C.jsx)("img",{className:"CompanyLogo",src:e.transparent?te:ee,alt:"Contractors Garage"})},oe=(a(103),function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(""),i=Object(d.a)(s,2),l=i[0],o=i[1],j=Object(c.useState)(""),m=Object(d.a)(j,2),u=m[0],h=m[1],O=Object(c.useContext)(I),p=Object(d.a)(O,2),x=(p[0],p[1]),g=Object(r.h)().state;if(!0===a)return Object(C.jsx)(r.a,{to:(null===g||void 0===g?void 0:g.from)||"/dashboard"});return Object(C.jsx)("div",{className:"Login d-flex flex-column h-100 justify-content-lg-center",children:Object(C.jsxs)("div",{className:"col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 mt-5 mt-lg-0 mb-lg-5",children:[Object(C.jsx)("div",{className:"text-center",children:Object(C.jsx)(le,{transparent:!0})}),Object(C.jsx)("h2",{className:"text-center mb-4",children:"ADMIN PORTAL"}),Object(C.jsxs)("form",{onSubmit:function(e){e.preventDefault(),W({username:l,password:u},(function(e,t){e&&200===e.status?(x({type:b,payload:e.data}),n(!0)):console.log(t)}))},children:[Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(C.jsx)("input",{id:"username",className:"form-control",type:"text",value:l,onChange:function(e){return o(e.target.value)}})]}),Object(C.jsxs)("div",{className:"mb-3",children:[Object(C.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(C.jsx)("input",{id:"password",className:"form-control",type:"password",value:u,onChange:function(e){return h(e.target.value)}})]}),Object(C.jsx)("button",{className:"btn btn-primary form-control mt-4",type:"submit",children:"Login"})]})]})})}),re=(a(111),function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),i=Object(d.a)(s,2),l=i[0],r=i[1],b=Object(c.useContext)(I),j=Object(d.a)(b,2),m=j[0];j[1];return Object(c.useEffect)((function(){_((function(e,t){e&&200===e.status&&n(e.data)})),z((function(e,t){e&&200===e.status&&r(e.data)}))}),[]),Object(C.jsx)("div",{className:"Dashboard",children:Object(C.jsxs)("div",{className:"container",children:[Object(C.jsxs)("h1",{className:"my-4",children:["Welcome, ",m.currentUser&&m.currentUser.firstName]}),Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-12 col-md-6",children:Object(C.jsxs)("div",{className:"card p-5 mb-3 mb-md-0",children:[Object(C.jsx)("h3",{children:"Number of Locations"}),Object(C.jsx)("h5",{className:"fw-bold themeText",children:a.length}),Object(C.jsx)(o.b,{to:"/locations",children:"Manage Locations"})]})}),m.currentUser&&m.currentUser.isAdmin&&Object(C.jsx)("div",{className:"col-12 col-md-6",children:Object(C.jsxs)("div",{className:"card p-5",children:[Object(C.jsx)("h3",{children:"Number of Users"}),Object(C.jsx)("h5",{className:"fw-bold themeText",children:l.length}),Object(C.jsx)(o.b,{to:"/users",children:"Manage Users"})]})})]})]})})}),de=(a(112),function(){return Object(C.jsx)("div",{className:"NotFound",children:"404 page not found!!!"})}),be=a(24),je=["children"],me=function(e){var t=e.children,a=Object(be.a)(e,je),n=Object(c.useState)(),s=Object(d.a)(n,2),i=s[0],l=s[1],o=Object(r.h)(),j=Object(c.useContext)(I),m=Object(d.a)(j,2),u=m[0],h=m[1];return Object(c.useEffect)((function(){u.currentUser?l(t):Y((function(e,a){e&&200===e.status?(l(t),h({type:b,payload:e.data})):l(Object(C.jsx)(r.a,{to:{pathname:"/login",state:{from:o}}}))}))}),[a.path]),Object(C.jsx)(r.b,Object(w.a)(Object(w.a)({},a),{},{render:function(){return i}}))},ue=(a(113),function(){return Object(C.jsx)("div",{className:"Settings",children:"Settings Component Works!!"})}),he=(a(114),a(149)),Oe=a(164),pe=a(166),xe=a(150),ge=function(e){var t=e.location,a=Object(c.useState)(!1),n=Object(d.a)(a,2),s=n[0],i=n[1],l=t.thumbnailImage?t.thumbnailImage.src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAg0AAAGlCAIAAAD23VLdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkUxQTQyRkMyRkNCMjExRTM5NTU4OTZEQkJFNzU1OEY1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkUxQTQyRkMzRkNCMjExRTM5NTU4OTZEQkJFNzU1OEY1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTFBNDJGQzBGQ0IyMTFFMzk1NTg5NkRCQkU3NTU4RjUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTFBNDJGQzFGQ0IyMTFFMzk1NTg5NkRCQkU3NTU4RjUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7hkGSKAAAPo0lEQVR42uzd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";return Object(C.jsx)("div",{className:"LocationCard",children:t&&Object(C.jsxs)("div",{className:"card",children:[Object(C.jsx)("div",{className:"card-header themeBackground",children:Object(C.jsx)("h3",{children:t.name})}),Object(C.jsx)("div",{className:"card-body",style:{backgroundImage:"url("+l+")",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"250px"},children:Object(C.jsx)("div",{className:"shadowFade",children:Object(C.jsxs)("address",{className:"p-3 fw-bold",children:[Object(C.jsx)("p",{className:"m-0",children:t.addressFirstLine?t.addressFirstLine:"[address first line]"}),Object(C.jsx)("p",{children:t.addressSecondLine?t.addressSecondLine:"[address second line]"})]})})}),Object(C.jsxs)("div",{className:"card-footer cardFooterBackground d-flex justify-content-between",children:[Object(C.jsx)(o.b,{className:"btn btn-primary",to:"/location/".concat(t._id),children:"Manage"}),Object(C.jsxs)(he.a,{isOpen:s,toggle:function(){return i((function(e){return!e}))},children:[Object(C.jsx)(Oe.a,{tag:"span",children:Object(C.jsx)("button",{className:"btn",children:Object(C.jsx)("i",{className:"fas fa-ellipsis-v"})})}),Object(C.jsxs)(pe.a,{children:[Object(C.jsx)(xe.a,{children:"View"}),Object(C.jsx)(xe.a,{children:"Edit"}),Object(C.jsx)(xe.a,{children:"Hide Location"}),Object(C.jsx)(xe.a,{divider:!0}),Object(C.jsx)(xe.a,{children:"Delete"})]})]})]})]})})},fe=(a(129),function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1],s=Object(c.useContext)(I),i=Object(d.a)(s,2),l=i[0];i[1];return Object(c.useEffect)((function(){_((function(e,t){e&&200===e.status&&n(e.data)}))}),[]),Object(C.jsx)("div",{className:"Locations",children:Object(C.jsxs)("div",{className:"container mb-5 pb-5",children:[Object(C.jsx)("h2",{className:"my-4",children:"Location Management"}),Object(C.jsx)("p",{children:"Below is a list of the locations you have access to. From here you can select a location to make updates. To create a new location select the 'New Location' button and you will be taken to a creation screen where you can create and upload content."}),Object(C.jsx)("div",{className:"row my-5",children:Object(C.jsxs)("div",{className:"card p-4",children:[Object(C.jsx)("h4",{children:"Create New Location"}),l.currentUser&&l.currentUser.isAdmin||l.currentUser&&l.currentUser.maxLocationAllowance>a.length?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("p",{children:"Create a new location. You will be able to first create a draft and preview what it will look like before publishing."}),Object(C.jsx)("button",{className:"btn btn-primary col-xl-2 col-lg-3 col-sm-4",children:"New Location"})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("p",{children:["You have reached your maximum location allowance of ",Object(C.jsx)("b",{children:l.currentUser&&l.currentUser.maxLocationAllowance}),"!"]}),Object(C.jsxs)("p",{children:["Please contact your administrator to request an increase in your max location allowance. For more information about listing with Contractors Garage visit the ",Object(C.jsx)("a",{href:"https://www.contractorsgarage.com/development-services",target:"_blank",children:"List With Us"})," page."]})]})]})}),Object(C.jsxs)("div",{className:"row mb-5 pb-5",children:[Object(C.jsx)("h4",{children:"Your Locations"}),a.map((function(e){return Object(C.jsx)("div",{className:"col-12 col-md-6 col-xxl-4 my-2",children:Object(C.jsx)(ge,{location:e})},e._id)}))]})]})})}),ve=(a(130),function(){var e=Object(r.h)(),t=Object(r.g)(),a=Object(c.useContext)(I),n=Object(d.a)(a,2),s=n[0],i=n[1],l=function(t){return t===e.pathname?"activeNavText":""},b=function(e){return e===s.tabView?"activeNavText":""};return Object(C.jsxs)("div",{className:"Toolbar toolbarBackground pt-4 d-flex flex-column",children:[Object(C.jsx)(le,{transparent:!0}),Object(C.jsxs)("div",{className:"navWrapper mt-5 d-flex flex-column flex-grow-1",children:[Object(C.jsxs)("ul",{className:"list-unstyled",children:[Object(C.jsx)("li",{className:"mt-2",children:Object(C.jsx)(o.b,{className:"text-decoration-none ".concat(l("/dashboard")),to:"/dashboard",children:"Dashboard"})}),Object(C.jsx)("li",{className:"mt-2",children:Object(C.jsx)(o.b,{className:"text-decoration-none ".concat(l("/locations")),to:"/locations",children:"Locations"})}),Object(C.jsx)("li",{className:"mt-2",children:Object(C.jsx)(o.b,{className:"text-decoration-none ".concat(l("/settings")),to:"/settings",children:"Settings"})})]}),e.pathname.startsWith("/location/")&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("hr",{}),Object(C.jsxs)("ul",{className:"list-unstyled",children:[Object(C.jsx)("li",{className:"mt-2",children:Object(C.jsx)("a",{className:"text-decoration-none ".concat(b(f)),href:void 0,onClick:function(){return i({type:m,payload:f})},children:Q.getTabNameFromTabView(f)})}),Object(C.jsx)("li",{className:"mt-2",children:Object(C.jsx)("a",{className:"text-decoration-none ".concat(b(v)),href:void 0,onClick:function(){return i({type:m,payload:v})},children:Q.getTabNameFromTabView(v)})}),Object(C.jsx)("li",{className:"mt-2",children:Object(C.jsx)("a",{className:"text-decoration-none ".concat(b(N)),href:void 0,onClick:function(){return i({type:m,payload:N})},children:Q.getTabNameFromTabView(N)})}),Object(C.jsx)("li",{className:"mt-2",children:Object(C.jsx)("a",{className:"text-decoration-none ".concat(b(A)),href:void 0,onClick:function(){return i({type:m,payload:A})},children:Q.getTabNameFromTabView(A)})}),Object(C.jsx)("li",{className:"mt-2",children:Object(C.jsx)("a",{className:"text-decoration-none ".concat(b(y)),href:void 0,onClick:function(){return i({type:m,payload:y})},children:Q.getTabNameFromTabView(y)})})]})]}),Object(C.jsx)("button",{className:"btn btn-danger mt-auto",onClick:function(){G((function(e,a){e&&200===e.status&&(i({type:j}),t.push("/login"))}))},children:"Logout"})]})]})}),Ne=a(151),ye=a(152),Ae=a(153),we=a(154),Ee=a(155),Ce=a(156),ke=a(157),Ie=(a(131),function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],s=Object(r.h)(),i=Object(r.g)(),l=Object(c.useContext)(I),b=Object(d.a)(l,2),m=(b[0],b[1]),u=function(){return n(!a)},h=function(e){return e===s.pathname?"active":""};return Object(C.jsx)("div",{className:"MobileHeader",children:Object(C.jsxs)(Ne.a,{light:!0,expand:"md",className:"justify-content-between",children:[Object(C.jsx)(ye.a,{className:"p-0",tag:o.b,to:"/",children:Object(C.jsx)(le,{square:!0})}),Object(C.jsx)(Ae.a,{onClick:u}),Object(C.jsx)(we.a,{isOpen:a,navbar:!0,children:Object(C.jsxs)(Ee.a,{className:"ml-auto",navbar:!0,children:[Object(C.jsx)(Ce.a,{children:Object(C.jsx)(ke.a,{onClick:u,tag:o.b,to:"/dashboard",className:h("/dashboard"),children:"Dashboard"})}),Object(C.jsx)(Ce.a,{children:Object(C.jsx)(ke.a,{onClick:u,tag:o.b,to:"/locations",className:h("/locations"),children:"Locations"})}),Object(C.jsx)(Ce.a,{children:Object(C.jsx)(ke.a,{onClick:u,tag:o.b,to:"/settings",className:h("/settings"),children:"Settings"})}),Object(C.jsx)(xe.a,{divider:!0}),Object(C.jsx)("button",{className:"btn btn-danger",onClick:function(){G((function(e,t){e&&200===e.status&&(m({type:j}),i.push("/"))}))},children:"Logout"})]})})]})})}),Se=(a(139),function(){return Object(C.jsx)("div",{className:"Users",children:"Users Component works!!!"})}),Te=a(15),Fe=a(165),Pe=a(161),Ue=a(162),Re=a(163),Le=a(158),Be=a(159),Qe=a(167),De=a(160);a(140);function Je(e){var t=Object(Le.a)({zoomend:function(a){e.setZoom(t.getZoom())},click:function(t){e.handleClick(t.latlng)}});return null}var qe=function(e){var t=Object(c.useState)(15),a=Object(d.a)(t,2),n=a[0],s=a[1],i=Object(c.useState)(),l=Object(d.a)(i,2),o=l[0],r=l[1];return Object(c.useEffect)((function(){o&&e.onCoordinateSelect(o)}),[o]),Object(C.jsxs)("div",{className:"CoordinatePicker",children:[Object(C.jsxs)(Be.a,{center:e.center.length>1?e.center:[40.68924454236941,-74.04454171657564],zoom:n,scrollWheelZoom:!0,children:[Object(C.jsx)(Je,{setZoom:s,handleClick:function(e){return r([e.lat,e.lng])}}),Object(C.jsx)(Qe.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",opacity:n<=7?1:0}),Object(C.jsx)(Qe.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",opacity:n>7?1:0}),(o||e.center)&&Object(C.jsx)(De.a,{position:o||e.center})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{className:"badge bg-info",children:"Lat"}),Object(C.jsx)("span",{className:"fw-bold ms-4",children:o&&o[0]})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{className:"badge bg-info",children:"Long"}),Object(C.jsx)("span",{className:"fw-bold ms-4",children:o&&o[1]})]})]})},Ve=function(e){var t=Object(c.useContext)(I),a=Object(d.a)(t,2),n=a[0],s=a[1],i=Object(c.useState)(!1),l=Object(d.a)(i,2),o=l[0],r=l[1],b=Object(c.useState)(""),j=Object(d.a)(b,2),u=j[0],p=j[1];Object(c.useEffect)((function(){n.openPreview&&X({data:JSON.stringify(n.previewLocation)},(function(e,t){e&&200===e.status&&(p("https://contractorsgarage.com/location/preview/"+e.data._id),x(),s({type:O}))}))}),[n.openPreview]);var x=function(){return r(!o)},g=function(e,t){e.preventDefault(),s({type:m,payload:t})};return Object(C.jsxs)("div",{className:"TabView",children:[Object(C.jsxs)("div",{className:"mb-5 pb-5",children:[Object(C.jsx)("h2",{className:"my-4",children:e.header}),Object(C.jsx)("p",{children:e.description}),e.children,Object(C.jsx)("div",{className:"card p-4 mt-4",children:Object(C.jsxs)("div",{children:[e.showSaveButton&&Object(C.jsx)("button",{form:e.formId,type:"submit",className:"btn btn-primary",children:"Save"}),Object(C.jsx)("button",{className:"btn btn-secondary ms-2",onClick:function(){e.updatePreview(),s({type:h})},children:"Create Preview"})]})}),Object(C.jsxs)("div",{className:"tabViewNavSection d-flex justify-content-between my-5",children:[e.previousView&&Object(C.jsx)("div",{className:"card p-3",children:Object(C.jsxs)("a",{href:"/",onClick:function(t){return g(t,e.previousView)},children:[Object(C.jsx)("i",{className:"fas fa-arrow-left"})," Previous: ",Q.getTabNameFromTabView(e.previousView)]})}),e.nextView&&Object(C.jsx)("div",{className:"ms-auto card p-3",children:Object(C.jsxs)("a",{href:"/",onClick:function(t){return g(t,e.nextView)},children:["Next: ",Q.getTabNameFromTabView(e.nextView)," ",Object(C.jsx)("i",{className:"fas fa-arrow-right"})]})})]})]}),Object(C.jsxs)(Fe.a,{isOpen:o,toggle:x,children:[Object(C.jsx)(Pe.a,{children:"Location Preview Generated"}),Object(C.jsxs)(Ue.a,{children:[Object(C.jsxs)("p",{children:["A preview has been generated from your data for this location. The link below will open the preview in a new tab. ",Object(C.jsx)("b",{children:"This link will expire in 30 minutes."})]}),Object(C.jsxs)("a",{href:u,target:"_blank",children:["View Preview ",Object(C.jsx)("i",{className:"fas fa-external-link-alt"})]})]}),Object(C.jsx)(Re.a,{children:Object(C.jsx)("button",{className:"btn btn-primary",onClick:x,children:"Close"})})]})]})},Me=function(e){var t=e.location,a=Object(c.useContext)(I),n=Object(d.a)(a,2),s=n[0],i=n[1],l=Object(c.useState)(""),o=Object(d.a)(l,2),r=o[0],b=o[1],j=Object(c.useState)(""),m=Object(d.a)(j,2),h=m[0],O=m[1],p=Object(c.useState)(""),x=Object(d.a)(p,2),g=x[0],f=x[1],N=Object(c.useState)(""),y=Object(d.a)(N,2),A=y[0],E=y[1],k=Object(c.useState)(),S=Object(d.a)(k,2),T=S[0],F=S[1],P=Object(c.useState)(""),U=Object(d.a)(P,2),R=U[0],L=U[1],B=Object(c.useState)(""),Q=Object(d.a)(B,2),D=Q[0],J=Q[1],q=Object(c.useState)(""),V=Object(d.a)(q,2),M=V[0],Y=V[1],W=Object(c.useState)(""),G=Object(d.a)(W,2),z=G[0],_=G[1],K=Object(c.useState)(""),H=Object(d.a)(K,2),X=H[0],$=H[1],ee=Object(c.useState)(),te=Object(d.a)(ee,2),ae=te[0],ce=te[1],ne=Object(c.useState)(""),se=Object(d.a)(ne,2),ie=se[0],le=se[1],oe=Object(c.useState)(""),re=Object(d.a)(oe,2),de=re[0],be=re[1],je=Object(c.useState)(""),me=Object(d.a)(je,2),ue=me[0],he=me[1],Oe=Object(c.useState)(!1),pe=Object(d.a)(Oe,2),xe=pe[0],ge=pe[1],fe=Object(c.useState)(""),ve=Object(d.a)(fe,2),Ne=ve[0],ye=ve[1];Object(c.useEffect)((function(){Ae()}),[r,h,g,A,T,R,D,M,z,X,ae,ie,de,ue]),Object(c.useEffect)((function(){var e=Object(w.a)(Object(w.a)({},t),s.previewLocation);b(e.name?e.name:""),O(e.slug?e.slug:""),f(e.addressFirstLine?e.addressFirstLine:""),E(e.addressSecondLine?e.addressSecondLine:""),L(e.coordinates&&e.coordinates.length>1?e.coordinates[0]:""),J(e.coordinates&&e.coordinates.length>1?e.coordinates[1]:""),Y(e.shortDescription?e.shortDescription:""),_(e.longDescription?e.longDescription:""),ce(e.features?e.features:""),le(e.contactName?e.contactName:""),be(e.contactPhone?e.contactPhone:""),he(e.contactEmail?e.contactEmail:"")}),[t]);var Ae=function(){var e=Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)({},r&&{name:r}),h&&{slug:h}),g&&{addressFirstLine:g}),A&&{addressSecondLine:A}),R&&D&&{coordinates:[R,D]}),M&&{shortDescription:M}),z&&{longDescription:z}),ae&&{features:ae}),ie&&{contactName:ie}),de&&{contactPhone:de}),ue&&{contactEmail:ue}),a=Object(w.a)(Object(w.a)(Object(w.a)({},t),s.previewLocation),e);i({type:u,payload:a})},we=Object(c.useState)(!1),Ee=Object(d.a)(we,2),Ce=Ee[0],ke=Ee[1],Ie=function(){return ke(!Ce)};return Object(C.jsxs)("div",{className:"GeneralTabView",children:[Object(C.jsxs)(Ve,{header:"General ".concat(t.name?"- "+t.name:""),description:"This section is for editing the general details about the location including the name, description, address, contact and coordinates.",nextView:v,formId:"generalForm",showSaveButton:t.isPublished,updatePreview:Ae,children:[Object(C.jsxs)("div",{className:"card actionsSection p-4 my-4",children:[Object(C.jsx)("h5",{children:"Quick Actions"}),Object(C.jsx)("p",{children:"Below is a list of actions you can perform on this location record."}),t.isPublished&&Object(C.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(C.jsx)("p",{children:"View this location on the live site."}),Object(C.jsx)("span",{children:Object(C.jsxs)("a",{className:"btn btn-outline-primary",href:"https://contractorsgarage.com/location/".concat(t.slug),target:"_blank",children:["View Location \xa0 ",Object(C.jsx)("i",{className:"fas fa-external-link-alt"})]})})]}),Object(C.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(C.jsx)("p",{children:"Hide this location from view on the live site. This will only temporarily disable the location and will not delete it. You can reverse this action at any time."}),Object(C.jsx)("span",{children:Object(C.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){},children:"Hide Location"})})]}),Object(C.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(C.jsx)("p",{children:"Delete this location from the database. Warning this action cannot be reversed!"}),Object(C.jsx)("span",{children:Object(C.jsx)("button",{className:"btn btn-outline-danger",onClick:function(){},children:"Delete"})})]})]}),Object(C.jsx)("div",{className:"card editDetailCard p-4",children:Object(C.jsxs)("form",{id:"generalForm",className:"needs-validation ".concat(xe?"was-validated":""),onSubmit:function(e){e.target.checkValidity()?(e.preventDefault(),Z(s.previewLocation,(function(t,a){t&&200===t.status?console.log("success!"):a&&(a.response&&400===a.response.status&&(e.target.elements.namedItem("slug").setCustomValidity("Current value already in use, url slug must be unique. Choose another value."),ye("Current value already in use, url slug must be unique. Choose another value.")),console.log(a))}))):(e.preventDefault(),e.stopPropagation()),ge(!0)},noValidate:!0,children:[Object(C.jsx)("h5",{children:"Details"}),Object(C.jsx)("p",{children:"Use this section for filling out the basic details for this location."}),Object(C.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(C.jsx)("label",{className:"form-label requiredField",htmlFor:"name",children:"Display Name"}),Object(C.jsx)("small",{className:"text-secondary",children:"This is the title of the location and will be displayed on the location directory and the top of this location page."}),Object(C.jsx)("input",{id:"name",className:"form-control",type:"text",placeholder:"Enter Display Name",value:r,onChange:function(e){return b(e.target.value)},required:!0}),Object(C.jsx)("div",{className:"invalid-feedback fw-bold",children:"Display name is a required field please enter a display name above."})]}),Object(C.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(C.jsx)("label",{className:"form-label requiredField",htmlFor:"slug",children:"URL Slug"}),Object(C.jsx)("small",{className:"text-secondary",children:"This is the unique ending of the URL that will link to your location page. It is a good idea to use something easy to type and human readable. Spaces are not allowed use the - or _ symbol as a separator. Only lowercase letters and numbers are allowed no special characters."}),Object(C.jsxs)("small",{className:"text-secondary",children:["Example: 'florida-garage' would appear like this in the URL. https://contractorsgarage.com/location/",Object(C.jsx)("span",{className:"fw-bold",children:"florida-garage"})]}),Object(C.jsx)("input",{id:"slug",className:"form-control",type:"text",placeholder:"florida-garage",value:h,onChange:function(e){/[^a-z0-9-_]/g.test(e.target.value)?(e.target.setCustomValidity("Field is required and must not contain spaces, uppercase letters or special characters (other than - and _)."),ye("Field is required and must not contain spaces, uppercase letters or special characters (other than - and _).")):e.target.setCustomValidity(""),O(e.target.value)},required:!0}),Object(C.jsx)("div",{className:"invalid-feedback fw-bold",children:Ne})]}),Object(C.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"addressFirstLine",children:"Address (First Line)"}),Object(C.jsx)("small",{className:"text-secondary",children:"The street address for this location."}),Object(C.jsx)("small",{className:"text-secondary",children:"Example: 123 Main Street"}),Object(C.jsx)("input",{id:"addressFirstLine",className:"form-control",type:"text",placeholder:"Enter Address",value:g,onChange:function(e){return f(e.target.value)}})]}),Object(C.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"addressSecondLine",children:"Address (Second Line)"}),Object(C.jsx)("small",{className:"text-secondary",children:"The city state and zip code for this location."}),Object(C.jsx)("small",{className:"text-secondary",children:"Example: San Francisco, California 94105"}),Object(C.jsx)("input",{id:"addressSecondLine",className:"form-control",type:"text",placeholder:"Enter City, State Zip",value:A,onChange:function(e){return E(e.target.value)}})]}),Object(C.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(C.jsx)("h6",{children:"Coordinates"}),Object(C.jsxs)("p",{children:["The exact coordinates to display the marker on the map for this location. You can manually enter the ",Object(C.jsx)("i",{children:"latitude"})," and ",Object(C.jsx)("i",{children:"longitude"})," or you can choose the point from the map by selecting ",Object(C.jsx)("b",{children:"Choose From Map"}),"."]}),Object(C.jsxs)("div",{className:"row align-items-end",children:[Object(C.jsxs)("div",{className:"d-flex flex-column col-12 col-md-3",children:[Object(C.jsx)("label",{className:"form-label requiredField",htmlFor:"lat",children:"Latitude"}),Object(C.jsx)("input",{id:"lat",className:"form-control",type:"number",max:"90",min:"-90",step:"any",value:R,onChange:function(e){return L(e.target.value)},required:!0})]}),Object(C.jsxs)("div",{className:"d-flex flex-column col-12 col-md-3 mt-4",children:[Object(C.jsx)("label",{className:"form-label requiredField",htmlFor:"log",children:"Longitude"}),Object(C.jsx)("input",{id:"log",className:"form-control",type:"number",max:"180",min:"-180",step:"any",value:D,onChange:function(e){return J(e.target.value)},required:!0})]}),Object(C.jsx)("div",{className:"col-12 col-md-6",children:Object(C.jsx)("button",{className:"btn btn-outline-primary mt-4",type:"button",onClick:Ie,children:"Choose From Map"})})]})]}),Object(C.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"shortDescription",children:"Short Description"}),Object(C.jsx)("small",{className:"text-secondary",children:"Description of this location to be shown on the map marker popup. Limit 140 characters."}),Object(C.jsx)("textarea",{id:"shortDescription",className:"form-control",maxLength:140,value:M,onChange:function(e){return Y(e.target.value)}})]}),Object(C.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"longDescription",children:"Long Description"}),Object(C.jsx)("small",{className:"text-secondary",children:"Description of this location to be shown on the location detail page. This will be shown at the top of the page and should include a description of the features and services."}),Object(C.jsx)("textarea",{id:"longDescription",className:"form-control",rows:6,value:z,onChange:function(e){return _(e.target.value)}})]}),Object(C.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"features",children:"Features"}),Object(C.jsxs)("small",{className:"text-secondary",children:["A list of features and services provided at this location. Each item will appear as an item in a bulleted list. Enter each item in the input below and press ",Object(C.jsx)("b",{children:"Add Feature"})," to add it to the list. To remove an item from the list press the ",Object(C.jsx)("b",{children:"\xd7"})," next to the item."]}),Object(C.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:Object(C.jsxs)("div",{className:"input-group",children:[Object(C.jsx)("input",{id:"features",type:"text",className:"form-control",placeholder:"Enter Feature",value:X,onChange:function(e){return $(e.target.value)}}),Object(C.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){return ce([].concat(Object(Te.a)(ae),[X]))},children:"Add Feature"})]})}),!ae||ae&&0===ae.length?Object(C.jsx)("p",{className:"text-secondary pt-5",children:"Currently no features. Add features above and view them here..."}):Object(C.jsx)("ul",{className:"list-unstyled mt-3",children:ae.map((function(e,t){return Object(C.jsx)("li",{className:"my-2",children:Object(C.jsxs)("div",{className:"badge bg-secondary",children:[Object(C.jsx)("span",{children:e}),Object(C.jsx)("button",{className:"btn btn-close btn-close-white",type:"button",onClick:function(){if(window.confirm("Are you sure you want to delete this feature?")){var e=Object(Te.a)(ae);e.splice(t,1),ce(e)}}})]})},t)}))})]}),Object(C.jsx)("h5",{children:"Contact Info"}),Object(C.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"contactName",children:"Contact Name"}),Object(C.jsx)("small",{className:"text-secondary",children:"The name of the contact for this location."}),Object(C.jsx)("input",{id:"contactName",className:"form-control",type:"text",placeholder:"Enter Contact Name",value:ie,onChange:function(e){return le(e.target.value)}})]}),Object(C.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"contactPhone",children:"Contact Phone"}),Object(C.jsx)("small",{className:"text-secondary",children:"The phone number of the contact for this location."}),Object(C.jsx)("input",{id:"contactPhone",className:"form-control",type:"text",pattern:"[\\d]{3}-[\\d]{3}-[\\d]{4}|[\\d]{10}",placeholder:"Enter Contact Phone XXX-XXX-XXXX Format",value:de,onChange:function(e){return be(e.target.value)}}),Object(C.jsx)("div",{className:"invalid-feedback fw-bold",children:"Phone number must contain only numbers or numbers separated with dashes, no spaces, letters or special characters allowed (other than -)."})]}),Object(C.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"contactEmail",children:"Contact Email"}),Object(C.jsx)("small",{className:"text-secondary",children:"The email address of the contact for this location."}),Object(C.jsx)("input",{id:"contactEmail",className:"form-control",type:"email",placeholder:"Enter Contact Email",value:ue,onChange:function(e){return he(e.target.value)}}),Object(C.jsx)("div",{className:"invalid-feedback fw-bold",children:"Email address entered is not valid!"})]})]})})]}),Object(C.jsxs)(Fe.a,{isOpen:Ce,toggle:Ie,size:"lg",children:[Object(C.jsx)(Pe.a,{children:"Choose Location On Map"}),Object(C.jsxs)(Ue.a,{children:[Object(C.jsx)("p",{children:"Click on map to set marker location when finished click continue."}),Object(C.jsx)(qe,{center:""!==R&&""!==D?[R,D]:t.coordinates&&t.coordinates.length>1?t.coordinates:[40.68924454236941,-74.04454171657564],onCoordinateSelect:F})]}),Object(C.jsxs)(Re.a,{children:[Object(C.jsx)("button",{className:"btn",onClick:Ie,children:"CANCEL"}),Object(C.jsx)("button",{className:"btn btn-primary",disabled:!T,onClick:function(){L(T[0]),J(T[1]),Ie()},children:"Continue"})]})]})]})},Ye=a(39),We=(a(141),a(32)),Ge=a.n(We),ze=function(e){var t;return Object(C.jsx)("div",{className:"ImageCard",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsx)("div",{className:"card-body",style:{backgroundImage:"url("+e.src+")",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"250px"}}),Object(C.jsx)("p",{className:"position-absolute bg-white",children:e.caption}),Object(C.jsxs)("div",{className:"card-footer d-flex flex-row justify-content-between bg-light",children:[Object(C.jsx)("button",{type:"button",className:"btn btn-link text-danger",onClick:e.onDelete,children:Object(C.jsx)("i",{className:"fas fa-trash-alt"})}),null!==(t=e.hideEdit)&&void 0!==t?t:Object(C.jsx)("button",{type:"button",className:"btn btn-link text-secondary",onClick:e.onEdit,children:Object(C.jsx)("i",{className:"fas fa-pencil-alt"})})]})]})})},_e=function(e){var t=e.location,a=Object(c.useContext)(I),n=Object(d.a)(a,2),s=n[0],i=n[1],l=Object(c.useState)(),o=Object(d.a)(l,2),r=o[0],b=o[1],j=Object(c.useState)(),m=Object(d.a)(j,2),h=m[0],O=m[1],g=Object(c.useState)(),f=Object(d.a)(g,2),v=f[0],A=f[1],E=Object(c.useState)(),k=Object(d.a)(E,2),S=k[0],T=k[1],F=Object(c.useState)(!1),P=Object(d.a)(F,2),U=P[0],B=P[1],D=Object(c.useState)(-1),J=Object(d.a)(D,2),q=J[0],V=J[1],M=Object(c.useState)(!1),Y=Object(d.a)(M,2),W=Y[0],G=Y[1],z=Object(c.useState)(1),_=Object(d.a)(z,2),K=_[0],X=_[1],ee=Object(c.useState)(!1),te=Object(d.a)(ee,2),ae=te[0],ce=te[1],ne=Object(c.useState)(-1),se=Object(d.a)(ne,2),ie=se[0],le=se[1],oe=new Ge.a;Object(c.useEffect)((function(){re()}),[r,h]),Object(c.useEffect)((function(){var e=Object(w.a)(Object(w.a)({},t),s.previewLocation);b(e.detailPageImages?e.detailPageImages:""),O(e.bannerImage?e.bannerImage:void 0)}),[t]);var re=function(){var e=Object(w.a)(Object(w.a)({},r&&{detailPageImages:r}),{},{bannerImage:h}),a=Object(w.a)(Object(w.a)(Object(w.a)({},t),s.previewLocation),e);i({type:u,payload:a})},de=Object(c.useCallback)((function(e){e.length>0&&(console.log("accpetedFiles :>> ",e),oe.compress(e,{size:.4,quality:1,maxWidth:1920,maxHeight:1080}).then((function(e){var t=e[0],a=Ge.a.convertBase64ToFile(t.data,t.ext);console.log(a),A(a),ue()})))}),[]),be=Object(Ye.a)({onDrop:de,onDropRejected:function(e){console.log(e),Q.showToast(L,"Warning! Cannot upload file because it is not the correct file type! Image must be .jpg or .png")},maxFiles:1,accept:"image/jpeg, image/png"}),je=be.getRootProps,me=be.getInputProps,ue=function(){W&&he(),G(!W)},he=function(){T(""),ce(!1),le(-1),X(1),B(!1),V(-1)};return Object(C.jsxs)("div",{className:"MediaTabView",children:[Object(C.jsx)(Ve,{header:"Media Upload ".concat(t.name?"- "+t.name:""),description:"This section is for uploading image media which can have optional caption text that will be shown with the image.",previousView:N,nextView:y,formId:"mediaForm",showSaveButton:t.isPublished,updatePreview:re,children:Object(C.jsx)("div",{className:"card editDetailCard p-4",children:Object(C.jsxs)("form",{id:"mediaForm",onSubmit:function(e){var a;e.preventDefault(),H(Object(w.a)(Object(w.a)(Object(w.a)({},s.previewLocation),null!==(a=s.previewLocation.bannerImage)&&void 0!==a?a:{bannerImage:null}),{},{_id:s.previewLocation._id}),(function(e,a){if(e&&200===e.status)if(s.bannerImage_pending||s.detailPageImages_pending){var c=[],n={_id:t._id};if(s.bannerImage_pending&&s.bannerImage_pending.file&&(c.push(s.bannerImage_pending.file),n.bannerImage={src:"",alt:t.name+" banner image"}),s.detailPageImages_pending){n.detailPageImages=[];for(var l=0;l<s.detailPageImages_pending.length;l++)c.push(s.detailPageImages_pending[l].file),n.detailPageImages.push({src:"",thumbnail:"",alt:s.detailPageImages_pending[l].alt})}$(c,(function(e,t){if(e){if(n.bannerImage&&(n.bannerImage.src=e[0].data.secure_url,e.shift()),n.detailPageImages){for(var a=0;a<e.length;a++)n.detailPageImages[a].src=e[a].data.secure_url,n.detailPageImages[a].thumbnail=e[a].data.secure_url;n.detailPageImages=n.detailPageImages.concat(r)}Z(n,(function(e,t){e&&200===e.status?(console.log("success"),n.bannerImage&&(O(n.bannerImage),i({type:x,payload:void 0})),n.detailPageImages&&(b(n.detailPageImages),i({type:p,payload:void 0}))):t&&console.log(t)}))}else t&&console.log(t)}))}else Q.showToast(R,"Update Successful!");else a&&console.log(a)}))},children:[Object(C.jsxs)("div",Object(w.a)(Object(w.a)({},je()),{},{className:"dropzone",children:[Object(C.jsx)("input",Object(w.a)({},me())),Object(C.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-around h-100 py-5 bg-light",children:[Object(C.jsx)("i",{className:"fas fa-cloud-upload-alt largeText"}),Object(C.jsx)("h3",{children:"Drop Files Here"}),Object(C.jsx)("p",{className:"text-secondary fw-bold",children:"File types must be .jpg or .png"}),Object(C.jsx)("button",{type:"button",className:"btn btn-outline-primary",children:"Browse"})]})]})),(s.detailPageImages_pending&&s.detailPageImages_pending.length>0||s.bannerImage_pending)&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h5",{className:"mt-5",children:"Images Pending Save"}),Object(C.jsxs)("p",{children:["The following images will be uploaded once the location is saved with the ",Object(C.jsx)("b",{children:"Save"})," button below. Banner images uploaded here will replace any existing banner image shown below."]}),Object(C.jsxs)("div",{className:"row",children:[s.bannerImage_pending&&Object(C.jsx)("div",{className:"col-12 mb-4",children:Object(C.jsx)(ze,{src:s.bannerImage_pending.src,caption:"Banner",hideEdit:!0,onDelete:function(){window.confirm("Are you sure you want to delete this banner image?")&&i({type:x,payload:void 0})}})}),s.detailPageImages_pending&&s.detailPageImages_pending.map((function(e,t){return Object(C.jsx)("div",{className:"col-12 col-lg-6 mb-4",children:Object(C.jsx)(ze,{src:e.src,caption:e.alt,onEdit:function(){return function(e){s.detailPageImages_pending[e]&&(T(s.detailPageImages_pending[e].alt),B(!0),V(e),X(2),ue())}(t)},onDelete:function(){return function(e){if(window.confirm("Are you sure you want to delete this image?")){var t=Object(Te.a)(s.detailPageImages_pending);t.splice(e,1),i({type:p,payload:t})}}(t)}})},t)}))]})]}),Object(C.jsx)("h5",{className:"mt-5",children:"Banner Image"}),Object(C.jsxs)("p",{children:["An optional banner image can be shown at the top of the page for each location. To change this image use the upload tool above and select ",Object(C.jsx)("b",{children:"Banner Image"})," after uploading image. This new image will replace the current banner image once the location is saved."]}),h?Object(C.jsx)("div",{className:"bannerImage card rounded-0 rounded-top",style:{backgroundImage:"url(".concat(h.src,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"30vh"},children:Object(C.jsx)("div",{className:"card-footer position-relative rounded-bottom border",children:Object(C.jsx)("button",{type:"button",className:"btn btn-link text-danger",onClick:function(){window.confirm("Are you sure you want to delete this banner image?")&&O()},children:Object(C.jsx)("i",{className:"fas fa-trash-alt"})})})}):Object(C.jsx)("p",{className:"text-secondary pt-5",children:"Currently no banner image has been added. Upload an image with the upload tool above."}),Object(C.jsx)("h5",{className:"mt-5",children:"Location Images"}),Object(C.jsx)("p",{children:"These are the images that are shown in the slider at the bottom of the location detail page. Here you can edit the caption text, delete images, and upload new ones using the upload tool above."}),!r||r&&0===r.length?Object(C.jsx)("p",{className:"text-secondary pt-5",children:"Currently no location images have been added. Upload images with the upload tool above."}):Object(C.jsx)("div",{className:"row",children:r.map((function(e,t){return Object(C.jsx)("div",{className:"col-12 col-lg-6 mb-4",children:Object(C.jsx)(ze,{src:e.src,caption:e.alt,onEdit:function(){return function(e){r[e]&&(T(r[e].alt),ce(!0),le(e),X(2),ue())}(t)},onDelete:function(){return function(e){if(window.confirm("Are you sure you want to delete this image?")){var t=Object(Te.a)(r);t.splice(e,1),b(t)}}(t)}})},t)}))})]})})}),Object(C.jsxs)(Fe.a,{isOpen:W,toggle:ue,centered:!0,children:[Object(C.jsx)(Pe.a,{children:1===K?"Select Image Type":"".concat(ae?"Edit":"Add"," Caption Text")}),Object(C.jsx)(Ue.a,{children:1===K?Object(C.jsxs)("div",{className:"text-center",children:[Object(C.jsx)("p",{children:"What type of image is this?"}),Object(C.jsx)("button",{className:"btn btn-outline-primary me-3",type:"button",onClick:function(){var e=Object(w.a)(Object(w.a)({},v&&{file:v}),v&&{src:URL.createObjectURL(v)});i({type:x,payload:e}),ue()},children:"Banner Image"}),Object(C.jsx)("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){X(2)},children:"Location Image"})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("label",{htmlFor:"caption",className:"form-label",children:"Image Caption"}),Object(C.jsx)("textarea",{id:"caption",className:"form-control",rows:"4",placeholder:"Enter Caption",value:S,onChange:function(e){return T(e.target.value)}})]})}),Object(C.jsxs)(Re.a,{children:[Object(C.jsx)("button",{className:"btn",onClick:ue,children:"CANCEL"}),2===K&&(ae||U?Object(C.jsx)("button",{className:"btn btn-primary",onClick:function(){if(ae){var e=Object(w.a)(Object(w.a)(Object(w.a)({},S&&{alt:S}),r[ie].src&&{src:r[ie].src}),r[ie].thumbnail&&{thumbnail:r[ie].thumbnail}),t=Object(Te.a)(r);t.splice(ie,1,e),b(t),ue()}else if(U){var a=Object(w.a)(Object(w.a)(Object(w.a)({},S&&{alt:S}),s.detailPageImages_pending[q].src&&{src:s.detailPageImages_pending[q].src}),s.detailPageImages_pending[q].file&&{file:s.detailPageImages_pending[q].file}),c=Object(Te.a)(s.detailPageImages_pending);c.splice(q,1,a),i({type:p,payload:c}),ue()}},children:"Update"}):Object(C.jsx)("button",{className:"btn btn-primary",onClick:function(){var e=Object(w.a)(Object(w.a)(Object(w.a)({},S&&{alt:S}),v&&{file:v}),v&&{src:URL.createObjectURL(v)}),t=[];s.detailPageImages_pending&&(t=Object(Te.a)(s.detailPageImages_pending)),t.push(e),i({type:p,payload:t}),ue()},children:"Add"}))]})]})]})},Ke=function(e){var t=e.location,a=Object(c.useContext)(I),n=Object(d.a)(a,2),s=n[0],i=n[1],l=Object(c.useState)(!1),o=Object(d.a)(l,2),r=o[0],b=o[1],j=Object(c.useState)(""),m=Object(d.a)(j,2),h=m[0],O=m[1],p=Object(c.useState)(""),x=Object(d.a)(p,2),g=x[0],f=x[1],v=Object(c.useState)(""),N=Object(d.a)(v,2),y=N[0],E=N[1],k=Object(c.useState)(!1),S=Object(d.a)(k,2),T=S[0],F=S[1];Object(c.useEffect)((function(){P()}),[r,h,g,y]),Object(c.useEffect)((function(){var e=Object(w.a)(Object(w.a)({},t),s.previewLocation);b(!!e.enablePayments&&e.enablePayments),O(e.paypalEmail?e.paypalEmail:""),f(e.paymentMarkupPercent?(100*e.paymentMarkupPercent).toFixed(1):""),E(e.paymentMarkupFixed?e.paymentMarkupFixed:"")}),[t]);var P=function(){var e=Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)({},null!=r&&{enablePayments:r}),h&&{paypalEmail:h}),g&&{paymentMarkupPercent:(g/100).toFixed(3)}),y&&{paymentMarkupFixed:y}),a=Object(w.a)(Object(w.a)(Object(w.a)({},t),s.previewLocation),e);i({type:u,payload:a})};return Object(C.jsx)("div",{className:"PaymentTabView",children:Object(C.jsx)(Ve,{header:"Payment Processing ".concat(t.name?"- "+t.name:""),description:"This section is for enabling payment processing with PayPal for this location. Optional fees can be set which will be added to each payment that is made.",previousView:A,formId:"paymentForm",showSaveButton:t.isPublished,updatePreview:P,children:Object(C.jsx)("div",{className:"card editDetailCard p-4",children:Object(C.jsxs)("form",{id:"paymentForm",className:"needs-validation ".concat(T?"was-validated":""),onSubmit:function(e){e.target.checkValidity()?(e.preventDefault(),Z(s.previewLocation,(function(e,t){e&&200===e.status?console.log("success!"):t&&console.log(t)}))):(e.preventDefault(),e.stopPropagation()),F(!0)},noValidate:!0,children:[Object(C.jsx)("h5",{children:"Payment Information"}),Object(C.jsx)("p",{children:"Use this section to define if you would like to accept PayPal payment for this location, the associated account, and any fees you would like to charge."}),Object(C.jsx)("div",{className:"d-flex flex-column my-4",children:Object(C.jsxs)("div",{className:"form-check form-switch",children:[Object(C.jsx)("input",{id:"enablePayments",className:"form-check-input",type:"checkbox",checked:r,onChange:function(e){return b(e.target.checked)}}),Object(C.jsx)("label",{className:"form-check-label",htmlFor:"enablePayments",children:"Enable Payments"})]})}),r&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(C.jsx)("label",{className:"form-label requiredField",htmlFor:"paypalEmail",children:"PayPal Primary Email"}),Object(C.jsx)("small",{className:"text-secondary",children:"This is the primary email address associated with the PayPal account you wish to receive payments with."}),Object(C.jsx)("input",{id:"paypalEmail",className:"form-control",type:"email",placeholder:"Enter email",value:h,onChange:function(e){return O(e.target.value)},required:!0}),Object(C.jsx)("div",{className:"invalid-feedback fw-bold",children:"PayPal Primary Email is a required field please enter an email address above."})]}),Object(C.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(C.jsx)("label",{className:"form-label requiredField",htmlFor:"markupPercentage",children:"Markup Percentage"}),Object(C.jsxs)("small",{className:"text-secondary",children:["For each payment sent to you an optional markup percentage can be applied. PayPal charges a 2.9% transaction fee for each payment so if you want to cover that cost you can set it to 2.9%. ",Object(C.jsx)("b",{children:"To set no fee enter 0."})]}),Object(C.jsxs)("div",{className:"input-group",children:[Object(C.jsx)("input",{id:"markupPercentage",className:"form-control",type:"number",placeholder:"Enter Markup Percentage",max:"100",min:"0",step:".1",value:g,onChange:function(e){return f(e.target.value)},required:!0}),Object(C.jsx)("span",{className:"input-group-text",children:"%"}),Object(C.jsx)("div",{className:"invalid-feedback fw-bold",children:"Markup Percentage is a required field please enter a value above."})]})]}),Object(C.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(C.jsx)("label",{className:"form-label requiredField",htmlFor:"markupAmount",children:"Fixed Markup Amount"}),Object(C.jsxs)("small",{className:"text-secondary",children:["For each payment sent to you an optional fixed markup amount can be applied. PayPal charges a 30 cent transaction fee for each payment so if you want to cover that cost you can set it to 30 cents. ",Object(C.jsx)("b",{children:"To set no fee enter 0."})]}),Object(C.jsxs)("div",{className:"input-group",children:[Object(C.jsx)("span",{className:"input-group-text",children:"$"}),Object(C.jsx)("input",{id:"markupAmount",className:"form-control",type:"number",placeholder:"Enter Markup Amount",min:"0",step:".01",value:y,onChange:function(e){return E(e.target.value)},required:!0}),Object(C.jsx)("div",{className:"invalid-feedback fw-bold",children:"Markup Amount is a required field please enter a value above."})]})]})]})]})})})})},Ze=(a(142),function(e){var t=e.location,a=Object(c.useContext)(I),n=Object(d.a)(a,2),s=n[0],i=n[1],l=Object(c.useState)(),o=Object(d.a)(l,2),r=o[0],b=o[1],j=new Ge.a;Object(c.useEffect)((function(){m()}),[r]),Object(c.useEffect)((function(){var e=Object(w.a)(Object(w.a)({},t),s.previewLocation);b(e.thumbnailImage?e.thumbnailImage:void 0)}),[t]);var m=function(){var e={thumbnailImage:r},a=Object(w.a)(Object(w.a)(Object(w.a)({},t),s.previewLocation),e);i({type:u,payload:a})},h=Object(c.useCallback)((function(e){e.length>0&&(console.log("accpetedFiles :>> ",e),j.compress(e,{size:.4,quality:1,maxWidth:300,maxHeight:280}).then((function(e){var a=e[0],c=Ge.a.convertBase64ToFile(a.data,a.ext);console.log(c),i({type:g,payload:{file:c,src:URL.createObjectURL(c),alt:t.name}})})))}),[]),O=Object(Ye.a)({onDrop:h,onDropRejected:function(e){console.log(e),Q.showToast(L,"Warning! Cannot upload file because it is not the correct file type! Image must be .jpg or .png")},maxFiles:1,accept:"image/jpeg, image/png"}),p=O.getRootProps,x=O.getInputProps;return Object(C.jsx)("div",{className:"ThumbnailTabView",children:Object(C.jsx)(Ve,{header:"Thumbnail ".concat(t.name?"- "+t.name:""),description:"This section is for editing the thumbnail image that will be shown on the map view when users click on the marker for this location.",previousView:f,nextView:N,formId:"thumbnailForm",showSaveButton:t.isPublished,updatePreview:m,children:Object(C.jsx)("div",{className:"card editDetailCard p-4",children:Object(C.jsxs)("form",{id:"thumbnailForm",onSubmit:function(e){var a;e.preventDefault(),H(Object(w.a)(Object(w.a)(Object(w.a)({},s.previewLocation),null!==(a=s.previewLocation.thumbnailImage)&&void 0!==a?a:{thumbnailImage:null}),{},{_id:s.previewLocation._id}),(function(e,a){e&&200===e.status?s.thumbnailImage_pending?$([s.thumbnailImage_pending.file],(function(e,a){if(e){var c={_id:t._id,thumbnailImage:{src:e[0].data.secure_url,alt:t.name}};Z(c,(function(e,t){e&&200===e.status?(console.log("Thumbnail Upload Success!"),b(c.thumbnailImage),i({type:g,payload:void 0})):t&&console.log(t)}))}else a&&console.log(a)})):Q.showToast(R,"Update Successful!"):a&&console.log(a)}))},children:[Object(C.jsxs)("div",Object(w.a)(Object(w.a)({},p()),{},{className:"dropzone",children:[Object(C.jsx)("input",Object(w.a)({},x())),Object(C.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-around h-100 py-5 bg-light",children:[Object(C.jsx)("i",{className:"fas fa-cloud-upload-alt largeText"}),Object(C.jsx)("h3",{children:"Drop Files Here"}),Object(C.jsx)("p",{className:"text-secondary fw-bold",children:"File types must be .jpg or .png"}),Object(C.jsx)("button",{type:"button",className:"btn btn-outline-primary",children:"Browse"})]})]})),s.thumbnailImage_pending&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h5",{className:"mt-5",children:"Images Pending Save"}),Object(C.jsxs)("p",{children:["The following images will be uploaded once the location is saved with the ",Object(C.jsx)("b",{children:"Save"})," button below. Thumbnail images uploaded here will replace any existing thumbnail image shown below."]}),Object(C.jsxs)("div",{className:"thumbnailCard card mb-4",children:[Object(C.jsx)("div",{className:"card-body",children:Object(C.jsx)("img",{src:s.thumbnailImage_pending.src,alt:s.thumbnailImage_pending.alt})}),Object(C.jsx)("div",{className:"card-footer",children:Object(C.jsx)("button",{type:"button",className:"btn btn-link text-danger",onClick:function(){window.confirm("Are you sure you want to delete this image?")&&i({type:g,payload:void 0})},children:Object(C.jsx)("i",{className:"fas fa-trash-alt"})})})]})]}),Object(C.jsx)("h5",{className:"mt-5",children:"Thumbnail Image"}),Object(C.jsx)("p",{children:"A thumbnail image can be shown on the map when a location marker is clicked. To change this image use the upload tool above. This new image will replace the current thumbnail image once the location is saved."}),r?Object(C.jsxs)("div",{className:"thumbnailCard card mb-4",children:[Object(C.jsx)("div",{className:"card-body",children:Object(C.jsx)("img",{src:r.src,alt:r.alt})}),Object(C.jsx)("div",{className:"card-footer",children:Object(C.jsx)("button",{type:"button",className:"btn btn-link text-danger",onClick:function(){window.confirm("Are you sure you want to delete this image?")&&b()},children:Object(C.jsx)("i",{className:"fas fa-trash-alt"})})})]}):Object(C.jsx)("p",{className:"text-secondary pt-5",children:"Currently no thumbnail image has been added. Upload an image with the upload tool above."})]})})})})}),He=(a(143),function(e){var t=e.unit;return Object(C.jsx)("div",{className:"UnitCard",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsxs)("div",{className:"card-header d-flex flex-row align-items-center p-2 bg-light",children:[Object(C.jsx)("b",{className:"me-auto",children:t.unitName?t.unitName:"(unnamed)"}),Object(C.jsx)("button",{type:"button",className:"btn btn-link text-secondary",onClick:e.onEditClick,children:Object(C.jsx)("i",{className:"fas fa-pencil-alt"})}),Object(C.jsx)("button",{type:"button",className:"btn btn-link text-danger",onClick:e.onDeleteClick,children:Object(C.jsx)("i",{className:"fas fa-trash-alt"})})]}),e.showAvailable&&Object(C.jsxs)("div",{className:"card-header p-2",children:[Object(C.jsx)("button",{type:"button",className:"availableButton ".concat(t.available?"available":""),onClick:e.onAvailableClick}),Object(C.jsx)("span",{className:"fw-bold ms-3",children:t.available?"Available":"Unavailable"})]}),Object(C.jsxs)("div",{className:"card-body row",children:[Object(C.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(C.jsx)("label",{className:"fw-bold text-secondary",children:"Rent:"}),Object(C.jsx)("span",{className:"ms-3",children:t.monthlyRent?"$".concat(t.monthlyRent):"-"})]}),Object(C.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(C.jsx)("label",{className:"fw-bold text-secondary",children:"Width:"}),Object(C.jsx)("span",{className:"ms-3",children:t.width?"".concat(t.width,"ft"):"-"})]}),Object(C.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(C.jsx)("label",{className:"fw-bold text-secondary",children:"Height:"}),Object(C.jsx)("span",{className:"ms-3",children:t.height?t.height:"-"})]}),Object(C.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(C.jsx)("label",{className:"fw-bold text-secondary",children:"Depth:"}),Object(C.jsx)("span",{className:"ms-3",children:t.depth?"".concat(t.depth,"ft"):"-"})]}),Object(C.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(C.jsx)("label",{className:"fw-bold text-secondary",children:"SQ FT:"}),Object(C.jsx)("span",{className:"ms-3",children:t.squareFeet?"".concat(t.squareFeet,"sqft"):"-"})]}),!e.hideTotal&&Object(C.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(C.jsx)("label",{className:"fw-bold text-secondary",children:"Total #:"}),Object(C.jsx)("span",{className:"ms-3",children:t.numberOfUnitsByType?t.numberOfUnitsByType:"-"})]})]})]})})}),Xe=function(e){var t=e.location,a=Object(c.useContext)(I),n=Object(d.a)(a,2),s=n[0],i=n[1],l=Object(c.useState)(),o=Object(d.a)(l,2),r=o[0],b=o[1],j=Object(c.useState)(),m=Object(d.a)(j,2),h=m[0],O=m[1],p=Object(c.useState)(),x=Object(d.a)(p,2),g=x[0],f=x[1],N=Object(c.useState)(""),y=Object(d.a)(N,2),E=y[0],k=y[1],S=Object(c.useState)(""),T=Object(d.a)(S,2),F=T[0],P=T[1],U=Object(c.useState)(""),R=Object(d.a)(U,2),L=R[0],B=R[1],Q=Object(c.useState)(""),D=Object(d.a)(Q,2),J=D[0],q=D[1],V=Object(c.useState)(""),M=Object(d.a)(V,2),Y=M[0],W=M[1],G=Object(c.useState)(""),z=Object(d.a)(G,2),_=z[0],K=z[1],H=Object(c.useState)(""),X=Object(d.a)(H,2),$=X[0],ee=X[1],te=Object(c.useState)(""),ae=Object(d.a)(te,2),ce=ae[0],ne=ae[1],se=Object(c.useState)(""),ie=Object(d.a)(se,2),le=ie[0],oe=ie[1],re=Object(c.useState)(""),de=Object(d.a)(re,2),be=de[0],je=de[1],me=Object(c.useState)(""),ue=Object(d.a)(me,2),he=ue[0],Oe=ue[1],pe=Object(c.useState)(""),xe=Object(d.a)(pe,2),ge=xe[0],fe=xe[1],ve=Object(c.useState)(""),Ne=Object(d.a)(ve,2),ye=Ne[0],Ae=Ne[1],we=Object(c.useState)(!0),Ee=Object(d.a)(we,2),Ce=Ee[0],ke=Ee[1],Ie=Object(c.useState)(),Se=Object(d.a)(Ie,2),Le=Se[0],Be=Se[1],Qe=Object(c.useState)(),De=Object(d.a)(Qe,2),Je=De[0],qe=De[1],Me=Object(c.useState)(),Ye=Object(d.a)(Me,2),We=Ye[0],Ge=Ye[1],ze=Object(c.useState)(!1),_e=Object(d.a)(ze,2),Ke=_e[0],Ze=_e[1],Xe=Object(c.useState)(!1),$e=Object(d.a)(Xe,2),et=$e[0],tt=$e[1],at=Object(c.useState)(!1),ct=Object(d.a)(at,2),nt=ct[0],st=ct[1],it=Object(c.useState)(-1),lt=Object(d.a)(it,2),ot=lt[0],rt=lt[1],dt=Object(c.useState)(!1),bt=Object(d.a)(dt,2),jt=bt[0],mt=bt[1],ut=Object(c.useState)(!1),ht=Object(d.a)(ut,2),Ot=ht[0],pt=ht[1],xt=Object(c.useState)(-1),gt=Object(d.a)(xt,2),ft=gt[0],vt=gt[1],Nt=Object(c.useState)(1),yt=Object(d.a)(Nt,2),At=yt[0],wt=yt[1],Et=Object(c.useState)(""),Ct=Object(d.a)(Et,2),kt=Ct[0],It=Ct[1],St=Object(c.useState)(!1),Tt=Object(d.a)(St,2),Ft=Tt[0],Pt=Tt[1],Ut=Object(c.useState)(!1),Rt=Object(d.a)(Ut,2),Lt=Rt[0],Bt=Rt[1],Qt=Object(c.useState)(-1),Dt=Object(d.a)(Qt,2),Jt=Dt[0],qt=Dt[1];Object(c.useEffect)((function(){Vt()}),[r,h,g]),Object(c.useEffect)((function(){var e=Object(w.a)(Object(w.a)({},t),s.previewLocation);b(e.unitSummary?e.unitSummary:""),O(e.units?e.units:""),f(e.extras?e.extras:"")}),[t]);var Vt=function(){var e=Object(w.a)(Object(w.a)(Object(w.a)({},r&&{unitSummary:r}),h&&{units:h}),g&&{extras:g}),a=Object(w.a)(Object(w.a)(Object(w.a)({},t),s.previewLocation),e);i({type:u,payload:a})},Mt=function(){et&&Yt(),tt(!et)},Yt=function(){k(""),P(""),B(""),q(""),W(""),K(""),ee(""),st(!1),rt(-1)},Wt=function(){jt&&Gt(),mt(!jt)},Gt=function(){ne(""),oe(""),je(""),Oe(""),fe(""),Ae(""),pt(!1),vt(-1),It(""),setTimeout((function(){wt(1)}),500)},zt=function(){Ft&&_t(),Pt(!Ft)},_t=function(){Be(""),qe(""),Ge(""),Bt(!1),qt(-1)};return Object(C.jsxs)("div",{className:"UnitTabView",children:[Object(C.jsx)(Ve,{header:"Unit and Pricing Information ".concat(t.name?"- "+t.name:""),description:"This section is for editing unit information including a summary of the units at this location and a list of what units are currently available.",previousView:v,nextView:A,formId:"unitForm",showSaveButton:t.isPublished,updatePreview:Vt,children:Object(C.jsx)("div",{className:"card editDetailCard p-4 my-4",children:Object(C.jsxs)("form",{id:"unitForm",className:"needs-validation ".concat(Ke?"was-validated":""),onSubmit:function(e){e.target.checkValidity()?(e.preventDefault(),Z(s.previewLocation,(function(e,t){e&&200===e.status?console.log("success!"):t&&console.log(t)}))):(e.preventDefault(),e.stopPropagation()),Ze(!0)},noValidate:!0,children:[Object(C.jsx)("h5",{children:"Unit Summary"}),Object(C.jsx)("p",{children:"Use this section for filling out the unit summary information. This is a description of what types and sizes of units are at this location."}),Object(C.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(C.jsxs)("small",{className:"text-secondary",children:["Add a unit type with the ",Object(C.jsx)("b",{children:"Add Unit"})," button. All unit types will be displayed below."]}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{type:"button",className:"btn btn-outline-primary",onClick:Mt,children:"Add Unit"})}),!r||r&&0===r.length?Object(C.jsxs)("p",{className:"text-secondary pt-5",children:["Currently no unit types have been added. Create units with the ",Object(C.jsx)("b",{children:"Add Unit"})," button above."]}):Object(C.jsx)("div",{className:"row",children:r.map((function(e,t){return Object(C.jsx)("div",{className:"my-2 col-12 col-lg-6 col-xl-4",children:Object(C.jsx)(He,{unit:e,onEditClick:function(){return function(e){r[e]&&(k(r[e].unitName),P(r[e].monthlyRent),B(r[e].width),q(r[e].height),W(r[e].depth),K(r[e].squareFeet),ee(r[e].numberOfUnitsByType),st(!0),rt(e),Mt())}(t)},onDeleteClick:function(){return function(e){if(window.confirm("Are you sure you want to delete this unit summary?")){var t=Object(Te.a)(r);t.splice(e,1),b(t)}}(t)}})},t)}))})]}),Object(C.jsx)("h5",{children:"Unit Availabilities"}),Object(C.jsx)("p",{children:"Use this section for showing which units are currently available."}),Object(C.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(C.jsxs)("small",{className:"text-secondary",children:["Add an available unit with the ",Object(C.jsx)("b",{children:"Add Availability"})," button. All available unit added will be displayed below."]}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{type:"button",className:"btn btn-outline-primary",onClick:Wt,children:"Add Availability"})}),!h||h&&0===h.length?Object(C.jsxs)("p",{className:"text-secondary pt-5",children:["Currently no available units have been added. Create availabilities with the ",Object(C.jsx)("b",{children:"Add Availability"})," button above."]}):Object(C.jsxs)("div",{className:"row",children:[Object(C.jsxs)("p",{className:"p-4 mt-3 bg-warning rounded-3",children:[Object(C.jsx)("b",{className:"fst-italic",children:"Note:"})," You can quick change the availability of a unit by clicking the ",Object(C.jsx)("b",{className:"text-danger",children:"red"})," or ",Object(C.jsx)("b",{className:"text-success",children:"green"})," circular indicators. Setting a unit as ",Object(C.jsx)("i",{children:"Unavailable"})," will remove it from the list of availabilities without deleting the record."]}),h.map((function(e,t){return Object(C.jsx)("div",{className:"my-2 col-12 col-lg-6 col-xl-4",children:Object(C.jsx)(He,{unit:e,hideTotal:!0,showAvailable:!0,onEditClick:function(){return function(e){h[e]&&(ne(h[e].unitName),oe(h[e].monthlyRent),je(h[e].width),Oe(h[e].height),fe(h[e].depth),Ae(h[e].squareFeet),ke(h[e].available),pt(!0),vt(e),wt(2),Wt())}(t)},onDeleteClick:function(){return function(e){if(window.confirm("Are you sure you want to delete this unit availability?")){var t=Object(Te.a)(h);t.splice(e,1),O(t)}}(t)},onAvailableClick:function(){return function(e){if(h[e]){var t=Object(Te.a)(h);t[e].available=!t[e].available,O(t)}}(t)}})},t)}))]})]}),Object(C.jsx)("h5",{children:"Pricing Extras"}),Object(C.jsx)("p",{children:"Use this section to list extra charges, services, features that are available at this location such as additional storage, key replacements, parking etc."}),Object(C.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(C.jsxs)("small",{className:"text-secondary",children:["Add a pricing extra with the ",Object(C.jsx)("b",{children:"Add Extra"})," button. All pricing extras will be displayed below."]}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{type:"button",className:"btn btn-outline-primary",onClick:zt,children:"Add Extra"})}),!g||g&&0===g.length?Object(C.jsxs)("p",{className:"text-secondary pt-5",children:["Currently no pricing extras have been added. Create pricing extras with the ",Object(C.jsx)("b",{children:"Add Extra"})," button above."]}):Object(C.jsx)("div",{className:"row",children:g.map((function(e,t){return Object(C.jsx)("div",{className:"my-2 col-12 col-xl-6",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsxs)("div",{className:"card-header d-flex flex-row align-items-center p-2 bg-light",children:[Object(C.jsx)("b",{className:"me-auto",children:"Pricing Extra"}),Object(C.jsx)("button",{type:"button",className:"btn btn-link text-secondary",onClick:function(){return function(e){g[e]&&(Be(g[e].price),qe(g[e].frequency),Ge(g[e].details),Bt(!0),qt(e),zt())}(t)},children:Object(C.jsx)("i",{className:"fas fa-pencil-alt"})}),Object(C.jsx)("button",{type:"button",className:"btn btn-link text-danger",onClick:function(){return function(e){if(window.confirm("Are you sure you want to delete this pricing extra?")){var t=Object(Te.a)(g);t.splice(e,1),f(t)}}(t)},children:Object(C.jsx)("i",{className:"fas fa-trash-alt"})})]}),Object(C.jsxs)("div",{className:"card-body row",children:[Object(C.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(C.jsx)("label",{className:"fw-bold text-secondary",children:"Price:"}),Object(C.jsx)("span",{className:"ms-3",children:e.price?"$".concat(e.price):"-"})]}),Object(C.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(C.jsx)("label",{className:"fw-bold text-secondary",children:"Frequency:"}),Object(C.jsx)("span",{className:"ms-3",children:e.frequency?"".concat(e.frequency):"-"})]}),Object(C.jsxs)("div",{className:"col-12",children:[Object(C.jsx)("label",{className:"fw-bold text-secondary",children:"Details:"}),Object(C.jsx)("span",{className:"ms-3",children:e.details?e.details:"-"})]})]})]})},t)}))})]})]})})}),Object(C.jsxs)(Fe.a,{isOpen:et,toggle:Mt,size:"lg",centered:!0,children:[Object(C.jsx)(Pe.a,{children:nt?"Editing Unit Type":"Create A Unit Type"}),Object(C.jsxs)(Ue.a,{children:[Object(C.jsxs)("div",{className:"row my-3 align-items-end",children:[Object(C.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"unitName",children:"Unit Name"}),Object(C.jsx)("small",{className:"text-secondary d-block",children:"Name that describes this unit like 'Small Unit' or 'Large Unit'."}),Object(C.jsx)("input",{id:"unitName",className:"form-control",type:"text",placeholder:"Enter Unit Name",value:E,onChange:function(e){return k(e.target.value)}})]}),Object(C.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(C.jsx)("label",{htmlFor:"monthlyRent",className:"form-label",children:"Monthly Rent"}),Object(C.jsxs)("div",{className:"input-group",children:[Object(C.jsx)("span",{className:"input-group-text",children:"$"}),Object(C.jsx)("input",{id:"monthlyRent",className:"form-control",type:"Number",placeholder:"Enter Monthly Rent",min:0,step:".01",value:F,onChange:function(e){return P(e.target.value)}})]})]})]}),Object(C.jsxs)("div",{className:"row my-3 align-items-end",children:[Object(C.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(C.jsx)("label",{htmlFor:"width",className:"form-label",children:"Unit Width"}),Object(C.jsxs)("small",{className:"text-secondary d-block",children:["Width in feet (a ",Object(C.jsx)("b",{children:"ft"})," symbol will be added to the value entered)"]}),Object(C.jsx)("input",{id:"width",className:"form-control",type:"Number",placeholder:"Enter Width",min:0,value:L,onChange:function(e){return B(e.target.value)}})]}),Object(C.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(C.jsx)("label",{htmlFor:"height",className:"form-label",children:"Unit Height"}),Object(C.jsx)("input",{id:"height",className:"form-control",type:"text",placeholder:"Enter Height",value:J,onChange:function(e){return q(e.target.value)}})]})]}),Object(C.jsxs)("div",{className:"row my-3 align-items-end",children:[Object(C.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(C.jsx)("label",{htmlFor:"depth",className:"form-label",children:"Unit Depth"}),Object(C.jsxs)("small",{className:"text-secondary d-block",children:["Depth in feet (a ",Object(C.jsx)("b",{children:"ft"})," symbol will be added to the value entered)"]}),Object(C.jsx)("input",{id:"depth",className:"form-control",type:"Number",placeholder:"Enter Depth",min:0,value:Y,onChange:function(e){return W(e.target.value)}})]}),Object(C.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(C.jsx)("label",{htmlFor:"sqft",className:"form-label",children:"Square Feet"}),Object(C.jsxs)("small",{className:"text-secondary d-block",children:["Square footage (a ",Object(C.jsx)("b",{children:"sqft"})," symbol will be added to the value entered)"]}),Object(C.jsx)("input",{id:"sqft",className:"form-control",type:"Number",placeholder:"Enter Square Feet",min:0,value:_,onChange:function(e){return K(e.target.value)}})]})]}),Object(C.jsx)("div",{className:"row my-3 align-items-end",children:Object(C.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(C.jsx)("label",{htmlFor:"numberOfUnits",className:"form-label",children:"Number of Units"}),Object(C.jsx)("small",{className:"text-secondary d-block",children:"The total number of these units that are at this location."}),Object(C.jsx)("input",{id:"numberOfUnits",className:"form-control",type:"Number",placeholder:"Enter # Of Units",min:0,value:$,onChange:function(e){return ee(e.target.value)}})]})})]}),Object(C.jsxs)(Re.a,{children:[Object(C.jsx)("button",{className:"btn",onClick:Mt,children:"CANCEL"}),nt?Object(C.jsx)("button",{className:"btn btn-primary",onClick:function(){var e=Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)({},E&&{unitName:E}),F&&{monthlyRent:F}),L&&{width:L}),J&&{height:J}),Y&&{depth:Y}),_&&{squareFeet:_}),$&&{numberOfUnitsByType:$}),t=Object(Te.a)(r);t.splice(ot,1,e),b(t),Mt()},children:"Update"}):Object(C.jsx)("button",{className:"btn btn-primary",onClick:function(){var e=Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)({},E&&{unitName:E}),F&&{monthlyRent:F}),L&&{width:L}),J&&{height:J}),Y&&{depth:Y}),_&&{squareFeet:_}),$&&{numberOfUnitsByType:$});b(r.concat(e)),Mt()},children:"Create"})]})]}),Object(C.jsxs)(Fe.a,{isOpen:jt,toggle:Wt,size:"lg",centered:!0,children:[Object(C.jsx)(Pe.a,{children:Ot?"Editing Unit":"Add A New Availability"}),Object(C.jsxs)(Ue.a,{children:[1===At&&Object(C.jsxs)("div",{className:"row",children:[Object(C.jsxs)("div",{className:"col-12 col-lg-6 d-flex flex-column border-end border-dark",children:[Object(C.jsx)("p",{children:"You can add available unit information based on a unit previously created by selecting the unit name in the dropdown below."}),Object(C.jsx)("label",{htmlFor:"existingUnit",className:"form-label text-secondary",children:"Existing Unit"}),Object(C.jsxs)("div",{className:"input-group",children:[Object(C.jsxs)("select",{id:"existingUnit",className:"form-select",value:kt,onChange:function(e){return It(e.target.value)},children:[Object(C.jsx)("option",{value:"",selected:!0,children:"Select Unit"}),r&&r.map((function(e,t){return Object(C.jsx)("option",{value:JSON.stringify(e),children:e.unitName},t)}))]}),Object(C.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){var e=JSON.parse(kt);wt(2),ne(e.unitName?e.unitName:""),oe(e.monthlyRent?e.monthlyRent:""),je(e.width?e.width:""),Oe(e.height?e.height:""),fe(e.depth?e.depth:""),Ae(e.squareFeet?e.squareFeet:"")},disabled:""===kt,children:"Next"})]})]}),Object(C.jsx)("div",{className:"d-lg-none text-center mt-5",children:"or"}),Object(C.jsxs)("div",{className:"col-12 col-lg-6 d-flex flex-column text-center justify-content-center mt-5 mt-lg-0",children:[Object(C.jsx)("p",{children:"Enter values for unit manually"}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return wt(2)},children:"Enter Manually"})})]})]}),2===At&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"row my-3 align-items-end",children:[Object(C.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"unitName",children:"Unit Name"}),Object(C.jsx)("small",{className:"text-secondary d-block",children:"Can be the same as the unit summary name or the specific name/number of this unit like 'Unit 101'."}),Object(C.jsx)("input",{id:"unitName",className:"form-control",type:"text",placeholder:"Enter Unit Name",value:ce,onChange:function(e){return ne(e.target.value)}})]}),Object(C.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(C.jsx)("label",{htmlFor:"monthlyRent",className:"form-label",children:"Monthly Rent"}),Object(C.jsxs)("div",{className:"input-group",children:[Object(C.jsx)("span",{className:"input-group-text",children:"$"}),Object(C.jsx)("input",{id:"monthlyRent",className:"form-control",type:"Number",placeholder:"Enter Monthly Rent",min:0,step:".01",value:le,onChange:function(e){return oe(e.target.value)}})]})]})]}),Object(C.jsxs)("div",{className:"row my-3 align-items-end",children:[Object(C.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(C.jsx)("label",{htmlFor:"width",className:"form-label",children:"Unit Width"}),Object(C.jsxs)("small",{className:"text-secondary d-block",children:["Width in feet (a ",Object(C.jsx)("b",{children:"ft"})," symbol will be added to the value entered)"]}),Object(C.jsx)("input",{id:"width",className:"form-control",type:"Number",placeholder:"Enter Width",min:0,value:be,onChange:function(e){return je(e.target.value)}})]}),Object(C.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(C.jsx)("label",{htmlFor:"height",className:"form-label",children:"Unit Height"}),Object(C.jsx)("input",{id:"height",className:"form-control",type:"text",placeholder:"Enter Height",value:he,onChange:function(e){return Oe(e.target.value)}})]})]}),Object(C.jsxs)("div",{className:"row my-3 align-items-end",children:[Object(C.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(C.jsx)("label",{htmlFor:"depth",className:"form-label",children:"Unit Depth"}),Object(C.jsxs)("small",{className:"text-secondary d-block",children:["Depth in feet (a ",Object(C.jsx)("b",{children:"ft"})," symbol will be added to the value entered)"]}),Object(C.jsx)("input",{id:"depth",className:"form-control",type:"Number",placeholder:"Enter Depth",min:0,value:ge,onChange:function(e){return fe(e.target.value)}})]}),Object(C.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(C.jsx)("label",{htmlFor:"sqft",className:"form-label",children:"Square Feet"}),Object(C.jsxs)("small",{className:"text-secondary d-block",children:["Square footage (a ",Object(C.jsx)("b",{children:"sqft"})," symbol will be added to the value entered)"]}),Object(C.jsx)("input",{id:"sqft",className:"form-control",type:"Number",placeholder:"Enter Square Feet",min:0,value:ye,onChange:function(e){return Ae(e.target.value)}})]})]})]})]}),Object(C.jsxs)(Re.a,{children:[Object(C.jsx)("button",{className:"btn",onClick:Wt,children:"CANCEL"}),2===At&&(Ot?Object(C.jsx)("button",{className:"btn btn-primary",onClick:function(){var e=Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)({},ce&&{unitName:ce}),le&&{monthlyRent:le}),be&&{width:be}),he&&{height:he}),ge&&{depth:ge}),ye&&{squareFeet:ye}),Ce&&{available:Ce}),t=Object(Te.a)(h);t.splice(ft,1,e),O(t),Wt()},children:"Update"}):Object(C.jsx)("button",{className:"btn btn-primary",onClick:function(){var e=Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)({},ce&&{unitName:ce}),le&&{monthlyRent:le}),be&&{width:be}),he&&{height:he}),ge&&{depth:ge}),ye&&{squareFeet:ye}),{},{available:!0});O(h.concat(e)),Wt()},children:"Add"}))]})]}),Object(C.jsxs)(Fe.a,{isOpen:Ft,toggle:zt,size:"lg",centered:!0,children:[Object(C.jsx)(Pe.a,{children:Lt?"Editing Extra":"Create A New Pricing Extra"}),Object(C.jsx)(Ue.a,{children:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"row my-3 align-items-end",children:[Object(C.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(C.jsx)("label",{className:"form-label",htmlFor:"price",children:"Price"}),Object(C.jsx)("small",{className:"text-secondary d-block",children:"The price / cost of this extra."}),Object(C.jsxs)("div",{className:"input-group",children:[Object(C.jsx)("span",{className:"input-group-text",children:"$"}),Object(C.jsx)("input",{id:"price",className:"form-control",type:"Number",placeholder:"Enter Price",min:0,step:".01",value:Le,onChange:function(e){return Be(e.target.value)}})]})]}),Object(C.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(C.jsx)("label",{htmlFor:"frequency",className:"form-label",children:"Pricing Frequency"}),Object(C.jsx)("small",{className:"text-secondary d-block",children:"How often the charge is due."}),Object(C.jsx)("small",{className:"text-secondary",children:"Example: monthly, yearly, one time etc."}),Object(C.jsx)("input",{id:"frequency",className:"form-control",type:"text",placeholder:"Enter Pricing Frequency",value:Je,onChange:function(e){return qe(e.target.value)}})]})]}),Object(C.jsx)("div",{className:"row my-3 align-items-end",children:Object(C.jsxs)("div",{className:"col-12",children:[Object(C.jsx)("label",{htmlFor:"details",className:"form-label",children:"Details"}),Object(C.jsx)("small",{className:"text-secondary d-block",children:"Explain what this charge is and the details associated with it."}),Object(C.jsx)("textarea",{id:"details",className:"form-control",rows:"4",placeholder:"Enter Details",value:We,onChange:function(e){return Ge(e.target.value)}})]})})]})}),Object(C.jsxs)(Re.a,{children:[Object(C.jsx)("button",{className:"btn",onClick:zt,children:"CANCEL"}),Lt?Object(C.jsx)("button",{className:"btn btn-primary",onClick:function(){var e=Object(w.a)(Object(w.a)(Object(w.a)({},Le&&{price:Le}),Je&&{frequency:Je}),We&&{details:We}),t=Object(Te.a)(g);t.splice(Jt,1,e),f(t),zt()},children:"Update"}):Object(C.jsx)("button",{className:"btn btn-primary",onClick:function(){var e=Object(w.a)(Object(w.a)(Object(w.a)({},Le&&{price:Le}),Je&&{frequency:Je}),We&&{details:We});f(g.concat(e)),zt()},children:"Create"})]})]})]})},$e=function(){var e=Object(r.h)(),t=Object(r.g)(),a=e.pathname.split("/location/")[1],n=Object(c.useState)({}),s=Object(d.a)(n,2),i=s[0],l=s[1],o=Object(c.useContext)(I),b=Object(d.a)(o,2),j=b[0],h=b[1];return Object(c.useEffect)((function(){return K(a,(function(e,a){e&&200===e.status?l(e.data):(console.log(a),401===a.response.status&&t.push("/locations"))})),function(){setTimeout((function(){h({type:u,payload:{}}),h({type:p,payload:void 0}),h({type:x,payload:void 0})}),1e3),h({type:m,payload:f})}}),[]),Object(C.jsxs)("div",{className:"LocationEdit",children:[j.tabView===f&&Object(C.jsx)(Me,{location:i}),j.tabView===v&&Object(C.jsx)(Ze,{location:i}),j.tabView===N&&Object(C.jsx)(Xe,{location:i}),j.tabView===A&&Object(C.jsx)(_e,{location:i}),j.tabView===y&&Object(C.jsx)(Ke,{location:i})]})},et=a(33);a(144);function tt(){var e=Object(r.h)().pathname;return Object(c.useEffect)((function(){document.getElementById("mainContent").scrollTo(0,0)}),[e]),null}var at=function(){Object(c.useEffect)((function(){Q.addToastListener((function(c,s){var i;(i={},Object(l.a)(i,U,e),Object(l.a)(i,R,t),Object(l.a)(i,L,a),Object(l.a)(i,B,n),i)[c](s)}))}),[]);var e=function(e){return et.b.info(e)},t=function(e){return et.b.success(e)},a=function(e){return et.b.warning(e)},n=function(e){e&&et.b.error("".concat(e.status," ").concat(e.statusText,": ").concat(e.data))};return Object(C.jsxs)(S,{children:[Object(C.jsx)("div",{className:"App lightTheme",children:Object(C.jsx)(o.a,{children:Object(C.jsxs)("div",{className:"row m-0",children:[Object(C.jsx)(r.b,{path:"/",render:function(e){return"/login"!==e.location.pathname&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{className:"d-none d-md-block col-2 p-0",children:Object(C.jsx)(ve,{})}),Object(C.jsx)("div",{className:"d-md-none",children:Object(C.jsx)(Ie,{})})]})}}),Object(C.jsxs)("div",{id:"mainContent",className:"col mainContent",children:[Object(C.jsx)(tt,{}),Object(C.jsxs)(r.d,{children:[Object(C.jsx)(r.b,{path:"/",exact:!0,render:function(e){return Object(C.jsx)(r.a,{to:"/dashboard"})}}),Object(C.jsx)(r.b,{path:"/login",exact:!0,component:oe}),Object(C.jsx)(me,{path:"/dashboard",exact:!0,children:Object(C.jsx)(re,{})}),Object(C.jsx)(me,{path:"/locations",exact:!0,children:Object(C.jsx)(fe,{})}),Object(C.jsx)(me,{path:"/location/:slug",children:Object(C.jsx)($e,{})}),Object(C.jsx)(me,{path:"/users",exact:!0,children:Object(C.jsx)(Se,{})}),Object(C.jsx)(me,{path:"/settings",exact:!0,children:Object(C.jsx)(ue,{})}),Object(C.jsx)(r.b,{path:"*",exact:!0,component:de})]})]})]})})}),Object(C.jsx)(et.a,{})]})},ct=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,168)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),s(e),i(e)}))};a(145);i.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(at,{})}),document.getElementById("root")),ct()},82:function(e,t,a){},83:function(e,t,a){}},[[146,1,2]]]);
//# sourceMappingURL=main.f13c9971.chunk.js.map