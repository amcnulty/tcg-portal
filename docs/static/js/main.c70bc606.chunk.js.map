{"version":3,"sources":["context/ActionTypes.js","shared/Constants.js","context/Reducer.js","context/Store.js","util/helpers.js","util/API.js","components/companyLogo/lightLogo.svg","components/companyLogo/lightLogoTransparent.svg","components/companyLogo/lightLogoTransparentTextOnly.svg","components/companyLogo/squareLightTransparent.svg","components/companyLogo/darkLogo.svg","components/companyLogo/darkLogoTransparent.svg","components/companyLogo/squareDarkTransparent.svg","components/companyLogo/CompanyLogo.js","routes/login/Login.js","routes/dashboard/Dashboard.js","routes/NotFound/NotFound.js","components/privateRoute/PrivateRoute.js","routes/settings/Settings.js","components/locationCard/LocationCard.js","components/locationCard/default.png","routes/locations/Locations.js","shared/toolbar/Toolbar.js","shared/mobileHeader/MobileHeader.js","routes/users/Users.js","components/coordinatePicker/CoordinatePicker.js","components/tabView/TabView.js","components/generalTabView/GeneralTabView.js","components/imageCard/ImageCard.js","components/mediaTabView/MediaTabView.js","components/paymentTabView/PaymentTabView.js","components/thumbnailTabView/ThumbnailTabView.js","components/unitCard/UnitCard.js","components/unitTabView/UnitTabView.js","routes/locations/locationEdit/LocationEdit.js","components/scrollToTop/ScrollToTop.js","App.js","reportWebVitals.js","index.js"],"names":["SET_USER","DELETE_USER","SET_TABVIEW","UPDATE_PREVIEW","OPEN_PREVIEW","RESET_PREVIEW","SET_DETAIL_PAGE_IMAGES_PENDING","SET_BANNER_IMAGE_PENDING","TAB_GENERAL","TAB_THUMBNAIL","TAB_UNIT","TAB_PAYMENT","TAB_MEDIA","Reducer","state","action","type","currentUser","payload","tabView","previewLocation","openPreview","detailPageImages_pending","bannerImage_pending","initialState","undefined","AppContext","createContext","Store","props","useReducer","dispatch","Provider","value","children","tabViewMap","TOAST_TYPES","HELPERS","getTabNameFromTabView","listenerFunction","addToastListener","listener","this","showToast","message","baseUrl","config","withCredentials","GET","endpoint","cb","successToastData","suppressErrorToast","axios","get","then","res","err","response","POST","data","post","PUT","put","API","req","id","files","promiseArray","i","length","formData","FormData","append","UPLOAD_PRESET","API_KEY","Date","now","push","CLOUD_NAME","headers","Promise","all","catch","CompanyLogo","textOnly","className","src","LightLogoTransparentTextOnlySVG","alt","square","dark","SquareDarkTransparentSVG","SquareLightTransparentSVG","transparent","DarkLogoTransparentSVG","DarkLogoSVG","LightLogoTransparentSVG","LightLogoSVG","Login","useState","redirectToReferrer","setRedirectToReferrer","username","setUsername","password","setPassword","useContext","locationState","useLocation","to","from","onSubmit","event","preventDefault","status","console","log","htmlFor","onChange","e","target","Dashboard","locations","setLocations","users","setUsers","useEffect","firstName","isAdmin","NotFound","PrivateRoute","rest","renderChildren","setRenderChildren","location","pathname","path","render","Settings","LocationCard","dropdownOpen","setDropdownOpen","imageSrc","thumbnailImage","name","style","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","minHeight","addressFirstLine","addressSecondLine","_id","Dropdown","isOpen","toggle","prevState","DropdownToggle","tag","DropdownMenu","DropdownItem","divider","Locations","maxLocationAllowance","href","map","Toolbar","history","useHistory","isActive","isTabActive","startsWith","onClick","MobileHeader","setIsOpen","Navbar","light","expand","NavbarBrand","Link","NavbarToggler","Collapse","navbar","Nav","NavItem","NavLink","Users","EventComponent","useMapEvents","zoomend","setZoom","getZoom","click","handleClick","latlng","CoordinatePicker","zoom","markerLocation","setMarkerLocation","onCoordinateSelect","MapContainer","center","scrollWheelZoom","latLng","lat","lng","TileLayer","attribution","url","opacity","Marker","position","TabView","previewModal","setPreviewModal","previewHref","setPreviewHref","JSON","stringify","togglePreviewModal","handleTabViewNavClick","header","description","showSaveButton","form","formId","updatePreview","previousView","nextView","Modal","ModalHeader","ModalBody","ModalFooter","GeneralTabView","setName","slug","setSlug","setAddressFirstLine","setAddressSecondLine","coordinatesFromMap","setCoordinatesFromMap","setLat","long","setLong","shortDescription","setShortDescription","longDescription","setLongDescription","currentFeature","setCurrentFeature","features","setFeatures","contactName","setContactName","contactPhone","setContactPhone","contactEmail","setContactEmail","wasValidated","setWasValidated","slugErrorMessage","setSlugErrorMessage","locationWithChanges","coordinates","modal","setModal","isPublished","checkValidity","elements","namedItem","setCustomValidity","stopPropagation","noValidate","placeholder","required","test","max","min","step","maxLength","rows","feature","index","window","confirm","newFeatures","splice","pattern","size","disabled","ImageCard","caption","onDelete","hideEdit","onEdit","MediaTabView","detailPageImages","setDetailPageImages","bannerImage","setBannerImage","currentImage","setCurrentImage","currentCaption","setCurrentCaption","isEditing_pending","setIsEditing_pending","editingIndex_pending","setEditingIndex_pending","captionModal","setCaptionModal","captionModalPage","setCaptionModalPage","isEditing","setIsEditing","editingIndex","setEditingIndex","compress","Compress","onDrop","useCallback","acceptedFiles","quality","maxWidth","maxHeight","resizedimage","resizedFile","convertBase64ToFile","ext","toggleCaptionModal","useDropzone","onDropRejected","maxFiles","accept","getRootProps","getInputProps","resetCaptionModal","locationImageRequest","file","thumbnail","secure_url","shift","concat","image","handlePendingEdit","newDetailPageImages_pending","handlePendingDelete","height","handleEdit","newDetailPageImages","handleDelete","centered","newBannerImage","URL","createObjectURL","newDetailPageImage","PaymentTabView","enablePayments","setEnablePayments","paypalEmail","setPaypalEmail","markupPercentage","setMarkupPercentage","markupAmount","setMarkupAmount","paymentMarkupPercent","toFixed","paymentMarkupFixed","checked","ThumbnailTabView","UnitCard","unit","unitName","onEditClick","onDeleteClick","showAvailable","available","onAvailableClick","monthlyRent","width","depth","squareFeet","hideTotal","numberOfUnitsByType","UnitTabView","unitSummary","setUnitSummary","units","setUnits","extras","setExtras","unitName_create","setUnitName_create","monthlyRent_create","setMonthlyRent_create","width_create","setWidth_create","height_create","setHeight_create","depth_create","setDepth_create","sqft_create","setSqft_create","numberOfUnits_create","setNumberOfUnits_create","unitName_available","setUnitName_available","monthlyRent_available","setMonthlyRent_available","width_available","setWidth_available","height_available","setHeight_available","depth_available","setDepth_available","sqft_available","setSqft_available","isAvailable_available","setIsAvailable_available","price_extra","setPrice_extra","frequency_extra","setFrequency_extra","details_extra","setDetails_extra","unitSummaryModal","setUnitSummaryModal","isEditing_summary","setIsEditing_summary","editingIndex_summary","setEditingIndex_summary","unitAvailableModal","setUnitAvailableModal","isEditing_available","setIsEditing_available","editingIndex_available","setEditingIndex_available","availableModalPage","setAvailableModalPage","existingUnit","setExistingUnit","extrasModal","setExtrasModal","isEditing_extra","setIsEditing_extra","editingIndex_extra","setEditingIndex_extra","toggleUnitSummaryModal","resetUnitSummaryModal","toggleUnitAvailableModal","resetUnitAvailableModal","setTimeout","toggleExtrasModal","resetExtrasModal","handleEditUnitSummary","newUnitSummarys","handleDeleteUnitSummary","handleEditUnitAvailable","newUnits","handleDeleteUnitAvailable","handleAvailableClick","extra","price","frequency","details","handleEditExtra","newExtras","handleDeleteExtra","newUnit","selected","parse","newExtra","LocationEdit","routeLocation","locationId","split","setLocation","ScrollToTop","document","getElementById","scrollTo","App","showInfoToast","showSuccessToast","showWarningToast","showErrorToast","toast","info","success","warning","error","statusText","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.c70bc606.chunk.js","sourcesContent":["export const SET_USER = 'SET_USER';\r\nexport const DELETE_USER = 'DELETE_USER';\r\nexport const SET_TABVIEW = 'SET_TABVIEW';\r\nexport const UPDATE_PREVIEW = 'UPDATE_PREVIEW';\r\nexport const OPEN_PREVIEW = 'OPEN_PREVIEW';\r\nexport const RESET_PREVIEW = 'RESET_PREVIEW';\r\nexport const SET_DETAIL_PAGE_IMAGES_PENDING = 'SET_DETAIL_PAGE_IMAGES_PENDING';\r\nexport const SET_BANNER_IMAGE_PENDING = 'SET_BANNER_IMAGE_PENDING';","/**\r\n * General tab view used for name, description, address, contact, coordinates etc.\r\n */\r\nexport const TAB_GENERAL = 'TAB_GENERAL';\r\n/**\r\n * Thumbnail tab view used for editing the location thumbnail.\r\n */\r\nexport const TAB_THUMBNAIL = 'TAB_THUMBNAIL';\r\n/**\r\n * Unit tab view used for unit summary and available units.\r\n */\r\nexport const TAB_UNIT = 'TAB_UNIT';\r\n/**\r\n * Payment tab view used for payment processing information.\r\n */\r\nexport const TAB_PAYMENT = 'TAB_PAYMENT';\r\n/**\r\n * Media tab view used for image uploading.\r\n */\r\nexport const TAB_MEDIA = 'TAB_MEDIA';","import { DELETE_USER, OPEN_PREVIEW, RESET_PREVIEW, SET_BANNER_IMAGE_PENDING, SET_DETAIL_PAGE_IMAGES_PENDING, SET_TABVIEW, SET_USER, UPDATE_PREVIEW } from \"./ActionTypes\"\r\n\r\nconst Reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case SET_USER:\r\n            return {...state, currentUser: action.payload};\r\n        case DELETE_USER:\r\n            return {...state, currentUser: null};\r\n        case SET_TABVIEW:\r\n            return {...state, tabView: action.payload};\r\n        case UPDATE_PREVIEW:\r\n            return {...state, previewLocation: action.payload};\r\n        case OPEN_PREVIEW:\r\n            return {...state, openPreview: true};\r\n        case RESET_PREVIEW:\r\n            return {...state, openPreview: false};\r\n        case SET_DETAIL_PAGE_IMAGES_PENDING:\r\n            return {...state, detailPageImages_pending: action.payload};\r\n        case SET_BANNER_IMAGE_PENDING:\r\n            return {...state, bannerImage_pending: action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default Reducer;","import { createContext, useReducer } from 'react';\r\nimport { TAB_GENERAL } from '../shared/Constants';\r\nimport Reducer from './Reducer';\r\n\r\nconst initialState = {\r\n    currentUser: null,\r\n    tabView: TAB_GENERAL,\r\n    previewLocation: {},\r\n    openPreview: false,\r\n    detailPageImages_pending: undefined,\r\n    bannerImage_pending: undefined\r\n}\r\n\r\nconst Store = (props) => {\r\n    const [state, dispatch] = useReducer(Reducer, initialState);\r\n\r\n    return (\r\n        <AppContext.Provider value={[state, dispatch]}>\r\n            {props.children}\r\n        </AppContext.Provider>\r\n    )\r\n}\r\n\r\nexport const AppContext = createContext(initialState);\r\n\r\nexport default Store;","const tabViewMap = {\r\n    TAB_GENERAL: 'General',\r\n    TAB_THUMBNAIL: 'Thumbnail',\r\n    TAB_UNIT: 'Unit / Pricing',\r\n    TAB_PAYMENT: 'Payment',\r\n    TAB_MEDIA: 'Media'\r\n}\r\n\r\nexport const TOAST_TYPES = {\r\n    INFO: 'INFO',\r\n    SUCCESS: 'SUCCESS',\r\n    WARNING: 'WARNING',\r\n    ERROR: 'ERROR'\r\n}\r\n\r\nexport const HELPERS = {\r\n    /**\r\n     * Gets the display text of the tab view from the given tab view constant.\r\n     * @param {String} tabView The tab view constant from the constants file.\r\n     * @returns The string representation of the tab.\r\n     */\r\n    getTabNameFromTabView: (tabView) => tabViewMap[tabView],\r\n    /**\r\n     * Toast Listener\r\n     */\r\n    listenerFunction: [],\r\n    /**\r\n     * Adds a listener function that will be called to show a toast message.\r\n     * @param {Function} listener Listener function that will get called when a toast needs to be displayed.\r\n     */\r\n    addToastListener(listener) {\r\n        this.listenerFunction = listener;\r\n    },\r\n    /**\r\n     * Shows a toast message of the given type containing the given text.\r\n     * @param {String} type The type of toast to display.\r\n     * @param {String} message The message to show on the toast.\r\n     */\r\n    showToast(type, message) {\r\n        this.listenerFunction(type, message);\r\n    },\r\n}\r\n","import axios from \"axios\"\r\nimport { HELPERS, TOAST_TYPES } from \"./helpers\";\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production') ? 'https://contractorsgarage.com' : 'http://localhost:3005';\r\nconst config = { withCredentials: true };\r\n\r\nconst GET = (endpoint, cb, successToastData, suppressErrorToast) => {\r\n    axios.get(baseUrl + endpoint, config)\r\n    .then(res => {\r\n        successToastData && HELPERS.showToast(successToastData.type, successToastData.message);\r\n        cb(res);\r\n    }, (err) => {\r\n        suppressErrorToast ?? HELPERS.showToast(TOAST_TYPES.ERROR, err.response);\r\n        cb(null, err);\r\n    });\r\n}\r\n\r\nconst POST = (endpoint, data, cb, successToastData, suppressErrorToast) => {\r\n    axios.post(baseUrl + endpoint, data, config)\r\n    .then(res => {\r\n        successToastData && HELPERS.showToast(successToastData.type, successToastData.message);\r\n        cb(res);\r\n    }, (err) => {\r\n        suppressErrorToast ?? HELPERS.showToast(TOAST_TYPES.ERROR, err.response);\r\n        cb(null, err);\r\n    });\r\n}\r\n\r\nconst PUT = (endpoint, data, cb, successToastData, suppressErrorToast) => {\r\n    axios.put(baseUrl + endpoint, data, config)\r\n    .then(res => {\r\n        successToastData && HELPERS.showToast(successToastData.type, successToastData.message);\r\n        cb(res);\r\n    }, (err) => {\r\n        suppressErrorToast ?? HELPERS.showToast(TOAST_TYPES.ERROR, err.response);\r\n        cb(null, err);\r\n    });\r\n}\r\n\r\nconst DELETE = (endpoint, cb, successToastData, suppressErrorToast) => {\r\n    axios.delete(baseUrl + endpoint, config)\r\n    .then(res => {\r\n        successToastData && HELPERS.showToast(successToastData.type, successToastData.message);\r\n        cb(res);\r\n    }, (err) => {\r\n        suppressErrorToast ?? HELPERS.showToast(TOAST_TYPES.ERROR, err.response);\r\n        cb(null, err);\r\n    });\r\n}\r\n\r\nexport const API = {\r\n    /*\r\n    *          !!##########################!!\r\n    *          !!                          !!\r\n    *          !!          Users           !!\r\n    *          !!                          !!\r\n    *          !!##########################!!\r\n    */\r\n    /**\r\n     * Checks if a user is currently logged in with a session.\r\n     * @param {Function} cb Callback function that returns response or error of the server request.\r\n     */\r\n    isLoggedIn(cb) {\r\n        GET('/api/user/is-logged-in', cb, null, true);\r\n    },\r\n    /**\r\n     * Logs a user in and creates a session.\r\n     * @param {Object} req Request data with user credentials.\r\n     * @param {Function} cb Callback function that returns response or error of the server request.\r\n     */\r\n    logIn: (req, cb) => {\r\n        POST('/api/user/login', req, cb);\r\n    },\r\n    /**\r\n     * Logs a user out and destroys the current session.\r\n     * @param {Function} cb Callback function that returns response or error of the server request.\r\n     */\r\n    logOut: (cb) => {\r\n        POST('/api/user/logout', null, cb);\r\n    },\r\n    \r\n    getAllUsers: (cb) => {\r\n        GET('/portal/user/get-all-users', cb, null, true);\r\n    },\r\n    /*\r\n    *          !!##########################!!\r\n    *          !!                          !!\r\n    *          !!        Locations         !!\r\n    *          !!                          !!\r\n    *          !!##########################!!\r\n    */\r\n    getLocations: (cb) => {\r\n        GET('/portal/locations', cb, null, true);\r\n    },\r\n    /**\r\n     * Gets location data for a specific location for the given Id.\r\n     * @param {String} id Id for the specific location.\r\n     * @param {Function} cb Callback function that returns response or error of the server request.\r\n     */\r\n    getLocationById: (id, cb) => {\r\n        GET(`/portal/location/${id}`, cb);\r\n    },\r\n    /**\r\n    * Updates a location with the given payload. Make sure payload is in the form of the location record.\r\n    * @param {Object} data Request payload for updating a location.\r\n    * @param {Function} cb Callback function that returns response or error of the server request.\r\n    */\r\n    updateLocation: (data, cb) => {\r\n        PUT('/portal/location', data, cb, {type: TOAST_TYPES.SUCCESS, message: 'Update Successful!'});\r\n    },\r\n    /**\r\n    * Updates a location with the given payload. Make sure payload is in the form of the location record.\r\n    * This method will not show a toast message on success.\r\n    * @param {Object} data Request payload for updating a location.\r\n    * @param {Function} cb Callback function that returns response or error of the server request.\r\n    */\r\n    updateLocation_hideToast: (data, cb) => {\r\n        PUT('/portal/location', data, cb);\r\n    },\r\n    /**\r\n    * Creates a location preview record.\r\n    * @param {String} data JSON data representing the location object\r\n    * @param {Function} cb Callback function that returns response or error of the server request.\r\n    */\r\n    createPreview: (data, cb) => {\r\n        POST('/portal/location/preview', data, cb, { type: TOAST_TYPES.SUCCESS, message: 'Preview has been generated!'});\r\n    },\r\n    /*\r\n    *          !!##########################!!\r\n    *          !!                          !!\r\n    *          !!          Images          !!\r\n    *          !!                          !!\r\n    *          !!##########################!!\r\n    */\r\n    uploadImages: (files, cb) => {\r\n        const promiseArray = [];\r\n        axios.get(baseUrl + '/portal/image-upload-credentials', config)\r\n        .then(res => {\r\n            for (let i = 0; i < files.length; i++) {\r\n                const tags = ['TCG', 'Portal Upload'];\r\n                const formData = new FormData();\r\n                formData.append('file', files[i]);\r\n                formData.append('tags', tags);\r\n                formData.append('upload_preset', res.data.UPLOAD_PRESET);\r\n                formData.append('api key', res.data.API_KEY);\r\n                formData.append('timestamp', (Date.now() / 1000) | 0);\r\n\r\n                promiseArray.push(axios.post(`https://api.cloudinary.com/v1_1/${res.data.CLOUD_NAME}/image/upload`, formData, {\r\n                    headers: { \"X-Requested-With\": \"XMLHttpRequest\" }\r\n                }));\r\n\r\n            }\r\n            \r\n            return Promise.all(promiseArray);\r\n        })\r\n        .then(cb)\r\n        .catch(err => {\r\n            HELPERS.showToast(TOAST_TYPES.ERROR, 'Error uploading images to server!');\r\n            cb(null, err);\r\n        });\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/lightLogo.83c080a5.svg\";","export default __webpack_public_path__ + \"static/media/lightLogoTransparent.e23d973f.svg\";","export default __webpack_public_path__ + \"static/media/lightLogoTransparentTextOnly.a8cbce4a.svg\";","export default __webpack_public_path__ + \"static/media/squareLightTransparent.cbbe2acf.svg\";","export default __webpack_public_path__ + \"static/media/darkLogo.53731710.svg\";","export default __webpack_public_path__ + \"static/media/darkLogoTransparent.521f807a.svg\";","export default __webpack_public_path__ + \"static/media/squareDarkTransparent.dde4f566.svg\";","import LightLogoSVG from './lightLogo.svg';\r\nimport LightLogoTransparentSVG from './lightLogoTransparent.svg';\r\nimport LightLogoTransparentTextOnlySVG from './lightLogoTransparentTextOnly.svg';\r\nimport SquareLightTransparentSVG from './squareLightTransparent.svg';\r\nimport DarkLogoSVG from './darkLogo.svg';\r\nimport DarkLogoTransparentSVG from './darkLogoTransparent.svg';\r\nimport SquareDarkTransparentSVG from './squareDarkTransparent.svg';\r\n\r\nconst CompanyLogo = (props) => {\r\n    if (props.textOnly) {\r\n        return <img\r\n            className=\"CompanyLogo\"\r\n            src={LightLogoTransparentTextOnlySVG}\r\n            alt=\"Contractors Garage\"\r\n        />\r\n    }\r\n    else if (props.square) {\r\n        return <img\r\n            className=\"CompanyLogo\"\r\n            src={props.dark ? SquareDarkTransparentSVG : SquareLightTransparentSVG}\r\n            alt=\"Contractors Garage\"\r\n        />\r\n    }\r\n    return (\r\n        props.dark\r\n        ?\r\n            <img\r\n                className=\"CompanyLogo\"\r\n                src={props.transparent ? DarkLogoTransparentSVG : DarkLogoSVG}\r\n                alt=\"Contractors Garage\"\r\n            />  \r\n        :\r\n            <img\r\n                className=\"CompanyLogo\"\r\n                src={props.transparent ? LightLogoTransparentSVG : LightLogoSVG}\r\n                alt=\"Contractors Garage\"\r\n            />\r\n    );\r\n};\r\n\r\nexport default CompanyLogo;","import React, { useContext, useState } from 'react';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\nimport { SET_USER } from '../../context/ActionTypes';\r\nimport { AppContext } from '../../context/Store';\r\nimport { API } from '../../util/API';\r\nimport CompanyLogo from '../../components/companyLogo/CompanyLogo';\r\nimport './Login.sass';\r\n\r\nconst Login = () => {\r\n  const [\r\n    redirectToReferrer,\r\n    setRedirectToReferrer\r\n  ] = useState(false);\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [state, dispatch] = useContext(AppContext);\r\n\r\n  const { state: locationState } = useLocation();\r\n\r\n  if (redirectToReferrer === true) {\r\n    return <Redirect to={locationState?.from || '/dashboard'} />\r\n  }\r\n\r\n  const handleLogin = (event) => {\r\n    event.preventDefault();\r\n    API.logIn({ username, password }, (res, err) => {\r\n      if (res && res.status === 200) {\r\n        dispatch({type: SET_USER, payload: res.data});\r\n        setRedirectToReferrer(true);\r\n      }\r\n      else {\r\n        console.log(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className='Login d-flex flex-column h-100 justify-content-lg-center'>\r\n      <div className=\"col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 mt-5 mt-lg-0 mb-lg-5\">\r\n        <div className='text-center'>\r\n          <CompanyLogo transparent/>\r\n        </div>\r\n        <h2 className='text-center mb-4'>\r\n          ADMIN PORTAL\r\n        </h2>\r\n        <form onSubmit={handleLogin}>\r\n          <div className='mb-3'>\r\n            <label htmlFor='username' className='form-label'>Username</label>\r\n            <input\r\n              id='username'\r\n              className='form-control'\r\n              type='text'\r\n              value={username}\r\n              onChange={e => setUsername(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className='mb-3'>\r\n            <label htmlFor='password' className='form-label'>Password</label>\r\n            <input\r\n              id='password'\r\n              className='form-control'\r\n              type='password'\r\n              value={password}\r\n              onChange={e => setPassword(e.target.value)}  \r\n            />\r\n          </div>\r\n          <button className=\"btn btn-primary form-control mt-4\" type='submit'>Login</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { AppContext } from '../../context/Store';\r\nimport { API } from '../../util/API';\r\nimport './Dashboard.sass';\r\n\r\nconst Dashboard = () => {\r\n    const [locations, setLocations] = useState([]);\r\n    const [users, setUsers] = useState([]);\r\n    const [state, dispatch] = useContext(AppContext);\r\n\r\n    useEffect(() => {\r\n        API.getLocations((res, err) => {\r\n            if (res && res.status === 200) {\r\n                setLocations(res.data);\r\n            }\r\n        });\r\n        API.getAllUsers((res, err) => {\r\n            if (res && res.status === 200) {\r\n                setUsers(res.data);\r\n            }\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <div className='Dashboard'>\r\n            <div className=\"container\">\r\n                <h1 className='my-4'>Welcome, {state.currentUser && state.currentUser.firstName}</h1>\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 col-md-6\">\r\n                        <div className=\"card p-5 mb-3 mb-md-0\">\r\n                            <h3>Number of Locations</h3>\r\n                            <h5 className='fw-bold themeText'>{locations.length}</h5>\r\n                            <Link to='/locations'>Manage Locations</Link>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        state.currentUser && state.currentUser.isAdmin\r\n                        &&\r\n                        <div className=\"col-12 col-md-6\">\r\n                            <div className=\"card p-5\">\r\n                                <h3>Number of Users</h3>\r\n                                <h5 className='fw-bold themeText'>{users.length}</h5>\r\n                                <Link to='/users'>Manage Users</Link>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dashboard;","import React from 'react';\r\nimport './NotFound.sass';\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <div className='NotFound'>\r\n            404 page not found!!!\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NotFound;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Redirect, Route, useLocation } from 'react-router-dom';\r\nimport { SET_USER } from '../../context/ActionTypes';\r\nimport { AppContext } from '../../context/Store';\r\nimport { API } from '../../util/API';\r\n\r\nconst PrivateRoute = ({ children, ...rest }) => {\r\n    const [renderChildren, setRenderChildren] = useState();\r\n    const location = useLocation();\r\n    const [state, dispatch] = useContext(AppContext);\r\n\r\n    useEffect(() => {\r\n        if (!state.currentUser) {\r\n            API.isLoggedIn((res, err) => {\r\n                if (res && res.status === 200) {\r\n                    setRenderChildren(children);\r\n                    dispatch({type: SET_USER, payload: res.data});\r\n                }\r\n                else {\r\n                    setRenderChildren(<Redirect to={{\r\n                        pathname: '/login',\r\n                        state: { from: location }\r\n                    }}/>);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            setRenderChildren(children);\r\n        }\r\n    }, [rest.path]);\r\n\r\n    return (\r\n        <Route {...rest} render={() => {\r\n            return renderChildren;\r\n        }}/>\r\n    );\r\n};\r\n\r\nexport default PrivateRoute;","import React from 'react';\r\nimport './Settings.sass';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div className='Settings'>\r\n            Settings Component Works!!\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Settings;","import React, { useState } from 'react';\r\nimport './LocationCard.sass';\r\nimport defaultImage from './default.png';\r\nimport { Dropdown, DropdownItem, DropdownMenu, DropdownToggle } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst LocationCard = ({location}) => {\r\n    const [dropdownOpen, setDropdownOpen] = useState(false);\r\n  \r\n    const toggle = () => setDropdownOpen(prevState => !prevState);\r\n\r\n    const imageSrc = location.thumbnailImage ? location.thumbnailImage.src : defaultImage;\r\n\r\n    return (\r\n        <div className='LocationCard'>\r\n            {\r\n                location &&\r\n                <div\r\n                    className=\"card\"\r\n                >\r\n                    <div className=\"card-header themeBackground\">\r\n                        <h3>{location.name}</h3>\r\n                    </div>\r\n                    <div className=\"card-body\"\r\n                        style={\r\n                            {\r\n                                backgroundImage: \"url(\" + imageSrc + \")\",\r\n                                backgroundPosition: 'center',\r\n                                backgroundSize: 'cover',\r\n                                backgroundRepeat: 'no-repeat',\r\n                                minHeight: '250px'\r\n                            }\r\n                        }\r\n                    >\r\n                        <div className=\"shadowFade\">\r\n                            <address className='p-3 fw-bold'>\r\n                                <p className='m-0'>{location.addressFirstLine ? location.addressFirstLine : '[address first line]'}</p>\r\n                                <p>{location.addressSecondLine ? location.addressSecondLine : '[address second line]'}</p>\r\n                            </address>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"card-footer cardFooterBackground d-flex justify-content-between\">\r\n                        <Link className='btn btn-primary' to={`/location/${location._id}`}>Manage</Link>\r\n                        <Dropdown isOpen={dropdownOpen} toggle={toggle}>\r\n                            <DropdownToggle tag='span'>\r\n                                <button className=\"btn\">\r\n                                    <i className=\"fas fa-ellipsis-v\"></i>\r\n                                </button>\r\n                            </DropdownToggle>\r\n                            <DropdownMenu>\r\n                                <DropdownItem>View</DropdownItem>\r\n                                <DropdownItem>Edit</DropdownItem>\r\n                                <DropdownItem>Hide Location</DropdownItem>\r\n                                <DropdownItem divider/>\r\n                                <DropdownItem>Delete</DropdownItem>\r\n                            </DropdownMenu>\r\n                        </Dropdown>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LocationCard;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAg0AAAGlCAIAAAD23VLdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkUxQTQyRkMyRkNCMjExRTM5NTU4OTZEQkJFNzU1OEY1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkUxQTQyRkMzRkNCMjExRTM5NTU4OTZEQkJFNzU1OEY1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTFBNDJGQzBGQ0IyMTFFMzk1NTg5NkRCQkU3NTU4RjUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTFBNDJGQzFGQ0IyMTFFMzk1NTg5NkRCQkU3NTU4RjUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7hkGSKAAAPo0lEQVR42uzd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\"","import React, { useContext, useEffect, useState } from 'react';\r\nimport LocationCard from '../../components/locationCard/LocationCard';\r\nimport { AppContext } from '../../context/Store';\r\nimport { API } from '../../util/API';\r\nimport './Locations.sass';\r\n\r\nconst Locations = () => {\r\n    const [locations, setLocations] = useState([]);\r\n    const [state, dispatch] = useContext(AppContext);\r\n\r\n    useEffect(() => {\r\n        API.getLocations((res, err) => {\r\n            if (res && res.status === 200) {\r\n                setLocations(res.data);\r\n            }\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <div className='Locations'>\r\n            <div className=\"container mb-5 pb-5\">\r\n                <h2 className='my-4'>Location Management</h2>\r\n                <p>Below is a list of the locations you have access to. From here you can select a location to make updates. To create a new location select the 'New Location' button and you will be taken to a creation screen where you can create and upload content.</p>\r\n                <div className=\"row my-5\">\r\n                    <div className=\"card p-4\">\r\n                        <h4>Create New Location</h4>\r\n                        {\r\n                            (state.currentUser && state.currentUser.isAdmin) || (state.currentUser && state.currentUser.maxLocationAllowance > locations.length)\r\n                            ?\r\n                            <>\r\n                                <p>Create a new location. You will be able to first create a draft and preview what it will look like before publishing.</p>\r\n                                <button className=\"btn btn-primary col-xl-2 col-lg-3 col-sm-4\">New Location</button>\r\n                            </>\r\n                            :\r\n                            <>\r\n                                <p>\r\n                                    You have reached your maximum location allowance of <b>{state.currentUser && state.currentUser.maxLocationAllowance}</b>!\r\n                                </p>\r\n                                <p>\r\n                                    Please contact your administrator to request an increase in your max location allowance. For more information about listing with Contractors Garage visit the <a href='https://www.contractorsgarage.com/development-services' target='_blank'>List With Us</a> page.\r\n                                </p>\r\n                            </>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mb-5 pb-5\">\r\n                    <h4>Your Locations</h4>\r\n                    {\r\n                        locations.map(location => (\r\n                            <div className=\"col-12 col-md-6 col-xxl-4 my-2\" key={location._id}>\r\n                                <LocationCard location={location}/>\r\n                            </div>\r\n                        ))\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Locations;","import React, { useContext } from 'react';\r\nimport { Link, useHistory, useLocation } from 'react-router-dom';\r\nimport CompanyLogo from '../../components/companyLogo/CompanyLogo';\r\nimport { API } from '../../util/API';\r\nimport { AppContext } from '../../context/Store';\r\nimport './Toolbar.sass';\r\nimport { TAB_GENERAL, TAB_MEDIA, TAB_PAYMENT, TAB_THUMBNAIL, TAB_UNIT } from '../Constants';\r\nimport { DELETE_USER, SET_TABVIEW } from '../../context/ActionTypes';\r\nimport { HELPERS } from '../../util/helpers';\r\n\r\nconst Toolbar = () => {\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n    const [state, dispatch] = useContext(AppContext);\r\n        \r\n    const handleLogout = () => {\r\n        API.logOut((res, err) => {\r\n            if (res && res.status === 200) {\r\n                dispatch({type: DELETE_USER});\r\n                history.push('/login');\r\n            }\r\n        });\r\n    }\r\n    \r\n    const isActive = (path) => {\r\n        return path === location.pathname ? 'activeNavText' : '';\r\n    }\r\n\r\n    const isTabActive = tabView => {\r\n        return tabView === state.tabView ? 'activeNavText' : '';\r\n    }\r\n\r\n    return (\r\n        <div className='Toolbar toolbarBackground pt-4 d-flex flex-column'>\r\n            <CompanyLogo transparent/>\r\n            <div className=\"navWrapper mt-5 d-flex flex-column flex-grow-1\">\r\n                <ul className='list-unstyled'>\r\n                    <li className='mt-2'>\r\n                        <Link className={`text-decoration-none ${isActive('/dashboard')}`} to='/dashboard'>Dashboard</Link>\r\n                    </li>\r\n                    <li className='mt-2'>\r\n                        <Link className={`text-decoration-none ${isActive('/locations')}`} to='/locations'>Locations</Link>\r\n                    </li>\r\n                    <li className='mt-2'>\r\n                        <Link className={`text-decoration-none ${isActive('/settings')}`} to='/settings'>Settings</Link>\r\n                    </li>\r\n                </ul>\r\n                {\r\n                    location.pathname.startsWith('/location/') &&\r\n                    <>\r\n                        <hr/>\r\n                        <ul className='list-unstyled'>\r\n                            <li className='mt-2'>\r\n                                <a\r\n                                    className={`text-decoration-none ${isTabActive(TAB_GENERAL)}`}\r\n                                    href={void(0)}\r\n                                    onClick={() => dispatch({type: SET_TABVIEW, payload: TAB_GENERAL})}\r\n                                >\r\n                                    {HELPERS.getTabNameFromTabView(TAB_GENERAL)}\r\n                                </a>\r\n                            </li>\r\n                            <li className='mt-2'>\r\n                                <a\r\n                                    className={`text-decoration-none ${isTabActive(TAB_THUMBNAIL)}`}\r\n                                    href={void(0)}\r\n                                    onClick={() => dispatch({type: SET_TABVIEW, payload: TAB_THUMBNAIL})}\r\n                                >\r\n                                    {HELPERS.getTabNameFromTabView(TAB_THUMBNAIL)}\r\n                                </a>\r\n                            </li>\r\n                            <li className='mt-2'>\r\n                                <a\r\n                                    className={`text-decoration-none ${isTabActive(TAB_UNIT)}`}\r\n                                    href={void(0)}\r\n                                    onClick={() => dispatch({type: SET_TABVIEW, payload: TAB_UNIT})}\r\n                                >\r\n                                    {HELPERS.getTabNameFromTabView(TAB_UNIT)}\r\n                                </a>\r\n                            </li>\r\n                            <li className='mt-2'>\r\n                                <a\r\n                                    className={`text-decoration-none ${isTabActive(TAB_MEDIA)}`}\r\n                                    href={void(0)}\r\n                                    onClick={() => dispatch({type: SET_TABVIEW, payload: TAB_MEDIA})}\r\n                                >\r\n                                    {HELPERS.getTabNameFromTabView(TAB_MEDIA)}\r\n                                </a>\r\n                            </li>\r\n                            <li className='mt-2'>\r\n                                <a\r\n                                    className={`text-decoration-none ${isTabActive(TAB_PAYMENT)}`}\r\n                                    href={void(0)}\r\n                                    onClick={() => dispatch({type: SET_TABVIEW, payload: TAB_PAYMENT})}\r\n                                >\r\n                                    {HELPERS.getTabNameFromTabView(TAB_PAYMENT)}\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                    </>\r\n                }\r\n                <button className=\"btn btn-danger mt-auto\" onClick={handleLogout}>Logout</button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Toolbar;","import React, { useContext, useState } from 'react';\r\nimport { Link, useHistory, useLocation } from 'react-router-dom';\r\nimport { Collapse, DropdownItem, Nav, Navbar, NavbarBrand, NavbarToggler, NavItem, NavLink } from 'reactstrap';\r\nimport CompanyLogo from '../../components/companyLogo/CompanyLogo';\r\nimport { DELETE_USER } from '../../context/ActionTypes';\r\nimport { AppContext } from '../../context/Store';\r\nimport { API } from '../../util/API';\r\nimport './MobileHeader.sass';\r\n\r\nconst MobileHeader = () => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n    const [state, dispatch] = useContext(AppContext);\r\n    \r\n    const handleLogout = () => {\r\n        API.logOut((res, err) => {\r\n            if (res && res.status === 200) {\r\n                dispatch({type: DELETE_USER});\r\n                history.push('/');\r\n            }\r\n        });\r\n    }\r\n    \r\n    const toggle = () => setIsOpen(!isOpen);\r\n\r\n    const isActive = (path) => {\r\n        return path === location.pathname ? 'active': '';\r\n    }\r\n    return (\r\n        <div className='MobileHeader'>\r\n            <Navbar light expand=\"md\" className='justify-content-between'>\r\n                <NavbarBrand className='p-0' tag={Link} to='/'>\r\n                    <CompanyLogo square />\r\n                </NavbarBrand>\r\n                <NavbarToggler onClick={toggle} />\r\n                <Collapse isOpen={isOpen} navbar>\r\n                    <Nav className=\"ml-auto\" navbar>\r\n                        <NavItem>\r\n                            <NavLink onClick={toggle} tag={Link} to=\"/dashboard\" className={isActive('/dashboard')}>Dashboard</NavLink>\r\n                        </NavItem>\r\n                        <NavItem>\r\n                            <NavLink onClick={toggle} tag={Link} to=\"/locations\" className={isActive('/locations')}>Locations</NavLink>\r\n                        </NavItem>\r\n                        <NavItem>\r\n                            <NavLink onClick={toggle} tag={Link} to=\"/settings\" className={isActive('/settings')}>Settings</NavLink>\r\n                        </NavItem>\r\n                        <DropdownItem divider/>\r\n                        <button className=\"btn btn-danger\" onClick={handleLogout}>Logout</button>\r\n                    </Nav>\r\n                </Collapse>\r\n            </Navbar>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MobileHeader;","import React from 'react';\r\nimport './Users.sass';\r\n\r\nconst Users = () => {\r\n    return (\r\n        <div className='Users'>\r\n            Users Component works!!!\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Users;","import React, { useEffect, useState } from 'react';\r\nimport { MapContainer, TileLayer, Marker, Popup, useMapEvents } from 'react-leaflet';\r\nimport './CoordinatePicker.sass';\r\n\r\nfunction EventComponent(props) {\r\n\r\n    const map = useMapEvents({\r\n        zoomend: (event) => {\r\n            props.setZoom(map.getZoom());\r\n        },\r\n        click: (event) => {\r\n            props.handleClick(event.latlng);\r\n        }\r\n    });\r\n    \r\n    return null;\r\n}\r\n\r\nconst CoordinatePicker = (props) => {\r\n    const [zoom, setZoom] = useState(15);\r\n    const [markerLocation, setMarkerLocation] = useState();\r\n\r\n    useEffect(() => {\r\n        if (markerLocation) {\r\n            props.onCoordinateSelect(markerLocation);\r\n        }\r\n    }, [markerLocation]);\r\n\r\n    return (\r\n        <div className='CoordinatePicker'>\r\n            <MapContainer\r\n                center={props.center.length > 1 ? props.center : [40.68924454236941, -74.04454171657564]}\r\n                zoom={zoom}\r\n                scrollWheelZoom={true}\r\n            >\r\n                <EventComponent\r\n                    setZoom={setZoom}\r\n                    handleClick={latLng => setMarkerLocation([latLng.lat, latLng.lng])}\r\n                />\r\n                <TileLayer\r\n                    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                    opacity={zoom <= 7 ? 1 : 0}\r\n                />\r\n                <TileLayer\r\n                    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                    url=\"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png\"\r\n                    opacity={zoom > 7 ? 1 : 0}\r\n                />\r\n                {\r\n                    (markerLocation || props.center) &&\r\n                    <Marker\r\n                        position={markerLocation ? markerLocation : props.center}\r\n                    />\r\n                }\r\n            </MapContainer>\r\n            <div>\r\n                <label className='badge bg-info'>Lat</label>\r\n                <span className='fw-bold ms-4'>{markerLocation && markerLocation[0]}</span>\r\n            </div>\r\n            <div>\r\n                <label className='badge bg-info'>Long</label>\r\n                <span className='fw-bold ms-4'>{markerLocation && markerLocation[1]}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CoordinatePicker;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\r\nimport { OPEN_PREVIEW, RESET_PREVIEW, SET_TABVIEW } from '../../context/ActionTypes';\r\nimport { AppContext } from '../../context/Store';\r\nimport { API } from '../../util/API';\r\nimport { HELPERS } from '../../util/helpers';\r\n\r\nconst TabView = props => {\r\n    const [state, dispatch] = useContext(AppContext);\r\n    const [previewModal, setPreviewModal] = useState(false);\r\n    const [previewHref, setPreviewHref] = useState('');\r\n\r\n\r\n    useEffect(() => {\r\n        if (state.openPreview) {\r\n            API.createPreview({data: JSON.stringify(state.previewLocation)}, (res, err) => {\r\n                if (res && res.status === 200) {\r\n                    setPreviewHref('https://contractorsgarage.com/location/preview/' + res.data._id);\r\n                    togglePreviewModal();\r\n                    dispatch({type: RESET_PREVIEW});\r\n                }\r\n            });\r\n        }\r\n    }, [state.openPreview]);\r\n    \r\n    const togglePreviewModal = () => setPreviewModal(!previewModal);\r\n    \r\n    const handleTabViewNavClick = (e, tabView) => {\r\n        e.preventDefault();\r\n        dispatch({type: SET_TABVIEW, payload: tabView})\r\n    }\r\n\r\n    const handlePreviewClick = () => {\r\n        props.updatePreview();\r\n        dispatch({type: OPEN_PREVIEW});\r\n    }\r\n\r\n    return (\r\n        <div className='TabView'>\r\n            <div className=\"mb-5 pb-5\">\r\n                <h2 className='my-4'>{props.header}</h2>\r\n                <p>{props.description}</p>\r\n                {props.children}\r\n                <div className=\"card p-4 mt-4\">\r\n                    <div>\r\n                        {\r\n                            props.showSaveButton && <button form={props.formId} type='submit'  className=\"btn btn-primary\">Save</button>\r\n                        }\r\n                        <button className=\"btn btn-secondary ms-2\" onClick={handlePreviewClick}>Create Preview</button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"tabViewNavSection d-flex justify-content-between my-5\">\r\n                    {\r\n                        props.previousView &&\r\n                        <div className='card p-3'>\r\n                            <a\r\n                                href='/'\r\n                                onClick={e => handleTabViewNavClick(e, props.previousView)}\r\n                            >\r\n                                <i className=\"fas fa-arrow-left\"></i> Previous: {HELPERS.getTabNameFromTabView(props.previousView)}\r\n                            </a>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        props.nextView &&\r\n                        <div className='ms-auto card p-3'>\r\n                            <a\r\n                                href='/'\r\n                                onClick={e => handleTabViewNavClick(e, props.nextView)}\r\n                            >\r\n                                Next: {HELPERS.getTabNameFromTabView(props.nextView)} <i className=\"fas fa-arrow-right\"></i>\r\n                            </a>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <Modal isOpen={previewModal} toggle={togglePreviewModal}>\r\n                <ModalHeader>Location Preview Generated</ModalHeader>\r\n                <ModalBody>\r\n                    <p>A preview has been generated from your data for this location. The link below will open the preview in a new tab. <b>This link will expire in 30 minutes.</b></p>\r\n                    <a href={previewHref} target='_blank'>View Preview <i className=\"fas fa-external-link-alt\"></i></a>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <button className=\"btn btn-primary\" onClick={togglePreviewModal}>Close</button>\r\n                </ModalFooter>\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TabView;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\r\nimport { UPDATE_PREVIEW } from '../../context/ActionTypes';\r\nimport { AppContext } from '../../context/Store';\r\nimport { TAB_THUMBNAIL } from '../../shared/Constants';\r\nimport { API } from '../../util/API';\r\nimport CoordinatePicker from '../coordinatePicker/CoordinatePicker';\r\nimport TabView from '../tabView/TabView';\r\n\r\nconst GeneralTabView = ({location}) => {\r\n    const [state, dispatch] = useContext(AppContext);\r\n\r\n    const [name, setName] = useState('');\r\n    const [slug, setSlug] = useState('');\r\n    const [addressFirstLine, setAddressFirstLine] = useState('');\r\n    const [addressSecondLine, setAddressSecondLine] = useState('');\r\n    const [coordinatesFromMap, setCoordinatesFromMap] = useState();\r\n    const [lat, setLat] = useState('');\r\n    const [long, setLong] = useState('');\r\n    const [shortDescription, setShortDescription] = useState('');\r\n    const [longDescription, setLongDescription] = useState('');\r\n    const [currentFeature, setCurrentFeature] = useState('');\r\n    const [features, setFeatures] = useState();\r\n    const [contactName, setContactName] = useState('');\r\n    const [contactPhone, setContactPhone] = useState('');\r\n    const [contactEmail, setContactEmail] = useState('');\r\n\r\n    const [wasValidated, setWasValidated] = useState(false);\r\n    const [slugErrorMessage, setSlugErrorMessage] = useState('');\r\n\r\n    /**\r\n     * Every time a field changes update the preview so when this tab is exited the preview retains its data.\r\n     */\r\n    useEffect(() => {\r\n        updatePreview();\r\n    }, [name, slug, addressFirstLine, addressSecondLine, coordinatesFromMap, lat, long, shortDescription, longDescription, currentFeature, features, contactName, contactPhone, contactEmail]);\r\n\r\n    useEffect(() => {\r\n        const locationWithChanges = {\r\n            ...location,\r\n            ...state.previewLocation\r\n        };\r\n        setName(locationWithChanges.name ? locationWithChanges.name : '');\r\n        setSlug(locationWithChanges.slug ? locationWithChanges.slug : '');\r\n        setAddressFirstLine(locationWithChanges.addressFirstLine ? locationWithChanges.addressFirstLine : '');\r\n        setAddressSecondLine(locationWithChanges.addressSecondLine ? locationWithChanges.addressSecondLine : '');\r\n        setLat(locationWithChanges.coordinates && locationWithChanges.coordinates.length > 1 ? locationWithChanges.coordinates[0] : '');\r\n        setLong(locationWithChanges.coordinates && locationWithChanges.coordinates.length > 1 ? locationWithChanges.coordinates[1] : '');\r\n        setShortDescription(locationWithChanges.shortDescription ? locationWithChanges.shortDescription : '');\r\n        setLongDescription(locationWithChanges.longDescription ? locationWithChanges.longDescription : '');\r\n        setFeatures(locationWithChanges.features ? locationWithChanges.features : '');\r\n        setContactName(locationWithChanges.contactName ? locationWithChanges.contactName : '');\r\n        setContactPhone(locationWithChanges.contactPhone ? locationWithChanges.contactPhone : '');\r\n        setContactEmail(locationWithChanges.contactEmail ? locationWithChanges.contactEmail : '');\r\n    }, [location]);\r\n\r\n    const handleFormSubmit = e => {\r\n        if (!e.target.checkValidity()) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n        else {\r\n            e.preventDefault();\r\n            API.updateLocation(state.previewLocation, (res, err) => {\r\n                if (res && res.status === 200) {\r\n                    console.log('success!');\r\n                }\r\n                else if (err) {\r\n                    if (err.response && err.response.status === 400) {\r\n                        e.target.elements.namedItem('slug').setCustomValidity('Current value already in use, url slug must be unique. Choose another value.');\r\n                        setSlugErrorMessage('Current value already in use, url slug must be unique. Choose another value.')\r\n                    }\r\n                    console.log(err);\r\n                }\r\n            });\r\n        }\r\n        setWasValidated(true);\r\n    }\r\n\r\n    const handleHideLocation = () => {\r\n\r\n    }\r\n\r\n    const handleDeleteLocation = () => {\r\n\r\n    }\r\n\r\n    const handleSlugChange = e => {\r\n        if (/[^a-z0-9-_]/g.test(e.target.value)) {\r\n            e.target.setCustomValidity('Field is required and must not contain spaces, uppercase letters or special characters (other than - and _).');\r\n            setSlugErrorMessage('Field is required and must not contain spaces, uppercase letters or special characters (other than - and _).');\r\n        }\r\n        else {\r\n            e.target.setCustomValidity('');\r\n        }\r\n        setSlug(e.target.value);\r\n    }\r\n    /**\r\n     * Updates the preview in context so when it is time to show the preview data from this tab will be included.\r\n     */\r\n    const updatePreview = () => {\r\n        const previewLocation = {\r\n            ...(name && {name}),\r\n            ...(slug && {slug}),\r\n            ...(addressFirstLine && {addressFirstLine}),\r\n            ...(addressSecondLine && {addressSecondLine}),\r\n            ...((lat && long) && {coordinates: [lat, long]}),\r\n            ...(shortDescription && {shortDescription}),\r\n            ...(longDescription && {longDescription}),\r\n            ...(features && {features}),\r\n            ...(contactName && {contactName}),\r\n            ...(contactPhone && {contactPhone}),\r\n            ...(contactEmail && {contactEmail})\r\n        };\r\n        const payload = {\r\n            ...location,\r\n            ...state.previewLocation,\r\n            ...previewLocation\r\n        };\r\n        dispatch({type: UPDATE_PREVIEW, payload: payload});\r\n    }\r\n    \r\n    const [modal, setModal] = useState(false);\r\n\r\n    const toggle = () => setModal(!modal);\r\n\r\n    return (\r\n        <div className='GeneralTabView'>\r\n            <TabView\r\n                header={`General ${location.name ? '- ' + location.name : ''}`}\r\n                description='This section is for editing the general details about the location including the name, description, address, contact and coordinates.'\r\n                nextView={TAB_THUMBNAIL}\r\n                formId='generalForm'\r\n                showSaveButton={location.isPublished}\r\n                updatePreview={updatePreview}\r\n            >\r\n                <div className=\"card actionsSection p-4 my-4\">\r\n                    <h5>Quick Actions</h5>\r\n                    <p>Below is a list of actions you can perform on this location record.</p>\r\n                    {\r\n                        location.isPublished &&\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <p>View this location on the live site.</p>\r\n                            <span>\r\n                                <a className='btn btn-outline-primary' href={`https://contractorsgarage.com/location/${location.slug}`} target='_blank'>View Location &nbsp; <i className=\"fas fa-external-link-alt\"></i></a>\r\n                            </span>\r\n                        </div>\r\n                    }\r\n                    <div className=\"d-flex flex-column my-4\">\r\n                        <p>Hide this location from view on the live site. This will only temporarily disable the location and will not delete it. You can reverse this action at any time.</p>\r\n                        <span>\r\n                            <button className=\"btn btn-outline-secondary\" onClick={handleHideLocation}>Hide Location</button>\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column my-4\">\r\n                        <p>Delete this location from the database. Warning this action cannot be reversed!</p>\r\n                        <span>\r\n                            <button className=\"btn btn-outline-danger\" onClick={handleDeleteLocation}>Delete</button>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div className='card editDetailCard p-4'>\r\n                    <form id='generalForm' className={`needs-validation ${wasValidated ? 'was-validated' : ''}`} onSubmit={handleFormSubmit} noValidate>\r\n                        <h5>Details</h5>\r\n                        <p>Use this section for filling out the basic details for this location.</p>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <label className='form-label requiredField' htmlFor=\"name\">Display Name</label>\r\n                            <small className='text-secondary'>This is the title of the location and will be displayed on the location directory and the top of this location page.</small>\r\n                            <input\r\n                                id='name'\r\n                                className='form-control'\r\n                                type=\"text\"\r\n                                placeholder='Enter Display Name'\r\n                                value={name}\r\n                                onChange={e => setName(e.target.value)}\r\n                                required\r\n                            />\r\n                            <div className=\"invalid-feedback fw-bold\">\r\n                                Display name is a required field please enter a display name above.\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <label className='form-label requiredField' htmlFor=\"slug\">URL Slug</label>\r\n                            <small className='text-secondary'>This is the unique ending of the URL that will link to your location page. It is a good idea to use something easy to type and human readable. Spaces are not allowed use the - or _ symbol as a separator. Only lowercase letters and numbers are allowed no special characters.</small>\r\n                            <small className='text-secondary'>Example: 'florida-garage' would appear like this in the URL. https://contractorsgarage.com/location/<span className='fw-bold'>florida-garage</span></small>\r\n                            <input\r\n                                id='slug'\r\n                                className='form-control'\r\n                                type=\"text\"\r\n                                placeholder='florida-garage'\r\n                                value={slug}\r\n                                onChange={handleSlugChange}\r\n                                required\r\n                            />\r\n                            <div className=\"invalid-feedback fw-bold\">\r\n                                {slugErrorMessage}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <label className='form-label' htmlFor=\"addressFirstLine\">Address (First Line)</label>\r\n                            <small className='text-secondary'>The street address for this location.</small>\r\n                            <small className='text-secondary'>Example: 123 Main Street</small>\r\n                            <input\r\n                                id='addressFirstLine'\r\n                                className='form-control'\r\n                                type=\"text\"\r\n                                placeholder='Enter Address'\r\n                                value={addressFirstLine}\r\n                                onChange={e => setAddressFirstLine(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <label className='form-label' htmlFor=\"addressSecondLine\">Address (Second Line)</label>\r\n                            <small className='text-secondary'>The city state and zip code for this location.</small>\r\n                            <small className='text-secondary'>Example: San Francisco, California 94105</small>\r\n                            <input\r\n                                id='addressSecondLine'\r\n                                className='form-control'\r\n                                type=\"text\"\r\n                                placeholder='Enter City, State Zip'\r\n                                value={addressSecondLine}\r\n                                onChange={e => setAddressSecondLine(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <h6>Coordinates</h6>\r\n                            <p>The exact coordinates to display the marker on the map for this location. You can manually enter the <i>latitude</i> and <i>longitude</i> or you can choose the point from the map by selecting <b>Choose From Map</b>.</p>\r\n                            <div className='row align-items-end'>\r\n                                <div className='d-flex flex-column col-12 col-md-3'>\r\n                                    <label className='form-label requiredField' htmlFor=\"lat\">Latitude</label>\r\n                                    <input\r\n                                        id='lat'\r\n                                        className='form-control'\r\n                                        type=\"number\"\r\n                                        max='90'\r\n                                        min='-90'\r\n                                        step='any'\r\n                                        value={lat}\r\n                                        onChange={e => setLat(e.target.value)}\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                                <div className='d-flex flex-column col-12 col-md-3 mt-4'>\r\n                                    <label className='form-label requiredField' htmlFor=\"log\">Longitude</label>\r\n                                    <input\r\n                                        id='log'\r\n                                        className='form-control'\r\n                                        type=\"number\"\r\n                                        max='180'\r\n                                        min='-180'\r\n                                        step='any'\r\n                                        value={long}\r\n                                        onChange={e => setLong(e.target.value)}\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                                <div className='col-12 col-md-6'>\r\n                                    <button className=\"btn btn-outline-primary mt-4\" type='button' onClick={toggle}>Choose From Map</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <label className='form-label' htmlFor=\"shortDescription\">Short Description</label>\r\n                            <small className='text-secondary'>Description of this location to be shown on the map marker popup. Limit 140 characters.</small>\r\n                            <textarea\r\n                                id='shortDescription'\r\n                                className='form-control'\r\n                                maxLength={140}\r\n                                value={shortDescription}\r\n                                onChange={e => setShortDescription(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <label className='form-label' htmlFor=\"longDescription\">Long Description</label>\r\n                            <small className='text-secondary'>Description of this location to be shown on the location detail page. This will be shown at the top of the page and should include a description of the features and services.</small>\r\n                            <textarea\r\n                                id='longDescription'\r\n                                className='form-control'\r\n                                rows={6}\r\n                                value={longDescription}\r\n                                onChange={e => setLongDescription(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <label className='form-label' htmlFor=\"features\">Features</label>\r\n                            <small className='text-secondary'>A list of features and services provided at this location. Each item will appear as an item in a bulleted list. Enter each item in the input below and press <b>Add Feature</b> to add it to the list. To remove an item from the list press the <b>&times;</b> next to the item.</small>\r\n                            <form onSubmit={e => e.preventDefault()}>\r\n                                <div className=\"input-group\">\r\n                                    <input\r\n                                        id='features'\r\n                                        type=\"text\"\r\n                                        className='form-control'\r\n                                        placeholder='Enter Feature'\r\n                                        value={currentFeature}\r\n                                        onChange={e => setCurrentFeature(e.target.value)}\r\n                                    />\r\n                                    <button\r\n                                        className=\"btn btn-outline-primary\"\r\n                                        onClick={() => setFeatures([...features, currentFeature])}\r\n                                    >\r\n                                        Add Feature\r\n                                    </button>\r\n                                </div>\r\n                            </form>\r\n                            {\r\n                                !features || (features && features.length === 0)\r\n                                ?\r\n                                <p className=\"text-secondary pt-5\">Currently no features. Add features above and view them here...</p>\r\n                                :\r\n                                <ul className='list-unstyled mt-3'>\r\n                                    {\r\n                                        features.map((feature, index) => (\r\n                                            <li className='my-2' key={index}>\r\n                                                <div className=\"badge bg-secondary\">\r\n                                                    <span>{feature}</span>\r\n                                                    <button\r\n                                                        className=\"btn btn-close btn-close-white\"\r\n                                                        type='button'\r\n                                                        onClick={() => {\r\n                                                            if (window.confirm('Are you sure you want to delete this feature?')) {\r\n                                                                const newFeatures = [...features];\r\n                                                                newFeatures.splice(index, 1);\r\n                                                                setFeatures(newFeatures);\r\n                                                            }\r\n                                                        }}\r\n                                                    >\r\n                                                    </button>\r\n                                                </div>\r\n                                            </li>\r\n                                        ))\r\n                                    }\r\n                                </ul>\r\n                            }\r\n                        </div>\r\n                        <h5>Contact Info</h5>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <label className='form-label' htmlFor=\"contactName\">Contact Name</label>\r\n                            <small className='text-secondary'>The name of the contact for this location.</small>\r\n                            <input\r\n                                id='contactName'\r\n                                className='form-control'\r\n                                type=\"text\"\r\n                                placeholder='Enter Contact Name'\r\n                                value={contactName}\r\n                                onChange={e => setContactName(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <label className='form-label' htmlFor=\"contactPhone\">Contact Phone</label>\r\n                            <small className='text-secondary'>The phone number of the contact for this location.</small>\r\n                            <input\r\n                                id='contactPhone'\r\n                                className='form-control'\r\n                                type=\"text\"\r\n                                pattern='[\\d]{3}-[\\d]{3}-[\\d]{4}|[\\d]{10}'\r\n                                placeholder='Enter Contact Phone XXX-XXX-XXXX Format'\r\n                                value={contactPhone}\r\n                                onChange={e => setContactPhone(e.target.value)}\r\n                            />\r\n                            <div className=\"invalid-feedback fw-bold\">\r\n                                Phone number must contain only numbers or numbers separated with dashes, no spaces, letters or special characters allowed (other than -).\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <label className='form-label' htmlFor=\"contactEmail\">Contact Email</label>\r\n                            <small className='text-secondary'>The email address of the contact for this location.</small>\r\n                            <input\r\n                                id='contactEmail'\r\n                                className='form-control'\r\n                                type=\"email\"\r\n                                placeholder='Enter Contact Email'\r\n                                value={contactEmail}\r\n                                onChange={e => setContactEmail(e.target.value)}\r\n                            />\r\n                            <div className=\"invalid-feedback fw-bold\">\r\n                                Email address entered is not valid!\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </TabView>\r\n            <Modal isOpen={modal} toggle={toggle} size='lg'>\r\n                <ModalHeader>Choose Location On Map</ModalHeader>\r\n                <ModalBody>\r\n                    <p>Click on map to set marker location when finished click continue.</p>\r\n                    <CoordinatePicker\r\n                        center={(lat !== '' && long !== '') ? [lat, long] : (location.coordinates && location.coordinates.length > 1) ? location.coordinates : [40.68924454236941, -74.04454171657564]}\r\n                        onCoordinateSelect={setCoordinatesFromMap}\r\n                    />\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <button className=\"btn\" onClick={toggle}>CANCEL</button>\r\n                    <button\r\n                        className=\"btn btn-primary\"\r\n                        disabled={!coordinatesFromMap}\r\n                        onClick={() => {setLat(coordinatesFromMap[0]); setLong(coordinatesFromMap[1]); toggle();}}\r\n                    >\r\n                        Continue\r\n                    </button>\r\n                </ModalFooter>\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default GeneralTabView;","import React from 'react';\r\n\r\nconst ImageCard = (props) => {\r\n    return (\r\n        <div className='ImageCard'>\r\n            <div className=\"card\">\r\n                <div\r\n                    className=\"card-body\"\r\n                    style={\r\n                        {\r\n                            backgroundImage: \"url(\" + props.src + \")\",\r\n                            backgroundPosition: 'center',\r\n                            backgroundSize: 'cover',\r\n                            backgroundRepeat: 'no-repeat',\r\n                            minHeight: '250px'\r\n                        }\r\n                    }\r\n                />\r\n                <p className='position-absolute bg-white'>{props.caption}</p>\r\n                <div className=\"card-footer d-flex flex-row justify-content-between bg-light\">\r\n                    <button type='button' className=\"btn btn-link text-danger\" onClick={props.onDelete}>\r\n                        <i className=\"fas fa-trash-alt\"></i>\r\n                    </button>\r\n                    {\r\n                        props.hideEdit ??\r\n                        <button type='button' className=\"btn btn-link text-secondary\" onClick={props.onEdit}>\r\n                            <i className=\"fas fa-pencil-alt\"></i>\r\n                        </button>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ImageCard;","import React, { useCallback, useContext, useEffect, useState } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { TAB_PAYMENT, TAB_UNIT } from '../../shared/Constants';\r\nimport { HELPERS, TOAST_TYPES } from '../../util/helpers';\r\nimport TabView from '../tabView/TabView';\r\nimport './MediaTabView.sass';\r\nimport Compress from 'compress.js';\r\nimport { API } from '../../util/API';\r\nimport { AppContext } from '../../context/Store';\r\nimport { SET_BANNER_IMAGE_PENDING, SET_DETAIL_PAGE_IMAGES_PENDING, UPDATE_PREVIEW } from '../../context/ActionTypes';\r\nimport ImageCard from '../imageCard/ImageCard';\r\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\r\n\r\nconst MediaTabView = ({location}) => {\r\n    const [state, dispatch] = useContext(AppContext);\r\n\r\n    const [detailPageImages, setDetailPageImages] = useState();\r\n    const [bannerImage, setBannerImage] = useState();\r\n\r\n    // State for new image object being created before it is uploaded\r\n    const [currentImage, setCurrentImage] = useState();\r\n    const [currentCaption, setCurrentCaption] = useState();\r\n    const [isEditing_pending, setIsEditing_pending] = useState(false);\r\n    const [editingIndex_pending, setEditingIndex_pending] = useState(-1);\r\n\r\n    // Modal state\r\n    const [captionModal, setCaptionModal] = useState(false);\r\n    const [captionModalPage, setCaptionModalPage] = useState(1);\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [editingIndex, setEditingIndex] = useState(-1);\r\n\r\n    const compress = new Compress();\r\n    /**\r\n     * Every time a field changes update the preview so when this tab is exited the preview retains its data.\r\n     */\r\n    useEffect(() => {\r\n        updatePreview();\r\n    }, [detailPageImages, bannerImage]);\r\n\r\n    useEffect(() => {\r\n        const locationWithChanges = {\r\n            ...location,\r\n            ...state.previewLocation\r\n        };\r\n        setDetailPageImages(locationWithChanges.detailPageImages ? locationWithChanges.detailPageImages : '');\r\n        setBannerImage(locationWithChanges.bannerImage ? locationWithChanges.bannerImage : undefined);\r\n    }, [location]);\r\n    \r\n    const handleFormSubmit = e => {\r\n        e.preventDefault();\r\n        // First update the location data.\r\n        // The server will be responsible for deleting any images that are no longer in the new request.\r\n        API.updateLocation_hideToast({...state.previewLocation, ...(state.previewLocation.bannerImage ?? {bannerImage: null}), _id: state.previewLocation._id}, (res, err) => {\r\n            if (res && res.status === 200) {\r\n                // Once location is saved if there are pending images upload to cloudinary.\r\n                if (state.bannerImage_pending || state.detailPageImages_pending) {\r\n                    const files = [];\r\n                    const locationImageRequest = {_id: location._id};\r\n                    if (state.bannerImage_pending && state.bannerImage_pending.file) {\r\n                        files.push(state.bannerImage_pending.file);\r\n                        locationImageRequest.bannerImage = {\r\n                            src: '',\r\n                            alt: location.name + ' banner image'\r\n                        };\r\n                    }\r\n                    if (state.detailPageImages_pending) {\r\n                        locationImageRequest.detailPageImages = [];\r\n                        for (let i = 0; i < state.detailPageImages_pending.length; i++) {\r\n                            files.push(state.detailPageImages_pending[i].file);\r\n                            locationImageRequest.detailPageImages.push({\r\n                                src: '',\r\n                                thumbnail: '',\r\n                                alt: state.detailPageImages_pending[i].alt\r\n                            });\r\n                        }\r\n                    }\r\n                    API.uploadImages(files, (res, err) => {\r\n                        if (res) {\r\n                            // After images have been uploaded to cloudinary update the location record with the new images.\r\n                            if (locationImageRequest.bannerImage) {\r\n                                locationImageRequest.bannerImage.src = res[0].data.secure_url;\r\n                                res.shift();\r\n                            }\r\n                            if (locationImageRequest.detailPageImages) {\r\n                                for (let i = 0; i < res.length; i++) {\r\n                                    locationImageRequest.detailPageImages[i].src = res[i].data.secure_url;\r\n                                    locationImageRequest.detailPageImages[i].thumbnail = res[i].data.secure_url;\r\n                                }\r\n                                locationImageRequest.detailPageImages = locationImageRequest.detailPageImages.concat(detailPageImages);\r\n                            }\r\n                            API.updateLocation(locationImageRequest, (res, err) => {\r\n                                if (res && res.status === 200) {\r\n                                    console.log('success');\r\n                                    // Update the bannerImage object and the detailPageImages object with the new images.\r\n                                    // Reset the bannerImage_pending and detailPageImages_pending context variables\r\n                                    if (locationImageRequest.bannerImage) {\r\n                                        setBannerImage(locationImageRequest.bannerImage);\r\n                                        dispatch({type: SET_BANNER_IMAGE_PENDING, payload: undefined});\r\n                                    }\r\n                                    if (locationImageRequest.detailPageImages) {\r\n                                        setDetailPageImages(locationImageRequest.detailPageImages);\r\n                                        dispatch({type: SET_DETAIL_PAGE_IMAGES_PENDING, payload: undefined});\r\n                                    }\r\n                                }\r\n                                else if (err) {\r\n                                    console.log(err);\r\n                                }\r\n                            });\r\n                        }\r\n                        else if (err) {\r\n                            console.log(err);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    HELPERS.showToast(TOAST_TYPES.SUCCESS, 'Update Successful!');\r\n                }\r\n            }\r\n            else if (err) {\r\n                console.log(err);\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * Updates the preview in context so when it is time to show the preview data from this tab will be included.\r\n     */\r\n    const updatePreview = () => {\r\n        const previewLocation = {\r\n            ...(detailPageImages) && {detailPageImages},\r\n            bannerImage\r\n        };\r\n        const payload = {\r\n            ...location,\r\n            ...state.previewLocation,\r\n            ...previewLocation\r\n        };\r\n        dispatch({type: UPDATE_PREVIEW, payload: payload});\r\n    }\r\n    \r\n    const onDrop = useCallback(acceptedFiles => {\r\n        if (acceptedFiles.length > 0) {\r\n            console.log('accpetedFiles :>> ', acceptedFiles);\r\n            compress.compress(acceptedFiles, {\r\n                size: .4,\r\n                quality: 1,\r\n                maxWidth: 1920,\r\n                maxHeight: 1080\r\n            })\r\n            .then(data => {\r\n                const resizedimage = data[0];\r\n                const resizedFile = Compress.convertBase64ToFile(resizedimage.data, resizedimage.ext);\r\n                console.log(resizedFile);\r\n                setCurrentImage(resizedFile);\r\n\r\n                // Open caption modal\r\n                toggleCaptionModal();\r\n\r\n\r\n\r\n                // API.uploadImage(resizedFile, (res, err) => {\r\n                //     if (res && res.status === 200) {\r\n                //         console.log('res :>> ', res);\r\n                //     }\r\n                //     else {\r\n                //         console.log('err :>> ', err);\r\n                //         console.log('err.response :>> ', err.response);\r\n                //     }\r\n                // })\r\n            })\r\n        }\r\n    }, []);\r\n\r\n    const onDropRejected = event => {\r\n        console.log(event);\r\n        HELPERS.showToast(TOAST_TYPES.WARNING, 'Warning! Cannot upload file because it is not the correct file type! Image must be .jpg or .png');\r\n    }\r\n\r\n    const { getRootProps, getInputProps } = useDropzone({\r\n        onDrop,\r\n        onDropRejected,\r\n        maxFiles: 1,\r\n        accept: 'image/jpeg, image/png'\r\n    });\r\n    \r\n    const toggleCaptionModal = () => {\r\n        if (captionModal) {\r\n            resetCaptionModal();\r\n        }\r\n        setCaptionModal(!captionModal);\r\n    }\r\n\r\n    const resetCaptionModal = () => {\r\n        setCurrentCaption('');\r\n        setIsEditing(false);\r\n        setEditingIndex(-1);\r\n        setCaptionModalPage(1);\r\n        setIsEditing_pending(false);\r\n        setEditingIndex_pending(-1);\r\n    }\r\n\r\n    const handleBannerClick_modalPage = () => {\r\n        const newBannerImage = {\r\n            ...(currentImage && {file: currentImage}),\r\n            ...(currentImage && {src: URL.createObjectURL(currentImage)})\r\n        };\r\n        dispatch({type: SET_BANNER_IMAGE_PENDING, payload: newBannerImage});\r\n        toggleCaptionModal();\r\n    }\r\n\r\n    const handleLocaionImageClick_modalPage = () => {\r\n        setCaptionModalPage(2);\r\n    }\r\n\r\n    const handleEdit = index => {\r\n        if (detailPageImages[index]) {\r\n            setCurrentCaption(detailPageImages[index].alt);\r\n            setIsEditing(true);\r\n            setEditingIndex(index);\r\n            setCaptionModalPage(2);\r\n            toggleCaptionModal();\r\n        }\r\n    }\r\n\r\n    const handleDelete = index => {\r\n        if (window.confirm('Are you sure you want to delete this image?')) {\r\n            const newDetailPageImages = [...detailPageImages];\r\n            newDetailPageImages.splice(index, 1);\r\n            setDetailPageImages(newDetailPageImages);\r\n        }\r\n    }\r\n\r\n    const handleBanner_pendingDelete = () => {\r\n        if (window.confirm('Are you sure you want to delete this banner image?')) {\r\n            dispatch({type: SET_BANNER_IMAGE_PENDING, payload: undefined});\r\n        }\r\n    }\r\n\r\n    const handleUpdateCaption = () => {\r\n        if (isEditing) {\r\n            const newDetailPageImage = {\r\n                ...(currentCaption && {alt: currentCaption}),\r\n                ...(detailPageImages[editingIndex].src && {src: detailPageImages[editingIndex].src}),\r\n                ...(detailPageImages[editingIndex].thumbnail && {thumbnail: detailPageImages[editingIndex].thumbnail})\r\n            };\r\n            const newDetailPageImages = [...detailPageImages];\r\n            newDetailPageImages.splice(editingIndex, 1, newDetailPageImage);\r\n            setDetailPageImages(newDetailPageImages);\r\n            toggleCaptionModal();\r\n        }\r\n        else if (isEditing_pending) {\r\n            const newDetailPageImage = {\r\n                ...(currentCaption && {alt: currentCaption}),\r\n                ...(state.detailPageImages_pending[editingIndex_pending].src && {src: state.detailPageImages_pending[editingIndex_pending].src}),\r\n                ...(state.detailPageImages_pending[editingIndex_pending].file && {file: state.detailPageImages_pending[editingIndex_pending].file})\r\n            };\r\n            const newDetailPageImages_pending = [...state.detailPageImages_pending];\r\n            newDetailPageImages_pending.splice(editingIndex_pending, 1, newDetailPageImage);\r\n            dispatch({type: SET_DETAIL_PAGE_IMAGES_PENDING, payload: newDetailPageImages_pending});\r\n            toggleCaptionModal();\r\n        }\r\n    }\r\n    \r\n    const handleAddCaption = () => {\r\n        const newDetailPageImage = {\r\n            ...(currentCaption && {alt: currentCaption}),\r\n            ...(currentImage && {file: currentImage}),\r\n            ...(currentImage && {src: URL.createObjectURL(currentImage)})\r\n        };\r\n        let newDetailPageImages_pending = [];\r\n        if (state.detailPageImages_pending) {\r\n            newDetailPageImages_pending = [...state.detailPageImages_pending];\r\n        }\r\n        newDetailPageImages_pending.push(newDetailPageImage);\r\n        dispatch({type: SET_DETAIL_PAGE_IMAGES_PENDING, payload: newDetailPageImages_pending});\r\n        toggleCaptionModal();\r\n    }\r\n\r\n    const handlePendingEdit = index => {\r\n        if (state.detailPageImages_pending[index]) {\r\n            setCurrentCaption(state.detailPageImages_pending[index].alt);\r\n            setIsEditing_pending(true);\r\n            setEditingIndex_pending(index);\r\n            setCaptionModalPage(2);\r\n            toggleCaptionModal();\r\n        }\r\n    }\r\n\r\n    const handlePendingDelete = index => {\r\n        if (window.confirm('Are you sure you want to delete this image?')) {\r\n            const newDetailPageImages_pending = [...state.detailPageImages_pending];\r\n            newDetailPageImages_pending.splice(index, 1);\r\n            dispatch({type: SET_DETAIL_PAGE_IMAGES_PENDING, payload: newDetailPageImages_pending});\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='MediaTabView'>\r\n            <TabView\r\n                header={`Media Upload ${location.name ? '- ' + location.name : ''}`}\r\n                description='This section is for uploading image media which can have optional caption text that will be shown with the image.'\r\n                previousView={TAB_UNIT}\r\n                nextView={TAB_PAYMENT}\r\n                formId='mediaForm'\r\n                showSaveButton={location.isPublished}\r\n                updatePreview={updatePreview}\r\n            >\r\n                <div className='card editDetailCard p-4'>\r\n                    <form id='mediaForm' onSubmit={handleFormSubmit}>\r\n                        <div {...getRootProps()} className='dropzone'>\r\n                            <input {...getInputProps()} />\r\n                            <div className=\"d-flex flex-column align-items-center justify-content-around h-100 py-5 bg-light\">\r\n                                <i className=\"fas fa-cloud-upload-alt largeText\"></i>\r\n                                <h3>Drop Files Here</h3>\r\n                                <p className='text-secondary fw-bold'>File types must be .jpg or .png</p>\r\n                                <button type=\"button\" className=\"btn btn-outline-primary\">Browse</button>\r\n                            </div>\r\n                        </div>\r\n                        {\r\n                            (state.detailPageImages_pending && state.detailPageImages_pending.length > 0 || state.bannerImage_pending) &&\r\n                            <>\r\n                                <h5 className=\"mt-5\">Images Pending Save</h5>\r\n                                <p>The following images will be uploaded once the location is saved with the <b>Save</b> button below. Banner images uploaded here will replace any existing banner image shown below.</p>\r\n                                <div className=\"row\">\r\n                                    {\r\n                                        state.bannerImage_pending &&\r\n                                        <div className=\"col-12 mb-4\">\r\n                                            <ImageCard\r\n                                                src={state.bannerImage_pending.src}\r\n                                                caption='Banner'\r\n                                                hideEdit\r\n                                                onDelete={handleBanner_pendingDelete}\r\n                                            />\r\n                                        </div>\r\n                                    }\r\n                                    {\r\n                                        state.detailPageImages_pending && state.detailPageImages_pending.map((image, index) => (\r\n                                            <div className=\"col-12 col-lg-6 mb-4\" key={index}>\r\n                                                <ImageCard\r\n                                                    src={image.src}\r\n                                                    caption={image.alt}\r\n                                                    onEdit={() => handlePendingEdit(index)}\r\n                                                    onDelete={() => handlePendingDelete(index)}\r\n                                                />\r\n                                            </div>\r\n                                        ))\r\n                                    }\r\n                                </div>\r\n                            </>\r\n                        }\r\n                        <h5 className='mt-5'>Banner Image</h5>\r\n                        <p>An optional banner image can be shown at the top of the page for each location. To change this image use the upload tool above and select <b>Banner Image</b> after uploading image. This new image will replace the current banner image once the location is saved.</p>\r\n                        {\r\n                            bannerImage\r\n                            ?\r\n                            <div\r\n                                className=\"bannerImage card rounded-0 rounded-top\"\r\n                                style={{\r\n                                    backgroundImage: `url(${bannerImage.src})`,\r\n                                    backgroundPosition: 'center',\r\n                                    backgroundRepeat: 'no-repeat',\r\n                                    backgroundSize: 'cover',\r\n                                    height: '30vh'\r\n                                }}\r\n                            >\r\n                                <div className=\"card-footer position-relative rounded-bottom border\">\r\n                                    <button type='button' className=\"btn btn-link text-danger\" onClick={() => {\r\n                                        if (window.confirm('Are you sure you want to delete this banner image?')) {\r\n                                            setBannerImage();\r\n                                        }\r\n                                    }}>\r\n                                        <i className=\"fas fa-trash-alt\"></i>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            :\r\n                            <p className=\"text-secondary pt-5\">Currently no banner image has been added. Upload an image with the upload tool above.</p>\r\n                        }\r\n                        <h5 className='mt-5'>Location Images</h5>\r\n                        <p>These are the images that are shown in the slider at the bottom of the location detail page. Here you can edit the caption text, delete images, and upload new ones using the upload tool above.</p>\r\n                        {\r\n                            !detailPageImages || (detailPageImages && detailPageImages.length === 0)\r\n                            ?\r\n                            <p className=\"text-secondary pt-5\">Currently no location images have been added. Upload images with the upload tool above.</p>\r\n                            :\r\n                            <div className=\"row\">\r\n                                {\r\n                                    detailPageImages.map((image, index) => (\r\n                                        <div className=\"col-12 col-lg-6 mb-4\" key={index}>\r\n                                            <ImageCard\r\n                                                src={image.src}\r\n                                                caption={image.alt}\r\n                                                onEdit={() => handleEdit(index)}\r\n                                                onDelete={() => handleDelete(index)}\r\n                                            />\r\n                                        </div>\r\n                                    ))\r\n                                }\r\n                            </div>\r\n                        }\r\n                    </form>\r\n                </div>\r\n            </TabView>\r\n            <Modal isOpen={captionModal} toggle={toggleCaptionModal} centered>\r\n                <ModalHeader>\r\n                    {\r\n                        captionModalPage === 1\r\n                        ?\r\n                        'Select Image Type'\r\n                        :\r\n                        `${isEditing ? 'Edit' : 'Add'} Caption Text`\r\n                    }\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    {\r\n                        captionModalPage === 1\r\n                        ?\r\n                        <div className='text-center'>\r\n                            <p>What type of image is this?</p>\r\n                            <button className=\"btn btn-outline-primary me-3\" type='button' onClick={handleBannerClick_modalPage}>Banner Image</button>\r\n                            <button className=\"btn btn-outline-primary\" type='button' onClick={handleLocaionImageClick_modalPage}>Location Image</button>\r\n                        </div>\r\n                        :\r\n                        <>\r\n                            <label htmlFor=\"caption\" className=\"form-label\">Image Caption</label>\r\n                            <textarea\r\n                                id=\"caption\"\r\n                                className='form-control'\r\n                                rows=\"4\"\r\n                                placeholder='Enter Caption'\r\n                                value={currentCaption}\r\n                                onChange={e => setCurrentCaption(e.target.value)}\r\n                            />\r\n                        </>\r\n                    }\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <button className=\"btn\" onClick={toggleCaptionModal}>CANCEL</button>\r\n                    {\r\n                        captionModalPage === 2 &&\r\n                        (isEditing || isEditing_pending\r\n                        ?\r\n                        <button className=\"btn btn-primary\" onClick={handleUpdateCaption}>Update</button>\r\n                        :\r\n                        <button className=\"btn btn-primary\" onClick={handleAddCaption}>Add</button>)\r\n                    }\r\n                </ModalFooter>\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MediaTabView;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { UPDATE_PREVIEW } from '../../context/ActionTypes';\r\nimport { AppContext } from '../../context/Store';\r\nimport { TAB_MEDIA } from '../../shared/Constants';\r\nimport { API } from '../../util/API';\r\nimport TabView from '../tabView/TabView';\r\n\r\nconst PaymentTabView = ({location}) => {\r\n    const [state, dispatch] = useContext(AppContext);\r\n\r\n    const [enablePayments, setEnablePayments] = useState(false);\r\n    const [paypalEmail, setPaypalEmail] = useState('');\r\n    const [markupPercentage, setMarkupPercentage] = useState('');\r\n    const [markupAmount, setMarkupAmount] = useState('');\r\n\r\n    const [wasValidated, setWasValidated] = useState(false);\r\n\r\n    /**\r\n     * Every time a field changes update the preview so when this tab is exited the preview retains its data.\r\n     */\r\n    useEffect(() => {\r\n        updatePreview();\r\n    }, [enablePayments, paypalEmail, markupPercentage, markupAmount]);\r\n\r\n    useEffect(() => {\r\n        const locationWithChanges = {\r\n            ...location,\r\n            ...state.previewLocation\r\n        };\r\n        setEnablePayments(locationWithChanges.enablePayments ? locationWithChanges.enablePayments : false);\r\n        setPaypalEmail(locationWithChanges.paypalEmail ? locationWithChanges.paypalEmail : '');\r\n        setMarkupPercentage(locationWithChanges.paymentMarkupPercent ? (locationWithChanges.paymentMarkupPercent * 100).toFixed(1) : '');\r\n        setMarkupAmount(locationWithChanges.paymentMarkupFixed ? locationWithChanges.paymentMarkupFixed : '');\r\n    }, [location]);\r\n\r\n    const handleFormSubmit = e => {\r\n        if (!e.target.checkValidity()) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n        else {\r\n            e.preventDefault();\r\n            API.updateLocation(state.previewLocation, (res, err) => {\r\n                if (res && res.status === 200) {\r\n                    console.log('success!');\r\n                }\r\n                else if (err) {\r\n                    console.log(err);\r\n                }\r\n            });\r\n        }\r\n        setWasValidated(true);\r\n    }\r\n    /**\r\n     * Updates the preview in context so when it is time to show the preview data from this tab will be included.\r\n     */\r\n    const updatePreview = () => {\r\n        const previewLocation = {\r\n            ...((enablePayments != null) && {enablePayments}),\r\n            ...(paypalEmail) && {paypalEmail},\r\n            ...(markupPercentage && {paymentMarkupPercent: (markupPercentage / 100).toFixed(3)}),\r\n            ...(markupAmount && {paymentMarkupFixed: markupAmount})\r\n        };\r\n        const payload = {\r\n            ...location,\r\n            ...state.previewLocation,\r\n            ...previewLocation\r\n        };\r\n        dispatch({type: UPDATE_PREVIEW, payload: payload});\r\n    }\r\n\r\n    return (\r\n        <div className='PaymentTabView'>\r\n            <TabView\r\n                header={`Payment Processing ${location.name ? '- ' + location.name : ''}`}\r\n                description='This section is for enabling payment processing with PayPal for this location. Optional fees can be set which will be added to each payment that is made.'\r\n                previousView={TAB_MEDIA}\r\n                formId='paymentForm'\r\n                showSaveButton={location.isPublished}\r\n                updatePreview={updatePreview}\r\n            >\r\n                <div className='card editDetailCard p-4'>\r\n                    <form id='paymentForm' className={`needs-validation ${wasValidated ? 'was-validated' : ''}`} onSubmit={handleFormSubmit} noValidate>\r\n                        <h5>Payment Information</h5>\r\n                        <p>Use this section to define if you would like to accept PayPal payment for this location, the associated account, and any fees you would like to charge.</p>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <div className=\"form-check form-switch\">\r\n                                <input\r\n                                    id='enablePayments'\r\n                                    className='form-check-input'\r\n                                    type=\"checkbox\"\r\n                                    checked={enablePayments}\r\n                                    onChange={e => setEnablePayments(e.target.checked)}\r\n                                />\r\n                                <label className='form-check-label' htmlFor=\"enablePayments\">Enable Payments</label>\r\n                            </div>\r\n                        </div>\r\n                        {\r\n                            enablePayments &&\r\n                            <>\r\n                                <div className=\"d-flex flex-column my-4\">\r\n                                    <label className='form-label requiredField' htmlFor=\"paypalEmail\">PayPal Primary Email</label>\r\n                                    <small className='text-secondary'>This is the primary email address associated with the PayPal account you wish to receive payments with.</small>\r\n                                    <input\r\n                                        id='paypalEmail'\r\n                                        className='form-control'\r\n                                        type=\"email\"\r\n                                        placeholder='Enter email'\r\n                                        value={paypalEmail}\r\n                                        onChange={e => setPaypalEmail(e.target.value)}\r\n                                        required\r\n                                    />\r\n                                    <div className=\"invalid-feedback fw-bold\">\r\n                                        PayPal Primary Email is a required field please enter an email address above.\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"d-flex flex-column my-4\">\r\n                                    <label className='form-label requiredField' htmlFor=\"markupPercentage\">Markup Percentage</label>\r\n                                    <small className='text-secondary'>For each payment sent to you an optional markup percentage can be applied. PayPal charges a 2.9% transaction fee for each payment so if you want to cover that cost you can set it to 2.9%. <b>To set no fee enter 0.</b></small>\r\n                                    <div className=\"input-group\">\r\n                                        <input\r\n                                            id='markupPercentage'\r\n                                            className='form-control'\r\n                                            type=\"number\"\r\n                                            placeholder='Enter Markup Percentage'\r\n                                            max='100'\r\n                                            min='0'\r\n                                            step='.1'\r\n                                            value={markupPercentage}\r\n                                            onChange={e => setMarkupPercentage(e.target.value)}\r\n                                            required\r\n                                        />\r\n                                        <span className=\"input-group-text\">%</span>\r\n                                        <div className=\"invalid-feedback fw-bold\">\r\n                                            Markup Percentage is a required field please enter a value above.\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"d-flex flex-column my-4\">\r\n                                    <label className='form-label requiredField' htmlFor=\"markupAmount\">Fixed Markup Amount</label>\r\n                                    <small className='text-secondary'>For each payment sent to you an optional fixed markup amount can be applied. PayPal charges a 30 cent transaction fee for each payment so if you want to cover that cost you can set it to 30 cents. <b>To set no fee enter 0.</b></small>\r\n                                    <div className=\"input-group\">\r\n                                        <span className=\"input-group-text\">$</span>\r\n                                        <input\r\n                                            id='markupAmount'\r\n                                            className='form-control'\r\n                                            type=\"number\"\r\n                                            placeholder='Enter Markup Amount'\r\n                                            min='0'\r\n                                            step='.01'\r\n                                            value={markupAmount}\r\n                                            onChange={e => setMarkupAmount(e.target.value)}\r\n                                            required\r\n                                        />\r\n                                        <div className=\"invalid-feedback fw-bold\">\r\n                                            Markup Amount is a required field please enter a value above.\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </>\r\n                        }\r\n                    </form>\r\n                </div>\r\n            </TabView>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PaymentTabView;","import React from 'react';\r\nimport { TAB_GENERAL, TAB_UNIT } from '../../shared/Constants';\r\nimport TabView from '../tabView/TabView';\r\n\r\nconst ThumbnailTabView = ({location}) => {\r\n    const handleFormSubmit = e => {\r\n        e.preventDefault();\r\n    }\r\n    return (\r\n        <div className='ThumbnailTabView'>\r\n            <TabView\r\n                header={`Thumbnail ${location.name ? '- ' + location.name : ''}`}\r\n                description='This section is for editing the thumbnail image and short description that will be shown on the map view when users click on the marker for this location.'\r\n                previousView={TAB_GENERAL}\r\n                nextView={TAB_UNIT}\r\n            >\r\n                <div className='card editDetailCard p-4'>\r\n                    <form onSubmit={handleFormSubmit}>\r\n                        \r\n                    </form>\r\n                </div>\r\n            </TabView>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ThumbnailTabView;","import React from 'react';\r\nimport './UnitCard.sass';\r\n\r\nconst UnitCard = props => {\r\n    const {unit} = props;\r\n    return (\r\n        <div className='UnitCard'>\r\n            <div className=\"card\">\r\n                <div className=\"card-header d-flex flex-row align-items-center p-2 bg-light\">\r\n                    <b className='me-auto'>{unit.unitName ? unit.unitName : '(unnamed)'}</b>\r\n                    <button type='button' className=\"btn btn-link text-secondary\" onClick={props.onEditClick}>\r\n                        <i className=\"fas fa-pencil-alt\"></i>\r\n                    </button>\r\n                    <button type='button' className=\"btn btn-link text-danger\" onClick={props.onDeleteClick}>\r\n                        <i className=\"fas fa-trash-alt\"></i>\r\n                    </button>\r\n                </div>\r\n                {\r\n                    props.showAvailable &&\r\n                    <div className=\"card-header p-2\">\r\n                        <button\r\n                            type='button'\r\n                            className={`availableButton ${unit.available ? 'available' : ''}`}\r\n                            onClick={props.onAvailableClick}\r\n                        ></button>\r\n                        <span className='fw-bold ms-3'>{unit.available ? 'Available' : 'Unavailable'}</span>\r\n                    </div>\r\n                }\r\n                <div className=\"card-body row\">\r\n                    <div className=\"col-12 col-sm-6\">\r\n                        <label className='fw-bold text-secondary'>Rent:</label>\r\n                        <span className=\"ms-3\">{unit.monthlyRent ? `$${unit.monthlyRent}` : '-'}</span>\r\n                    </div>\r\n                    <div className=\"col-12 col-sm-6\">\r\n                        <label className='fw-bold text-secondary'>Width:</label>\r\n                        <span className=\"ms-3\">{unit.width ? `${unit.width}ft` : '-'}</span>\r\n                    </div>\r\n                    <div className=\"col-12 col-sm-6\">\r\n                        <label className='fw-bold text-secondary'>Height:</label>\r\n                        <span className=\"ms-3\">{unit.height ? unit.height : '-'}</span>\r\n                    </div>\r\n                    <div className=\"col-12 col-sm-6\">\r\n                        <label className='fw-bold text-secondary'>Depth:</label>\r\n                        <span className=\"ms-3\">{unit.depth ? `${unit.depth}ft` : '-'}</span>\r\n                    </div>\r\n                    <div className=\"col-12 col-sm-6\">\r\n                        <label className='fw-bold text-secondary'>SQ FT:</label>\r\n                        <span className=\"ms-3\">{unit.squareFeet ? `${unit.squareFeet}sqft` : '-'}</span>\r\n                    </div>\r\n                    {\r\n                        !props.hideTotal &&\r\n                        <div className=\"col-12 col-sm-6\">\r\n                            <label className='fw-bold text-secondary'>Total #:</label>\r\n                            <span className=\"ms-3\">{unit.numberOfUnitsByType ? unit.numberOfUnitsByType : '-'}</span>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UnitCard;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\r\nimport { UPDATE_PREVIEW } from '../../context/ActionTypes';\r\nimport { AppContext } from '../../context/Store';\r\nimport { TAB_MEDIA, TAB_THUMBNAIL } from '../../shared/Constants';\r\nimport { API } from '../../util/API';\r\nimport TabView from '../tabView/TabView';\r\nimport UnitCard from '../unitCard/UnitCard';\r\n\r\nconst UnitTabView = ({location}) => {\r\n    const [state, dispatch] = useContext(AppContext);\r\n\r\n    // location fields\r\n    const [unitSummary, setUnitSummary] = useState();\r\n    const [units, setUnits] = useState();\r\n    const [extras, setExtras] = useState();\r\n\r\n    // Fields for unit summary creation modal\r\n    const [unitName_create, setUnitName_create] = useState('');\r\n    const [monthlyRent_create, setMonthlyRent_create] = useState('');\r\n    const [width_create, setWidth_create] = useState('');\r\n    const [height_create, setHeight_create] = useState('');\r\n    const [depth_create, setDepth_create] = useState('');\r\n    const [sqft_create, setSqft_create] = useState('');\r\n    const [numberOfUnits_create, setNumberOfUnits_create] = useState('');\r\n    \r\n    // Fields for unit available modal\r\n    const [unitName_available, setUnitName_available] = useState('');\r\n    const [monthlyRent_available, setMonthlyRent_available] = useState('');\r\n    const [width_available, setWidth_available] = useState('');\r\n    const [height_available, setHeight_available] = useState('');\r\n    const [depth_available, setDepth_available] = useState('');\r\n    const [sqft_available, setSqft_available] = useState('');\r\n    const [isAvailable_available, setIsAvailable_available] = useState(true);\r\n\r\n    // Fields for extras modal\r\n    const [price_extra, setPrice_extra] = useState();\r\n    const [frequency_extra, setFrequency_extra] = useState();\r\n    const [details_extra, setDetails_extra] = useState();\r\n\r\n    // form state\r\n    const [wasValidated, setWasValidated] = useState(false);\r\n\r\n    // unit summary state\r\n    const [unitSummaryModal, setUnitSummaryModal] = useState(false);\r\n    const [isEditing_summary, setIsEditing_summary] = useState(false);\r\n    const [editingIndex_summary, setEditingIndex_summary] = useState(-1);\r\n    \r\n    // unit availability state\r\n    const [unitAvailableModal, setUnitAvailableModal] = useState(false);\r\n    const [isEditing_available, setIsEditing_available] = useState(false);\r\n    const [editingIndex_available, setEditingIndex_available] = useState(-1);\r\n    const [availableModalPage, setAvailableModalPage] = useState(1);\r\n    const [existingUnit, setExistingUnit] = useState('');\r\n\r\n    // extras state\r\n    const [extrasModal, setExtrasModal] = useState(false);\r\n    const [isEditing_extra, setIsEditing_extra] = useState(false);\r\n    const [editingIndex_extra, setEditingIndex_extra] = useState(-1);\r\n    \r\n\r\n    /**\r\n     * Every time a field changes update the preview so when this tab is exited the preview retains its data.\r\n     */\r\n    useEffect(() => {\r\n        updatePreview();\r\n    }, [unitSummary, units, extras]);\r\n\r\n    useEffect(() => {\r\n        const locationWithChanges = {\r\n            ...location,\r\n            ...state.previewLocation\r\n        };\r\n        setUnitSummary(locationWithChanges.unitSummary ? locationWithChanges.unitSummary : '');\r\n        setUnits(locationWithChanges.units ? locationWithChanges.units : '');\r\n        setExtras(locationWithChanges.extras ? locationWithChanges.extras : '');\r\n    }, [location]);\r\n\r\n    const handleFormSubmit = e => {\r\n        if (!e.target.checkValidity()) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }\r\n        else {\r\n            e.preventDefault();\r\n            API.updateLocation(state.previewLocation, (res, err) => {\r\n                if (res && res.status === 200) {\r\n                    console.log('success!');\r\n                }\r\n                else if (err) {\r\n                    console.log(err);\r\n                }\r\n            });\r\n        }\r\n        setWasValidated(true);\r\n    }\r\n    /**\r\n     * Updates the preview in context so when it is time to show the preview data from this tab will be included.\r\n     */\r\n    const updatePreview = () => {\r\n        const previewLocation = {\r\n            ...(unitSummary && {unitSummary}),\r\n            ...(units && {units}),\r\n            ...(extras && {extras})\r\n        };\r\n        const payload = {\r\n            ...location,\r\n            ...state.previewLocation,\r\n            ...previewLocation\r\n        };\r\n        dispatch({type: UPDATE_PREVIEW, payload: payload});\r\n    }\r\n\r\n    /*\r\n    *          !!##########################!!\r\n    *          !!                          !!\r\n    *          !!       Unit Summary       !!\r\n    *          !!                          !!\r\n    *          !!##########################!!\r\n    */\r\n\r\n    /**\r\n     * Event handler for creating a new unit summary\r\n     */\r\n    const handleCreateUnitSummary = () => {\r\n        const newUnit = {\r\n        ...(unitName_create && {unitName: unitName_create}),\r\n        ...(monthlyRent_create && {monthlyRent: monthlyRent_create}),\r\n        ...(width_create && {width: width_create}),\r\n        ...(height_create && {height: height_create}),\r\n        ...(depth_create && {depth: depth_create}),\r\n        ...(sqft_create && {squareFeet: sqft_create}),\r\n        ...(numberOfUnits_create && {numberOfUnitsByType: numberOfUnits_create})\r\n        };\r\n        setUnitSummary(unitSummary.concat(newUnit));\r\n        toggleUnitSummaryModal();\r\n    }\r\n    \r\n    const handleUpdateUnitSummary = () => {\r\n        const newUnit = {\r\n        ...(unitName_create && {unitName: unitName_create}),\r\n        ...(monthlyRent_create && {monthlyRent: monthlyRent_create}),\r\n        ...(width_create && {width: width_create}),\r\n        ...(height_create && {height: height_create}),\r\n        ...(depth_create && {depth: depth_create}),\r\n        ...(sqft_create && {squareFeet: sqft_create}),\r\n        ...(numberOfUnits_create && {numberOfUnitsByType: numberOfUnits_create})\r\n        };\r\n        const newUnitSummarys = [...unitSummary];\r\n        newUnitSummarys.splice(editingIndex_summary, 1, newUnit);\r\n        setUnitSummary(newUnitSummarys);\r\n        toggleUnitSummaryModal();\r\n    }\r\n\r\n    const handleEditUnitSummary = index => {\r\n        if (unitSummary[index]) {\r\n            setUnitName_create(unitSummary[index].unitName);\r\n            setMonthlyRent_create(unitSummary[index].monthlyRent);\r\n            setWidth_create(unitSummary[index].width);\r\n            setHeight_create(unitSummary[index].height);\r\n            setDepth_create(unitSummary[index].depth);\r\n            setSqft_create(unitSummary[index].squareFeet);\r\n            setNumberOfUnits_create(unitSummary[index].numberOfUnitsByType);\r\n            setIsEditing_summary(true);\r\n            setEditingIndex_summary(index);\r\n            toggleUnitSummaryModal();\r\n        }\r\n    }\r\n\r\n    const handleDeleteUnitSummary = index => {\r\n        if (window.confirm('Are you sure you want to delete this unit summary?')) {\r\n            const newUnitSummarys = [...unitSummary];\r\n            newUnitSummarys.splice(index, 1);\r\n            setUnitSummary(newUnitSummarys);\r\n        }\r\n    }\r\n\r\n    const toggleUnitSummaryModal = () => {\r\n        if (unitSummaryModal) {\r\n            resetUnitSummaryModal();\r\n        }\r\n        setUnitSummaryModal(!unitSummaryModal);\r\n    }\r\n\r\n     const resetUnitSummaryModal = () => {\r\n        setUnitName_create('');\r\n        setMonthlyRent_create('');\r\n        setWidth_create('');\r\n        setHeight_create('');\r\n        setDepth_create('');\r\n        setSqft_create('');\r\n        setNumberOfUnits_create('');\r\n        setIsEditing_summary(false);\r\n        setEditingIndex_summary(-1);\r\n    }\r\n\r\n    \r\n    /*\r\n    *          !!###########################!!\r\n    *          !!                           !!\r\n    *          !!     Unit Availability     !!\r\n    *          !!                           !!\r\n    *          !!###########################!!\r\n    */\r\n\r\n    const toggleUnitAvailableModal = () => {\r\n        if (unitAvailableModal) {\r\n            resetUnitAvailableModal();\r\n        }\r\n        setUnitAvailableModal(!unitAvailableModal);\r\n    }\r\n\r\n    const resetUnitAvailableModal = () => {\r\n        setUnitName_available('');\r\n        setMonthlyRent_available('');\r\n        setWidth_available('');\r\n        setHeight_available('');\r\n        setDepth_available('');\r\n        setSqft_available('');\r\n        setIsEditing_available(false);\r\n        setEditingIndex_available(-1);\r\n        setExistingUnit('');\r\n        setTimeout(() => {\r\n            setAvailableModalPage(1);\r\n        }, 500);\r\n    }\r\n\r\n    const handleNextClickAvailableModal = () => {\r\n        const unit = JSON.parse(existingUnit);\r\n        setAvailableModalPage(2);\r\n        setUnitName_available(unit.unitName ? unit.unitName : '');\r\n        setMonthlyRent_available(unit.monthlyRent ? unit.monthlyRent : '');\r\n        setWidth_available(unit.width ? unit.width : '');\r\n        setHeight_available(unit.height ? unit.height : '');\r\n        setDepth_available(unit.depth ? unit.depth : '');\r\n        setSqft_available(unit.squareFeet ? unit.squareFeet : '');\r\n    }\r\n    \r\n    const handleAddUnitAvailable = () => {\r\n        const newUnit = {\r\n            ...(unitName_available && {unitName: unitName_available}),\r\n            ...(monthlyRent_available && {monthlyRent: monthlyRent_available}),\r\n            ...(width_available && {width: width_available}),\r\n            ...(height_available && {height: height_available}),\r\n            ...(depth_available && {depth: depth_available}),\r\n            ...(sqft_available && {squareFeet: sqft_available}),\r\n            available: true\r\n        };\r\n        setUnits(units.concat(newUnit));\r\n        toggleUnitAvailableModal();\r\n    }\r\n    \r\n    const handleUpdateUnitAvailable = () => {\r\n        const newUnit = {\r\n        ...(unitName_available && {unitName: unitName_available}),\r\n        ...(monthlyRent_available && {monthlyRent: monthlyRent_available}),\r\n        ...(width_available && {width: width_available}),\r\n        ...(height_available && {height: height_available}),\r\n        ...(depth_available && {depth: depth_available}),\r\n        ...(sqft_available && {squareFeet: sqft_available}),\r\n        ...(isAvailable_available && {available: isAvailable_available})\r\n        };\r\n        const newUnits = [...units];\r\n        newUnits.splice(editingIndex_available, 1, newUnit);\r\n        setUnits(newUnits);\r\n        toggleUnitAvailableModal();\r\n    }\r\n\r\n    const handleAvailableClick = index => {\r\n        if (units[index]) {\r\n            const newUnits = [...units];\r\n            newUnits[index].available = !newUnits[index].available;\r\n            setUnits(newUnits);\r\n        }\r\n    }\r\n\r\n    const handleEditUnitAvailable = (index) => {\r\n        if (units[index]) {\r\n            setUnitName_available(units[index].unitName);\r\n            setMonthlyRent_available(units[index].monthlyRent);\r\n            setWidth_available(units[index].width);\r\n            setHeight_available(units[index].height);\r\n            setDepth_available(units[index].depth);\r\n            setSqft_available(units[index].squareFeet);\r\n            setIsAvailable_available(units[index].available);\r\n            setIsEditing_available(true);\r\n            setEditingIndex_available(index);\r\n            setAvailableModalPage(2);\r\n            toggleUnitAvailableModal();\r\n        }\r\n    }\r\n\r\n    const handleDeleteUnitAvailable = (index) => {\r\n        if (window.confirm('Are you sure you want to delete this unit availability?')) {\r\n            const newUnits = [...units];\r\n            newUnits.splice(index, 1);\r\n            setUnits(newUnits);\r\n        }\r\n    }\r\n  \r\n    /*\r\n    *          !!##########################!!\r\n    *          !!                          !!\r\n    *          !!          Extras          !!\r\n    *          !!                          !!\r\n    *          !!##########################!!\r\n    */\r\n\r\n    const toggleExtrasModal = () => {\r\n        if (extrasModal) {\r\n            resetExtrasModal();\r\n        }\r\n        setExtrasModal(!extrasModal);\r\n    }\r\n\r\n    const resetExtrasModal = () => {\r\n        setPrice_extra('');\r\n        setFrequency_extra('');\r\n        setDetails_extra('');\r\n        setIsEditing_extra(false);\r\n        setEditingIndex_extra(-1);\r\n    }\r\n\r\n    const handleCreateExtra = () => {\r\n        const newExtra = {\r\n            ...(price_extra && {price: price_extra}),\r\n            ...(frequency_extra && {frequency: frequency_extra}),\r\n            ...(details_extra && {details: details_extra})\r\n        };\r\n        setExtras(extras.concat(newExtra));\r\n        toggleExtrasModal();\r\n    }\r\n\r\n    const handleUpdateExtra = () => {\r\n        const newExtra = {\r\n            ...(price_extra && {price: price_extra}),\r\n            ...(frequency_extra && {frequency: frequency_extra}),\r\n            ...(details_extra && {details: details_extra})\r\n        };\r\n        const newExtras = [...extras];\r\n        newExtras.splice(editingIndex_extra, 1, newExtra);\r\n        setExtras(newExtras);\r\n        toggleExtrasModal();\r\n    }\r\n\r\n    const handleEditExtra = index => {\r\n        if (extras[index]) {\r\n            setPrice_extra(extras[index].price);\r\n            setFrequency_extra(extras[index].frequency);\r\n            setDetails_extra(extras[index].details);\r\n            setIsEditing_extra(true);\r\n            setEditingIndex_extra(index);\r\n            toggleExtrasModal();\r\n        }\r\n    }\r\n\r\n    const handleDeleteExtra = index => {\r\n        if (window.confirm('Are you sure you want to delete this pricing extra?')) {\r\n            const newExtras = [...extras];\r\n            newExtras.splice(index, 1);\r\n            setExtras(newExtras);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='UnitTabView'>\r\n            <TabView\r\n                header={`Unit and Pricing Information ${location.name ? '- ' + location.name : ''}`}\r\n                description='This section is for editing unit information including a summary of the units at this location and a list of what units are currently available.'\r\n                previousView={TAB_THUMBNAIL}\r\n                nextView={TAB_MEDIA}\r\n                formId='unitForm'\r\n                showSaveButton={location.isPublished}\r\n                updatePreview={updatePreview}\r\n            >\r\n                <div className='card editDetailCard p-4 my-4'>\r\n                    <form id='unitForm' className={`needs-validation ${wasValidated ? 'was-validated' : ''}`} onSubmit={handleFormSubmit} noValidate>\r\n                        <h5>Unit Summary</h5>\r\n                        <p>Use this section for filling out the unit summary information. This is a description of what types and sizes of units are at this location.</p>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <small className='text-secondary'>Add a unit type with the <b>Add Unit</b> button. All unit types will be displayed below.</small>\r\n                            <div>\r\n                                <button type='button' className=\"btn btn-outline-primary\" onClick={toggleUnitSummaryModal}>Add Unit</button>\r\n                            </div>\r\n                            {\r\n                                !unitSummary || (unitSummary && unitSummary.length === 0)\r\n                                ?\r\n                                <p className=\"text-secondary pt-5\">Currently no unit types have been added. Create units with the <b>Add Unit</b> button above.</p>\r\n                                :\r\n                                <div className=\"row\">\r\n                                    {\r\n                                        unitSummary.map((unit, index) => (\r\n                                            <div className='my-2 col-12 col-lg-6 col-xl-4' key={index}>\r\n                                                <UnitCard\r\n                                                    unit={unit}\r\n                                                    onEditClick={() => handleEditUnitSummary(index)}\r\n                                                    onDeleteClick={() => handleDeleteUnitSummary(index)}\r\n                                                />\r\n                                            </div>\r\n                                        ))\r\n                                    }\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        <h5>Unit Availabilities</h5>\r\n                        <p>Use this section for showing which units are currently available.</p>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <small className='text-secondary'>Add an available unit with the <b>Add Availability</b> button. All available unit added will be displayed below.</small>\r\n                            <div>\r\n                                <button type='button' className=\"btn btn-outline-primary\" onClick={toggleUnitAvailableModal}>Add Availability</button>\r\n                            </div>\r\n                            {\r\n                                !units || (units && units.length === 0)\r\n                                ?\r\n                                <p className=\"text-secondary pt-5\">Currently no available units have been added. Create availabilities with the <b>Add Availability</b> button above.</p>\r\n                                :\r\n                                <div className=\"row\">\r\n                                    <p className='p-4 mt-3 bg-warning rounded-3'><b className='fst-italic'>Note:</b> You can quick change the availability of a unit by clicking the <b className='text-danger'>red</b> or <b className='text-success'>green</b> circular indicators. Setting a unit as <i>Unavailable</i> will remove it from the list of availabilities without deleting the record.</p>\r\n                                    {\r\n                                        units.map((unit, index) => (\r\n                                            <div className='my-2 col-12 col-lg-6 col-xl-4' key={index}>\r\n                                                <UnitCard\r\n                                                    unit={unit}\r\n                                                    hideTotal\r\n                                                    showAvailable\r\n                                                    onEditClick={() => handleEditUnitAvailable(index)}\r\n                                                    onDeleteClick={() => handleDeleteUnitAvailable(index)}\r\n                                                    onAvailableClick={() => handleAvailableClick(index)}\r\n                                                />\r\n                                            </div>\r\n                                        ))\r\n                                    }\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        <h5>Pricing Extras</h5>\r\n                        <p>Use this section to list extra charges, services, features that are available at this location such as additional storage, key replacements, parking etc.</p>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <small className='text-secondary'>Add a pricing extra with the <b>Add Extra</b> button. All pricing extras will be displayed below.</small>\r\n                            <div>\r\n                                <button type='button' className=\"btn btn-outline-primary\" onClick={toggleExtrasModal}>Add Extra</button>\r\n                            </div>\r\n                            {\r\n                                !extras || (extras && extras.length === 0)\r\n                                ?\r\n                                <p className=\"text-secondary pt-5\">Currently no pricing extras have been added. Create pricing extras with the <b>Add Extra</b> button above.</p>\r\n                                :\r\n                                <div className=\"row\">\r\n                                    {\r\n                                        extras.map((extra, index) => (\r\n                                            <div className='my-2 col-12 col-xl-6' key={index}>\r\n                                                <div className=\"card\">\r\n                                                    <div className=\"card-header d-flex flex-row align-items-center p-2 bg-light\">\r\n                                                        <b className='me-auto'>Pricing Extra</b>\r\n                                                        <button type='button' className=\"btn btn-link text-secondary\" onClick={() => handleEditExtra(index)}>\r\n                                                            <i className=\"fas fa-pencil-alt\"></i>\r\n                                                        </button>\r\n                                                        <button type='button' className=\"btn btn-link text-danger\" onClick={() => handleDeleteExtra(index)}>\r\n                                                            <i className=\"fas fa-trash-alt\"></i>\r\n                                                        </button>\r\n                                                    </div>\r\n                                                    <div className=\"card-body row\">\r\n                                                        <div className=\"col-12 col-sm-6\">\r\n                                                            <label className='fw-bold text-secondary'>Price:</label>\r\n                                                            <span className=\"ms-3\">{extra.price ? `$${extra.price}` : '-'}</span>\r\n                                                        </div>\r\n                                                        <div className=\"col-12 col-sm-6\">\r\n                                                            <label className='fw-bold text-secondary'>Frequency:</label>\r\n                                                            <span className=\"ms-3\">{extra.frequency ? `${extra.frequency}` : '-'}</span>\r\n                                                        </div>\r\n                                                        <div className=\"col-12\">\r\n                                                            <label className='fw-bold text-secondary'>Details:</label>\r\n                                                            <span className=\"ms-3\">{extra.details ? extra.details : '-'}</span>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        ))\r\n                                    }\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </TabView>\r\n            <Modal isOpen={unitSummaryModal} toggle={toggleUnitSummaryModal} size='lg' centered>\r\n                <ModalHeader>\r\n                    {\r\n                        isEditing_summary\r\n                        ?\r\n                        'Editing Unit Type'\r\n                        :\r\n                        'Create A Unit Type'\r\n                    }\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    <div className=\"row my-3 align-items-end\">\r\n                        <div className=\"col-12 col-lg-6\">\r\n                            <label className='form-label' htmlFor=\"unitName\">Unit Name</label>\r\n                            <small className='text-secondary d-block'>Name that describes this unit like 'Small Unit' or 'Large Unit'.</small>\r\n                            <input\r\n                                id='unitName'\r\n                                className='form-control'\r\n                                type=\"text\"\r\n                                placeholder='Enter Unit Name'\r\n                                value={unitName_create}\r\n                                onChange={e => setUnitName_create(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-12 col-lg-6\">\r\n                            <label htmlFor=\"monthlyRent\" className=\"form-label\">Monthly Rent</label>\r\n                            <div className=\"input-group\">\r\n                                <span className='input-group-text'>$</span>\r\n                                <input\r\n                                    id='monthlyRent'\r\n                                    className='form-control'\r\n                                    type=\"Number\"\r\n                                    placeholder='Enter Monthly Rent'\r\n                                    min={0}\r\n                                    step='.01'\r\n                                    value={monthlyRent_create}\r\n                                    onChange={e => setMonthlyRent_create(e.target.value)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row my-3 align-items-end\">\r\n                        <div className=\"col-12 col-lg-6\">\r\n                            <label htmlFor=\"width\" className=\"form-label\">Unit Width</label>\r\n                            <small className='text-secondary d-block'>Width in feet (a <b>ft</b> symbol will be added to the value entered)</small>\r\n                            <input\r\n                                id=\"width\"\r\n                                className=\"form-control\"\r\n                                type='Number'\r\n                                placeholder='Enter Width'\r\n                                min={0}\r\n                                value={width_create}\r\n                                onChange={e => setWidth_create(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-12 col-lg-6\">\r\n                            <label htmlFor=\"height\" className=\"form-label\">Unit Height</label>\r\n                            <input\r\n                                id=\"height\"\r\n                                className=\"form-control\"\r\n                                type='text'\r\n                                placeholder='Enter Height'\r\n                                value={height_create}\r\n                                onChange={e => setHeight_create(e.target.value)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row my-3 align-items-end\">\r\n                        <div className=\"col-12 col-lg-6\">\r\n                            <label htmlFor=\"depth\" className=\"form-label\">Unit Depth</label>\r\n                            <small className='text-secondary d-block'>Depth in feet (a <b>ft</b> symbol will be added to the value entered)</small>\r\n                            <input\r\n                                id='depth'\r\n                                className=\"form-control\"\r\n                                type=\"Number\"\r\n                                placeholder='Enter Depth'\r\n                                min={0}\r\n                                value={depth_create}\r\n                                onChange={e => setDepth_create(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-12 col-lg-6\">\r\n                            <label htmlFor=\"sqft\" className=\"form-label\">Square Feet</label>\r\n                            <small className='text-secondary d-block'>Square footage (a <b>sqft</b> symbol will be added to the value entered)</small>\r\n                            <input\r\n                                id='sqft'\r\n                                className=\"form-control\"\r\n                                type=\"Number\"\r\n                                placeholder='Enter Square Feet'\r\n                                min={0}\r\n                                value={sqft_create}\r\n                                onChange={e => setSqft_create(e.target.value)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row my-3 align-items-end\">\r\n                        <div className=\"col-12 col-lg-6\">\r\n                            <label htmlFor=\"numberOfUnits\" className=\"form-label\">Number of Units</label>\r\n                            <small className='text-secondary d-block'>The total number of these units that are at this location.</small>\r\n                            <input\r\n                                id='numberOfUnits'\r\n                                className=\"form-control\"\r\n                                type=\"Number\"\r\n                                placeholder='Enter # Of Units'\r\n                                min={0}\r\n                                value={numberOfUnits_create}\r\n                                onChange={e => setNumberOfUnits_create(e.target.value)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <button className=\"btn\" onClick={toggleUnitSummaryModal}>CANCEL</button>\r\n                    {\r\n                        isEditing_summary\r\n                        ?\r\n                        <button className=\"btn btn-primary\" onClick={handleUpdateUnitSummary}>Update</button>\r\n                        :\r\n                        <button className=\"btn btn-primary\" onClick={handleCreateUnitSummary}>Create</button>\r\n                    }\r\n                </ModalFooter>\r\n            </Modal>\r\n            <Modal isOpen={unitAvailableModal} toggle={toggleUnitAvailableModal} size='lg' centered>\r\n                <ModalHeader>\r\n                    {\r\n                        isEditing_available\r\n                        ?\r\n                        'Editing Unit'\r\n                        :\r\n                        'Add A New Availability'\r\n                    }\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    {\r\n                        availableModalPage === 1 &&\r\n                        <div className=\"row\">\r\n                            <div className=\"col-12 col-lg-6 d-flex flex-column border-end border-dark\">\r\n                                <p>You can add available unit information based on a unit previously created by selecting the unit name in the dropdown below.</p>\r\n                                <label htmlFor=\"existingUnit\" className=\"form-label text-secondary\">Existing Unit</label>\r\n                                <div className=\"input-group\">\r\n                                    <select\r\n                                        id=\"existingUnit\"\r\n                                        className=\"form-select\"\r\n                                        value={existingUnit}\r\n                                        onChange={e => setExistingUnit(e.target.value)}\r\n                                    >\r\n                                        <option value='' selected>Select Unit</option>\r\n                                        {\r\n                                            unitSummary &&\r\n                                            unitSummary.map((unit, index) => (\r\n                                                <option key={index} value={JSON.stringify(unit)}>{unit.unitName}</option>\r\n                                            ))\r\n                                        }\r\n                                    </select>\r\n                                    <button\r\n                                        className=\"btn btn-outline-primary\"\r\n                                        onClick={handleNextClickAvailableModal}\r\n                                        disabled={existingUnit === ''}\r\n                                    >\r\n                                        Next\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"d-lg-none text-center mt-5\">or</div>\r\n                            <div className=\"col-12 col-lg-6 d-flex flex-column text-center justify-content-center mt-5 mt-lg-0\">\r\n                                <p>Enter values for unit manually</p>\r\n                                <div>\r\n                                    <button className=\"btn btn-outline-secondary\" onClick={() => setAvailableModalPage(2)}>Enter Manually</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        availableModalPage === 2 &&\r\n                        <>\r\n                            <div className=\"row my-3 align-items-end\">\r\n                                <div className=\"col-12 col-lg-6\">\r\n                                    <label className='form-label' htmlFor=\"unitName\">Unit Name</label>\r\n                                    <small className='text-secondary d-block'>Can be the same as the unit summary name or the specific name/number of this unit like 'Unit 101'.</small>\r\n                                    <input\r\n                                        id='unitName'\r\n                                        className='form-control'\r\n                                        type=\"text\"\r\n                                        placeholder='Enter Unit Name'\r\n                                        value={unitName_available}\r\n                                        onChange={e => setUnitName_available(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-12 col-lg-6\">\r\n                                    <label htmlFor=\"monthlyRent\" className=\"form-label\">Monthly Rent</label>\r\n                                    <div className=\"input-group\">\r\n                                        <span className='input-group-text'>$</span>\r\n                                        <input\r\n                                            id='monthlyRent'\r\n                                            className='form-control'\r\n                                            type=\"Number\"\r\n                                            placeholder='Enter Monthly Rent'\r\n                                            min={0}\r\n                                            step='.01'\r\n                                            value={monthlyRent_available}\r\n                                            onChange={e => setMonthlyRent_available(e.target.value)}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row my-3 align-items-end\">\r\n                                <div className=\"col-12 col-lg-6\">\r\n                                    <label htmlFor=\"width\" className=\"form-label\">Unit Width</label>\r\n                                    <small className='text-secondary d-block'>Width in feet (a <b>ft</b> symbol will be added to the value entered)</small>\r\n                                    <input\r\n                                        id=\"width\"\r\n                                        className=\"form-control\"\r\n                                        type='Number'\r\n                                        placeholder=\"Enter Width\"\r\n                                        min={0}\r\n                                        value={width_available}\r\n                                        onChange={e => setWidth_available(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-12 col-lg-6\">\r\n                                    <label htmlFor=\"height\" className=\"form-label\">Unit Height</label>\r\n                                    <input\r\n                                        id=\"height\"\r\n                                        className=\"form-control\"\r\n                                        type='text'\r\n                                        placeholder='Enter Height'\r\n                                        value={height_available}\r\n                                        onChange={e => setHeight_available(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row my-3 align-items-end\">\r\n                                <div className=\"col-12 col-lg-6\">\r\n                                    <label htmlFor=\"depth\" className=\"form-label\">Unit Depth</label>\r\n                                    <small className='text-secondary d-block'>Depth in feet (a <b>ft</b> symbol will be added to the value entered)</small>\r\n                                    <input\r\n                                        id='depth'\r\n                                        className=\"form-control\"\r\n                                        type=\"Number\"\r\n                                        placeholder='Enter Depth'\r\n                                        min={0}\r\n                                        value={depth_available}\r\n                                        onChange={e => setDepth_available(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-12 col-lg-6\">\r\n                                    <label htmlFor=\"sqft\" className=\"form-label\">Square Feet</label>\r\n                                    <small className='text-secondary d-block'>Square footage (a <b>sqft</b> symbol will be added to the value entered)</small>\r\n                                    <input\r\n                                        id='sqft'\r\n                                        className=\"form-control\"\r\n                                        type=\"Number\"\r\n                                        placeholder='Enter Square Feet'\r\n                                        min={0}\r\n                                        value={sqft_available}\r\n                                        onChange={e => setSqft_available(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </>\r\n                    }\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <button className=\"btn\" onClick={toggleUnitAvailableModal}>CANCEL</button>\r\n                    {\r\n                        availableModalPage === 2 &&\r\n                        (isEditing_available\r\n                        ?\r\n                        <button className=\"btn btn-primary\" onClick={handleUpdateUnitAvailable}>Update</button>\r\n                        :\r\n                        <button className=\"btn btn-primary\" onClick={handleAddUnitAvailable}>Add</button>)\r\n                    }\r\n                </ModalFooter>\r\n            </Modal>\r\n            <Modal isOpen={extrasModal} toggle={toggleExtrasModal} size='lg' centered>\r\n                <ModalHeader>\r\n                    {\r\n                        isEditing_extra\r\n                        ?\r\n                        'Editing Extra'\r\n                        :\r\n                        'Create A New Pricing Extra'\r\n                    }\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    <>\r\n                        <div className=\"row my-3 align-items-end\">\r\n                            <div className=\"col-12 col-lg-6\">\r\n                                <label className='form-label' htmlFor=\"price\">Price</label>\r\n                                <small className='text-secondary d-block'>The price / cost of this extra.</small>\r\n                                <div className=\"input-group\">\r\n                                    <span className='input-group-text'>$</span>\r\n                                    <input\r\n                                        id='price'\r\n                                        className='form-control'\r\n                                        type=\"Number\"\r\n                                        placeholder='Enter Price'\r\n                                        min={0}\r\n                                        step='.01'\r\n                                        value={price_extra}\r\n                                        onChange={e => setPrice_extra(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-12 col-lg-6\">\r\n                                <label htmlFor=\"frequency\" className=\"form-label\">Pricing Frequency</label>\r\n                                <small className='text-secondary d-block'>How often the charge is due.</small>\r\n                                <small className='text-secondary'>Example: monthly, yearly, one time etc.</small>\r\n                                <input\r\n                                    id='frequency'\r\n                                    className='form-control'\r\n                                    type=\"text\"\r\n                                    placeholder='Enter Pricing Frequency'\r\n                                    value={frequency_extra}\r\n                                    onChange={e => setFrequency_extra(e.target.value)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row my-3 align-items-end\">\r\n                            <div className=\"col-12\">\r\n                                <label htmlFor=\"details\" className=\"form-label\">Details</label>\r\n                                <small className='text-secondary d-block'>Explain what this charge is and the details associated with it.</small>\r\n                                <textarea\r\n                                    id=\"details\"\r\n                                    className='form-control'\r\n                                    rows=\"4\"\r\n                                    placeholder='Enter Details'\r\n                                    value={details_extra}\r\n                                    onChange={e => setDetails_extra(e.target.value)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <button className=\"btn\" onClick={toggleExtrasModal}>CANCEL</button>\r\n                    {\r\n                        isEditing_extra\r\n                        ?\r\n                        <button className=\"btn btn-primary\" onClick={handleUpdateExtra}>Update</button>\r\n                        :\r\n                        <button className=\"btn btn-primary\" onClick={handleCreateExtra}>Create</button>\r\n                    }\r\n                </ModalFooter>\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UnitTabView;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport GeneralTabView from '../../../components/generalTabView/GeneralTabView';\r\nimport MediaTabView from '../../../components/mediaTabView/MediaTabView';\r\nimport PaymentTabView from '../../../components/paymentTabView/PaymentTabView';\r\nimport ThumbnailTabView from '../../../components/thumbnailTabView/ThumbnailTabView';\r\nimport UnitTabView from '../../../components/unitTabView/UnitTabView';\r\nimport { SET_BANNER_IMAGE_PENDING, SET_DETAIL_PAGE_IMAGES_PENDING, SET_TABVIEW, UPDATE_PREVIEW } from '../../../context/ActionTypes';\r\nimport { AppContext } from '../../../context/Store';\r\nimport { TAB_GENERAL, TAB_MEDIA, TAB_PAYMENT, TAB_THUMBNAIL, TAB_UNIT } from '../../../shared/Constants';\r\nimport { API } from '../../../util/API';\r\n\r\nconst LocationEdit = () => {\r\n    const routeLocation = useLocation();\r\n    const history = useHistory();\r\n    const locationId = routeLocation.pathname.split('/location/')[1];\r\n    const [location, setLocation] = useState({});\r\n    const [state, dispatch] = useContext(AppContext);\r\n\r\n    useEffect(() => {\r\n        API.getLocationById(locationId, (res, err) => {\r\n            if (res && res.status === 200) {\r\n                setLocation(res.data);\r\n            }\r\n            else {\r\n                console.log(err);\r\n                if (err.response.status === 401) {\r\n                    history.push('/locations');\r\n                }\r\n            }\r\n        });\r\n        return () => {\r\n            // reset the preview to empty so the data doesn't cross with other locations that get opened.\r\n            setTimeout(() => {\r\n                dispatch({type: UPDATE_PREVIEW, payload: {}});\r\n                dispatch({type: SET_DETAIL_PAGE_IMAGES_PENDING, payload: undefined});\r\n                dispatch({type: SET_BANNER_IMAGE_PENDING, payload: undefined});\r\n            }, 1000);\r\n            dispatch({type: SET_TABVIEW, payload: TAB_GENERAL});\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div className='LocationEdit'>\r\n            {\r\n                state.tabView === TAB_GENERAL &&\r\n                <GeneralTabView location={location}/>\r\n            }\r\n            {\r\n                state.tabView === TAB_THUMBNAIL &&\r\n                <ThumbnailTabView location={location}/>\r\n            }\r\n            {\r\n                state.tabView === TAB_UNIT &&\r\n                <UnitTabView location={location}/>\r\n            }\r\n            {\r\n                state.tabView === TAB_MEDIA &&\r\n                <MediaTabView location={location}/>\r\n            }\r\n            {\r\n                state.tabView === TAB_PAYMENT &&\r\n                <PaymentTabView location={location}/>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LocationEdit;","import { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport default function ScrollToTop() {\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    document.getElementById('mainContent').scrollTo(0,0);\r\n  }, [pathname]);\r\n\r\n  return null;\r\n}","import './App.sass';\nimport { HashRouter, Route, Switch, Redirect, useLocation } from 'react-router-dom';\nimport Login from './routes/login/Login';\nimport Dashboard from './routes/dashboard/Dashboard';\nimport NotFound from './routes/NotFound/NotFound';\nimport PrivateRoute from './components/privateRoute/PrivateRoute';\nimport Settings from './routes/settings/Settings';\nimport Locations from './routes/locations/Locations';\nimport Toolbar from './shared/toolbar/Toolbar';\nimport MobileHeader from './shared/mobileHeader/MobileHeader';\nimport Store from './context/Store';\nimport Users from './routes/users/Users';\nimport LocationEdit from './routes/locations/locationEdit/LocationEdit';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useEffect } from 'react';\nimport { HELPERS, TOAST_TYPES } from './util/helpers';\nimport ScrollToTop from './components/scrollToTop/ScrollToTop';\n\nfunction App() {\n\n  useEffect(() => {\n    HELPERS.addToastListener((type, message) => {\n      const actionMap = {\n        [TOAST_TYPES.INFO]: showInfoToast,\n        [TOAST_TYPES.SUCCESS]: showSuccessToast,\n        [TOAST_TYPES.WARNING]: showWarningToast,\n        [TOAST_TYPES.ERROR]: showErrorToast\n      };\n      actionMap[type](message);\n    });\n  }, []);\n\n  const showInfoToast = (message) => toast.info(message);\n  const showSuccessToast = (message) => toast.success(message);\n  const showWarningToast = (message) => toast.warning(message);\n  const showErrorToast = (error) => {\n    error && toast.error(`${error.status} ${error.statusText}: ${error.data}`);\n  }\n  \n  return (\n    <Store>\n      <div className=\"App lightTheme\">\n        <HashRouter>\n          <div className=\"row m-0\">\n            <Route\n              path='/'\n              render={props => (\n                props.location.pathname !== '/login' &&\n                <>\n                  <div className=\"d-none d-md-block col-2 p-0\">\n                    <Toolbar/>\n                  </div>\n                  <div className='d-md-none'>\n                    <MobileHeader/>\n                  </div>\n                </>\n              )}\n            />\n            <div id='mainContent' className=\"col mainContent\">\n                <ScrollToTop/>\n                <Switch>\n                  <Route\n                    path='/'\n                    exact\n                    render={props => <Redirect to='/dashboard'/>}\n                  />\n                  <Route\n                    path='/login'\n                    exact\n                    component={Login}\n                  />\n                  <PrivateRoute\n                    path='/dashboard'\n                    exact\n                  >\n                    <Dashboard/>\n                  </PrivateRoute>\n                  <PrivateRoute\n                    path='/locations'\n                    exact\n                  >\n                    <Locations/>\n                  </PrivateRoute>\n                  <PrivateRoute\n                    path='/location/:slug'\n                    \n                  >\n                    <LocationEdit/>\n                  </PrivateRoute>\n                  <PrivateRoute\n                    path='/users'\n                    exact\n                  >\n                    <Users/>\n                  </PrivateRoute>\n                  <PrivateRoute\n                    path='/settings'\n                    exact\n                  >\n                    <Settings/>\n                  </PrivateRoute>\n                  <Route\n                    path='*'\n                    exact\n                    component={NotFound}\n                  />\n                </Switch>\n            </div>\n          </div>\n        </HashRouter>\n      </div>\n      <ToastContainer/>\n    </Store>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}