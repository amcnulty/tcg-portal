(this["webpackJsonptcg-portal"]=this["webpackJsonptcg-portal"]||[]).push([[0],{42:function(e,t,c){},43:function(e,t,c){},63:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},81:function(e,t,c){},83:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(16),r=c.n(a),o=(c(42),c(43),c(8)),i=c(5),l=c(9),j="SET_USER",b=c(14),d=function(e,t){switch(t.type){case j:return Object(b.a)(Object(b.a)({},e),{},{currentUser:t.payload});default:return e}},u=c(0),h={currentUser:null},O=Object(n.createContext)(h),x=function(e){var t=Object(n.useReducer)(d,h),c=Object(l.a)(t,2),s=c[0],a=c[1];return Object(u.jsx)(O.Provider,{value:[s,a],children:e.children})},m=c(15),f=c.n(m),p="https://contractorsgarage.com",g={withCredentials:!0},N=function(e){f.a.get(p+"/api/user/is-logged-in",g).then((function(t){e(t)}),(function(t){e(null,t)}))},v=function(e,t){f.a.post(p+"/api/user/login",e,g).then(t,(function(e){return t(null,e)}))},C=function(e){f.a.post(p+"/api/user/logout",null,g).then(e,(function(t){return e(null,t)}))},w=function(e){f.a.get(p+"/portal/user/get-all-users",g).then(e,(function(t){return e(null,t)}))},S=function(e){f.a.get(p+"/portal/locations",g).then(e,(function(t){return e(null,t)}))},y=(c(63),function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(""),r=Object(l.a)(a,2),o=r[0],b=r[1],d=Object(n.useState)(""),h=Object(l.a)(d,2),x=h[0],m=h[1],f=Object(n.useContext)(O),p=Object(l.a)(f,2),g=(p[0],p[1]),N=Object(i.h)().state;if(!0===c)return Object(u.jsx)(i.a,{to:(null===N||void 0===N?void 0:N.from)||"/dashboard"});return Object(u.jsx)("div",{className:"Login",children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),v({username:o,password:x},(function(e,t){e&&200===e.status?(g({type:j,payload:e.data}),s(!0)):console.log(t)}))},children:[Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(u.jsx)("input",{id:"username",className:"form-control",type:"text",value:o,onChange:function(e){return b(e.target.value)}})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(u.jsx)("input",{id:"password",className:"form-control",type:"password",value:x,onChange:function(e){return m(e.target.value)}})]}),Object(u.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"})]})})}),k=(c(69),function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)([]),r=Object(l.a)(a,2),j=r[0],b=r[1],d=Object(i.g)(),h=Object(n.useContext)(O),x=Object(l.a)(h,2),m=x[0];x[1];Object(n.useEffect)((function(){S((function(e,t){e&&200===e.status&&s(e.data)})),w((function(e,t){e&&200===e.status&&b(e.data)}))}),[]);return Object(u.jsxs)("div",{className:"Dashboard",children:[Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("h1",{className:"my-4",children:["Welcome, ",m.currentUser&&m.currentUser.firstName]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col-12 col-md-6",children:Object(u.jsxs)("div",{className:"card p-5 mb-3 mb-md-0",children:[Object(u.jsx)("h3",{children:"Number of Locations"}),Object(u.jsx)("h5",{className:"fw-bold themeText",children:c.length}),Object(u.jsx)(o.b,{to:"/locations",children:"Manage Locations"})]})}),m.currentUser&&m.currentUser.isAdmin&&Object(u.jsx)("div",{className:"col-12 col-md-6",children:Object(u.jsxs)("div",{className:"card p-5",children:[Object(u.jsx)("h3",{children:"Number of Users"}),Object(u.jsx)("h5",{className:"fw-bold themeText",children:j.length}),Object(u.jsx)(o.b,{to:"/users",children:"Manage Users"})]})})]})]}),"Dashboard component works!!! With new changes",Object(u.jsx)("button",{className:"btn btn-danger",onClick:function(){C((function(e,t){e&&200===e.status&&d.push("/")}))},children:"Logout"})]})}),U=(c(70),function(){return Object(u.jsx)("div",{className:"NotFound",children:"404 page not found!!!"})}),L=c(37),F=["children"],T=function(e){var t=e.children,c=Object(L.a)(e,F),s=Object(n.useState)(),a=Object(l.a)(s,2),r=a[0],o=a[1],d=Object(i.h)(),h=Object(n.useContext)(O),x=Object(l.a)(h,2),m=x[0],f=x[1];return Object(n.useEffect)((function(){m.currentUser?o(t):N((function(e,c){e&&200===e.status?(o(t),f({type:j,payload:e.data})):o(Object(u.jsx)(i.a,{to:{pathname:"/",state:{from:d}}}))}))}),[c.path]),Object(u.jsx)(i.b,Object(b.a)(Object(b.a)({},c),{},{render:function(){return r}}))},D=(c(71),function(){return Object(u.jsx)("div",{className:"Settings",children:"Settings Component Works!!"})}),E=(c(72),function(){return Object(u.jsx)("div",{className:"Locations",children:"locations page works!!"})}),M=(c(73),function(){return Object(u.jsx)("div",{className:"Toolbar toolbarBackground",children:Object(u.jsxs)("ul",{className:"list-unstyled",children:[Object(u.jsx)("li",{children:Object(u.jsx)(o.b,{className:"text-decoration-none",to:"/dashboard",children:"Dashboard"})}),Object(u.jsx)("li",{children:Object(u.jsx)(o.b,{className:"text-decoration-none",to:"/locations",children:"Locations"})}),Object(u.jsx)("li",{children:Object(u.jsx)(o.b,{className:"text-decoration-none",to:"/settings",children:"Settings"})})]})})}),P=c(85),B=c(86),W=c(87),A=c(91),I=c(88),J=c(89),R=c(90),G=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),c=t[0],s=t[1],a=Object(i.h)(),r=function(){return s(!c)},j=function(e){return e===a.pathname?"active":""};return Object(u.jsx)("div",{className:"MobileHeader",children:Object(u.jsxs)(P.a,{light:!0,expand:"md",className:"justify-content-between",children:[Object(u.jsx)(B.a,{className:"p-0",tag:o.b,to:"/",children:"CG"}),Object(u.jsx)(W.a,{onClick:r}),Object(u.jsx)(A.a,{isOpen:c,navbar:!0,children:Object(u.jsxs)(I.a,{className:"ml-auto",navbar:!0,children:[Object(u.jsx)(J.a,{children:Object(u.jsx)(R.a,{onClick:r,tag:o.b,to:"/dashboard",className:j("/dashboard"),children:"Dashboard"})}),Object(u.jsx)(J.a,{children:Object(u.jsx)(R.a,{onClick:r,tag:o.b,to:"/locations",className:j("/locations"),children:"Locations"})}),Object(u.jsx)(J.a,{children:Object(u.jsx)(R.a,{onClick:r,tag:o.b,to:"/settings",className:j("/settings"),children:"Settings"})})]})})]})})},H=(c(81),function(){return Object(u.jsx)("div",{className:"Users",children:"Users Component works!!!"})});var _=function(){return Object(u.jsx)(x,{children:Object(u.jsx)("div",{className:"App lightTheme",children:Object(u.jsx)(o.a,{children:Object(u.jsxs)("div",{className:"row m-0",children:[Object(u.jsx)(i.b,{path:"/",render:function(e){return"/"!==e.location.pathname&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"d-none d-md-block col-2 p-0",children:Object(u.jsx)(M,{})}),Object(u.jsx)("div",{className:"d-md-none",children:Object(u.jsx)(G,{})})]})}}),Object(u.jsx)("div",{className:"col-md-10 mainContent",children:Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{path:"/",exact:!0,component:y}),Object(u.jsx)(T,{path:"/dashboard",exact:!0,children:Object(u.jsx)(k,{})}),Object(u.jsx)(T,{path:"/locations",exact:!0,children:Object(u.jsx)(E,{})}),Object(u.jsx)(T,{path:"/users",exact:!0,children:Object(u.jsx)(H,{})}),Object(u.jsx)(T,{path:"/settings",exact:!0,children:Object(u.jsx)(D,{})}),Object(u.jsx)(i.b,{path:"*",exact:!0,component:U})]})})]})})})})},q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,92)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};c(82);r.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(_,{})}),document.getElementById("root")),q()}},[[83,1,2]]]);
//# sourceMappingURL=main.8039f739.chunk.js.map