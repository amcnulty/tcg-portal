(this["webpackJsonptcg-portal"]=this["webpackJsonptcg-portal"]||[]).push([[0],{103:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},146:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(19),i=a.n(s),l=(a(82),a(26)),o=(a(83),a(12)),r=a(14),d=a(4),b="SET_USER",j="SET_USERS",u="DELETE_USER",m="SET_TABVIEW",h="UPDATE_PREVIEW",O="OPEN_PREVIEW",p="RESET_PREVIEW",x="SET_DETAIL_PAGE_IMAGES_PENDING",f="SET_BANNER_IMAGE_PENDING",g="SET_THUMBNAIL_IMAGE_PENDING",v="TAB_GENERAL",N="TAB_THUMBNAIL",y="TAB_UNIT",w="TAB_PAYMENT",A="TAB_MEDIA",C=a(3),E=function(e,t){switch(t.type){case b:return Object(C.a)(Object(C.a)({},e),{},{currentUser:t.payload});case j:return Object(C.a)(Object(C.a)({},e),{},{allUsers:t.payload});case u:return Object(C.a)(Object(C.a)({},e),{},{currentUser:null});case m:return Object(C.a)(Object(C.a)({},e),{},{tabView:t.payload});case h:return Object(C.a)(Object(C.a)({},e),{},{previewLocation:t.payload});case O:return Object(C.a)(Object(C.a)({},e),{},{openPreview:!0});case p:return Object(C.a)(Object(C.a)({},e),{},{openPreview:!1});case x:return Object(C.a)(Object(C.a)({},e),{},{detailPageImages_pending:t.payload});case f:return Object(C.a)(Object(C.a)({},e),{},{bannerImage_pending:t.payload});case g:return Object(C.a)(Object(C.a)({},e),{},{thumbnailImage_pending:t.payload});default:return e}},I=a(0),S={currentUser:null,allUsers:null,tabView:v,previewLocation:{},openPreview:!1,detailPageImages_pending:void 0,bannerImage_pending:void 0,thumbnailImage_pending:void 0},k=Object(c.createContext)(S),P=function(e){var t=Object(c.useReducer)(E,S),a=Object(d.a)(t,2),n=a[0],s=a[1];return Object(I.jsx)(k.Provider,{value:[n,s],children:e.children})},T=a(28),U=a.n(T),F={TAB_GENERAL:"General",TAB_THUMBNAIL:"Thumbnail",TAB_UNIT:"Unit / Pricing",TAB_PAYMENT:"Payment",TAB_MEDIA:"Media"},L="INFO",D="SUCCESS",q="WARNING",B="ERROR",R={getTabNameFromTabView:function(e){return F[e]},listenerFunction:[],addToastListener:function(e){this.listenerFunction=e},showToast:function(e,t){this.listenerFunction(e,t)}},Q="https://contractorsgarage.com",V={withCredentials:!0},J=function(e,t,a,c){U.a.get(Q+e,V).then((function(e){a&&R.showToast(a.type,a.message),t(e)}),(function(e){null!==c&&void 0!==c||R.showToast(B,e.response),t(null,e)}))},M=function(e,t,a,c,n){U.a.post(Q+e,t,V).then((function(e){c&&R.showToast(c.type,c.message),a(e)}),(function(e){null!==n&&void 0!==n||R.showToast(B,e.response),a(null,e)}))},_=function(e,t,a,c,n){U.a.put(Q+e,t,V).then((function(e){c&&R.showToast(c.type,c.message),a(e)}),(function(e){null!==n&&void 0!==n||R.showToast(B,e.response),a(null,e)}))},Y=function(e,t,a,c){U.a.delete(Q+e,V).then((function(e){a&&R.showToast(a.type,a.message),t(e)}),(function(e){null!==c&&void 0!==c||R.showToast(B,e.response),t(null,e)}))},W=function(e){J("/api/user/is-logged-in",e,null,!0)},G=function(e,t){M("/api/user/login",e,t)},z=function(e){M("/api/user/logout",null,e)},H=function(e){J("/portal/user/get-all-users",e,null,!0)},Z=function(e,t,a){_("/portal/user/".concat(e),t,a,{type:D,message:"User data successfully updated!"})},K=function(e,t,a){_("/portal/user/change-password/".concat(e),t,a,{type:D,message:"Password updated successfully!"})},X=function(e,t){M("/portal/user/create",e,t,{type:D,message:"User created successfully!"})},$=function(e,t){Y("/portal/user/".concat(e),t,{type:D,message:"User deleted Successfully!"})},ee=function(e,t,a){_("/portal/user/max-allowance/".concat(e),t,a,{type:D,message:"User Updated Successfully!"})},te=function(e){J("/portal/locations",e,null,!0)},ae=function(e,t){J("/portal/location/".concat(e),t)},ce=function(e,t){M("/portal/location",e,t,{type:D,message:"Location Created!"})},ne=function(e,t){_("/portal/location",e,t)},se=function(e,t){M("/portal/location/preview",e,t,{type:D,message:"Preview has been generated!"})},ie=function(e,t){M("/portal/location/hide/".concat(e),null,t,{type:D,message:"Location has been hidden."})},le=function(e,t){Y("/portal/location/".concat(e),t,{type:D,message:"Location has been deleted."})},oe=function(e,t){var a=[];U.a.get(Q+"/portal/image-upload-credentials",V).then((function(t){for(var c=0;c<e.length;c++){var n=new FormData;n.append("file",e[c]),n.append("tags",["TCG","Portal Upload"]),n.append("upload_preset",t.data.UPLOAD_PRESET),n.append("api key",t.data.API_KEY),n.append("timestamp",Date.now()/1e3|0),a.push(U.a.post("https://api.cloudinary.com/v1_1/".concat(t.data.CLOUD_NAME,"/image/upload"),n,{headers:{"X-Requested-With":"XMLHttpRequest"}}))}return Promise.all(a)})).then(t).catch((function(e){R.showToast(B,"Error uploading images to server!"),t(null,e)}))},re=a.p+"static/media/lightLogo.83c080a5.svg",de=a.p+"static/media/lightLogoTransparent.e23d973f.svg",be=a.p+"static/media/lightLogoTransparentTextOnly.a8cbce4a.svg",je=a.p+"static/media/squareLightTransparent.cbbe2acf.svg",ue=a.p+"static/media/darkLogo.53731710.svg",me=a.p+"static/media/darkLogoTransparent.521f807a.svg",he=a.p+"static/media/squareDarkTransparent.dde4f566.svg",Oe=function(e){return e.textOnly?Object(I.jsx)("img",{className:"CompanyLogo",src:be,alt:"Contractors Garage"}):e.square?Object(I.jsx)("img",{className:"CompanyLogo",src:e.dark?he:je,alt:"Contractors Garage"}):e.dark?Object(I.jsx)("img",{className:"CompanyLogo",src:e.transparent?me:ue,alt:"Contractors Garage"}):Object(I.jsx)("img",{className:"CompanyLogo",src:e.transparent?de:re,alt:"Contractors Garage"})},pe=(a(103),function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(""),i=Object(d.a)(s,2),l=i[0],o=i[1],j=Object(c.useState)(""),u=Object(d.a)(j,2),m=u[0],h=u[1],O=Object(c.useContext)(k),p=Object(d.a)(O,2),x=(p[0],p[1]),f=Object(r.h)().state;if(!0===a)return Object(I.jsx)(r.a,{to:(null===f||void 0===f?void 0:f.from)||"/dashboard"});return Object(I.jsx)("div",{className:"Login d-flex flex-column h-100 justify-content-lg-center",children:Object(I.jsxs)("div",{className:"col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 mt-5 mt-lg-0 mb-lg-5",children:[Object(I.jsx)("div",{className:"text-center",children:Object(I.jsx)(Oe,{transparent:!0})}),Object(I.jsx)("h2",{className:"text-center mb-4",children:"ADMIN PORTAL"}),Object(I.jsxs)("form",{onSubmit:function(e){e.preventDefault(),G({username:l,password:m},(function(e,t){e&&200===e.status?(x({type:b,payload:e.data}),n(!0)):console.log(t)}))},children:[Object(I.jsxs)("div",{className:"mb-3",children:[Object(I.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(I.jsx)("input",{id:"username",className:"form-control",type:"text",value:l,onChange:function(e){return o(e.target.value)}})]}),Object(I.jsxs)("div",{className:"mb-3",children:[Object(I.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(I.jsx)("input",{id:"password",className:"form-control",type:"password",value:m,onChange:function(e){return h(e.target.value)}})]}),Object(I.jsx)("button",{className:"btn btn-primary form-control mt-4",type:"submit",children:"Login"})]})]})})}),xe=(a(111),function(){var e=Object(c.useContext)(k),t=Object(d.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),i=Object(d.a)(s,2),l=i[0],r=i[1];return Object(c.useEffect)((function(){te((function(e,t){e&&200===e.status&&r(e.data)}))}),[]),Object(c.useEffect)((function(){!a.allUsers&&a.currentUser&&a.currentUser.isAdmin&&H((function(e,t){e&&200===e.status&&n({type:j,payload:e.data})}))}),[a.currentUser]),Object(I.jsx)("div",{className:"Dashboard",children:Object(I.jsxs)("div",{className:"container",children:[Object(I.jsxs)("h1",{className:"my-4",children:["Welcome, ",a.currentUser&&a.currentUser.firstName]}),Object(I.jsxs)("div",{className:"row",children:[Object(I.jsx)("div",{className:"col-12 col-md-6",children:Object(I.jsxs)("div",{className:"card p-5 mb-3 mb-md-0",children:[Object(I.jsx)("h3",{children:"Published Locations"}),Object(I.jsx)("h5",{className:"fw-bold themeText",children:l.filter((function(e){return e.isPublished})).length}),Object(I.jsx)("h3",{children:"Drafts"}),Object(I.jsx)("h5",{className:"fw-bold themeText",children:l.filter((function(e){return e.isDraft})).length}),Object(I.jsx)("h3",{children:"Inactive Locations"}),Object(I.jsx)("h5",{className:"fw-bold themeText",children:l.filter((function(e){return!e.isDraft&&!e.isPublished})).length}),Object(I.jsx)(o.b,{to:"/locations",children:"Manage Locations"})]})}),a.currentUser&&a.currentUser.isAdmin&&Object(I.jsx)("div",{className:"col-12 col-md-6",children:Object(I.jsxs)("div",{className:"card p-5",children:[Object(I.jsx)("h3",{children:"Admin Users"}),Object(I.jsx)("h5",{className:"fw-bold themeText",children:a.allUsers&&a.allUsers.filter((function(e){return e.isAdmin})).length}),Object(I.jsx)("h3",{children:"Normal Users"}),Object(I.jsx)("h5",{className:"fw-bold themeText",children:a.allUsers&&a.allUsers.filter((function(e){return!e.isAdmin})).length}),Object(I.jsx)(o.b,{to:"/users",children:"Manage Users"})]})})]})]})})}),fe=(a(112),function(){return Object(I.jsx)("div",{className:"NotFound",children:"404 page not found!!!"})}),ge=a(24),ve=["children"],Ne=function(e){var t=e.children,a=Object(ge.a)(e,ve),n=Object(c.useState)(),s=Object(d.a)(n,2),i=s[0],l=s[1],o=Object(r.h)(),j=Object(c.useContext)(k),u=Object(d.a)(j,2),m=u[0],h=u[1];return Object(c.useEffect)((function(){m.currentUser?l(t):W((function(e,a){e&&200===e.status?(l(t),h({type:b,payload:e.data})):l(Object(I.jsx)(r.a,{to:{pathname:"/login",state:{from:o}}}))}))}),[a.path]),Object(I.jsx)(r.b,Object(C.a)(Object(C.a)({},a),{},{render:function(){return i}}))},ye=(a(113),function(){var e=Object(c.useContext)(k),t=Object(d.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(),i=Object(d.a)(s,2),l=i[0],o=i[1],r=Object(c.useState)(),j=Object(d.a)(r,2),u=j[0],m=j[1],h=Object(c.useState)(),O=Object(d.a)(h,2),p=O[0],x=O[1],f=Object(c.useState)(),g=Object(d.a)(f,2),v=g[0],N=g[1],y=Object(c.useState)(),w=Object(d.a)(y,2),A=w[0],E=w[1],S=Object(c.useState)(),P=Object(d.a)(S,2),T=P[0],U=P[1],F=Object(c.useState)(!1),L=Object(d.a)(F,2),D=L[0],B=L[1],Q=Object(c.useState)(),V=Object(d.a)(Q,2),J=V[0],M=V[1],_=Object(c.useState)(!1),Y=Object(d.a)(_,2),W=Y[0],G=Y[1],z=Object(c.useState)(),H=Object(d.a)(z,2),X=H[0],$=H[1],ee=Object(c.useState)(),te=Object(d.a)(ee,2),ae=te[0],ce=te[1],ne=Object(c.useState)(),se=Object(d.a)(ne,2),ie=se[0],le=se[1];Object(c.useEffect)((function(){a.currentUser&&(o(a.currentUser.firstName),m(a.currentUser.lastName),x(a.currentUser.username))}),[a.currentUser]);return Object(I.jsx)("div",{className:"Settings",children:Object(I.jsxs)("div",{className:"container mb-5 pb-5",children:[Object(I.jsx)("h2",{className:"my-4",children:"Settings"}),Object(I.jsx)("p",{children:"Update your profile information here."}),Object(I.jsxs)("form",{onSubmit:function(e){if(e.target.checkValidity()){e.preventDefault();var t={firstName:l,lastName:u,username:p};Z(a.currentUser._id,t,(function(c,s){c&&200===c.status?(console.log("success"),n({type:b,payload:Object(C.a)(Object(C.a)({},a.currentUser),t)})):s&&(s.response&&400===s.response.status&&(e.target.elements.namedItem("username").setCustomValidity("Current username value already in use, username must be unique. Choose another value."),M("Current username value already in use, username must be unique. Choose another value.")),console.log(s))}))}else e.preventDefault(),e.stopPropagation(),M(),R.showToast(q,"Unable to submit form! One or more fields are invalid.");B(!0)},className:"needs-validation ".concat(D?"was-validated":""),noValidate:!0,children:[Object(I.jsx)("h4",{children:"Basic Information"}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label requiredField",htmlFor:"firstName",children:"First Name"}),Object(I.jsx)("input",{id:"firstName",className:"form-control",type:"text",placeholder:"Enter First Name",value:l,onChange:function(e){return o(e.target.value)},required:!0}),Object(I.jsx)("div",{className:"invalid-feedback fw-bold",children:"First Name is a required field please enter a first name above."})]}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label requiredField",htmlFor:"lastName",children:"Last Name"}),Object(I.jsx)("input",{id:"lastName",className:"form-control",type:"text",placeholder:"Enter Last Name",value:u,onChange:function(e){return m(e.target.value)},required:!0}),Object(I.jsx)("div",{className:"invalid-feedback fw-bold",children:"Last Name is a required field please enter a last name above."})]}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label requiredField",htmlFor:"username",children:"Username"}),Object(I.jsx)("input",{id:"username",className:"form-control",type:"text",placeholder:"Enter Username",value:p,onChange:function(e){e.target.setCustomValidity(""),x(e.target.value)},required:!0}),Object(I.jsx)("div",{className:"invalid-feedback fw-bold",children:J||"Username is a required field please enter a username above."})]}),Object(I.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"})]}),Object(I.jsxs)("form",{onSubmit:function(e){if(e.target.checkValidity()){var t={password:v,newPassword:T};K(a.currentUser._id,t,(function(t,a){t&&200===t.status?console.log("success"):a&&(a.response&&400===a.response.status&&(e.target.elements.namedItem("password").setCustomValidity("Password not recognized!"),$("Password not recognized!")),console.log(a))}))}else e.preventDefault(),e.stopPropagation(),$(),R.showToast(q,"Unable to submit form! One or more fields are invalid.");G(!0)},className:"needs-validation ".concat(W?"was-validated":""),noValidate:!0,children:[Object(I.jsx)("h4",{className:"mt-5",children:"Change Password"}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label requiredField",htmlFor:"password",children:"Password"}),Object(I.jsx)("input",{id:"password",className:"form-control",type:"password",placeholder:"Enter Password",value:v,onChange:function(e){e.target.setCustomValidity(""),N(e.target.value)},required:!0}),Object(I.jsx)("div",{className:"invalid-feedback fw-bold",children:X||"Password is a required field please enter a password above."})]}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label requiredField",htmlFor:"repeatPassword",children:"Confirm Password"}),Object(I.jsx)("input",{id:"repeatPassword",className:"form-control",type:"password",placeholder:"Confirm Password",value:A,onChange:function(e){e.target.value===v?(e.target.setCustomValidity(""),ce()):(e.target.setCustomValidity("Passwords do not match!"),ce("Passwords do not match!")),E(e.target.value)},required:!0}),Object(I.jsx)("div",{className:"invalid-feedback fw-bold",children:ae||"Must confirm old password in order to change your password."})]}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label requiredField",htmlFor:"newPassword",children:"New Password"}),Object(I.jsx)("input",{id:"newPassword",className:"form-control",type:"password",placeholder:"Enter New Password",value:T,onChange:function(e){/^(?=.*[A-Z])(?=.*\d)[A-Za-z\d].{5,}$/.test(e.target.value)?(e.target.setCustomValidity(""),le()):(e.target.setCustomValidity("Password does not meet requirements. Must be minimum 6 digits long with at least one capital letter one number."),le("Password does not meet requirements. Must be minimum 6 digits long with at least one capital letter one number.")),U(e.target.value)},required:!0}),Object(I.jsx)("div",{className:"invalid-feedback fw-bold",children:ie||"Password is a required field please enter a new password above."})]}),Object(I.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"})]})]})})}),we=(a(114),a(149)),Ae=a(164),Ce=a(166),Ee=a(150),Ie=function(e){var t=e.location,a=Object(c.useState)(!1),n=Object(d.a)(a,2),s=n[0],i=n[1],l=t.thumbnailImage?t.thumbnailImage.src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAg0AAAGlCAIAAAD23VLdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkUxQTQyRkMyRkNCMjExRTM5NTU4OTZEQkJFNzU1OEY1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkUxQTQyRkMzRkNCMjExRTM5NTU4OTZEQkJFNzU1OEY1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTFBNDJGQzBGQ0IyMTFFMzk1NTg5NkRCQkU3NTU4RjUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTFBNDJGQzFGQ0IyMTFFMzk1NTg5NkRCQkU3NTU4RjUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7hkGSKAAAPo0lEQVR42uzd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";return Object(I.jsx)("div",{className:"LocationCard",children:t&&Object(I.jsxs)("div",{className:"card",children:[t.isDraft&&Object(I.jsx)("div",{className:"draftBadge position-absolute badge bg-black bg-opacity-75",children:Object(I.jsx)("h4",{className:"m-0",children:"DRAFT"})}),t.isPublished&&Object(I.jsx)("div",{className:"draftBadge position-absolute badge bg-primary bg-opacity-75",children:Object(I.jsx)("h4",{className:"m-0",children:"PUBLISHED"})}),!t.isDraft&&!t.isPublished&&Object(I.jsx)("div",{className:"draftBadge position-absolute badge bg-secondary bg-opacity-75",children:Object(I.jsx)("h4",{className:"m-0",children:"HIDDEN"})}),Object(I.jsx)("div",{className:"card-header themeBackground",children:Object(I.jsx)("h3",{children:t.name})}),Object(I.jsx)("div",{className:"card-body",style:{backgroundImage:"url("+l+")",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"250px"},children:Object(I.jsx)("div",{className:"shadowFade",children:Object(I.jsxs)("address",{className:"p-3 fw-bold",children:[Object(I.jsx)("p",{className:"m-0",children:t.addressFirstLine?t.addressFirstLine:"[address first line]"}),Object(I.jsx)("p",{children:t.addressSecondLine?t.addressSecondLine:"[address second line]"})]})})}),Object(I.jsxs)("div",{className:"card-footer cardFooterBackground d-flex justify-content-between",children:[Object(I.jsx)(o.b,{className:"btn btn-primary",to:"/location/".concat(t._id),children:"Manage"}),Object(I.jsxs)(we.a,{isOpen:s,toggle:function(){return i((function(e){return!e}))},direction:"left",children:[Object(I.jsx)(Ae.a,{tag:"span",children:Object(I.jsx)("button",{className:"btn",children:Object(I.jsx)("i",{className:"fas fa-ellipsis-v"})})}),Object(I.jsxs)(Ce.a,{children:[Object(I.jsx)(Ee.a,{className:"p-0 viewLocationDropdownItem",disabled:!t.isPublished,children:Object(I.jsxs)("a",{className:"text-decoration-none d-block py-1 px-3",href:"https://contractorsgarage.com/location/".concat(t.slug),target:"_blank",rel:"noopener noreferrer",children:[Object(I.jsx)("i",{className:"fas fa-external-link-alt text-primary"}),"\xa0 View"]})}),Object(I.jsxs)(Ee.a,{onClick:e.onEdit,children:[Object(I.jsx)("i",{className:"fas fa-pencil-alt text-success"}),"\xa0 Edit"]}),Object(I.jsxs)(Ee.a,{onClick:e.onHide,disabled:!t.isPublished&&!t.isDraft||t.isDraft,children:[Object(I.jsx)("i",{className:"fas fa-eye-slash"}),"\xa0 Hide Location"]}),Object(I.jsx)(Ee.a,{divider:!0}),Object(I.jsxs)(Ee.a,{className:"text-danger",onClick:e.onDelete,children:[Object(I.jsx)("i",{className:"fas fa-trash-alt"}),"\xa0 Delete"]})]})]})]})]})})},Se=(a(129),function(){var e=Object(c.useContext)(k),t=Object(d.a)(e,2),a=t[0],n=(t[1],Object(r.g)()),s=Object(c.useState)([]),i=Object(d.a)(s,2),l=i[0],o=i[1],b=Object(c.useState)([]),j=Object(d.a)(b,2),u=j[0],m=j[1];Object(c.useEffect)((function(){h()}),[a.currentUser]);var h=function(){a.currentUser&&te((function(e,t){if(e&&200===e.status)if(a.currentUser&&a.currentUser.isAdmin){var c=e.data;c.sort((function(e,t){return e.createdBy&&t.createdBy?e.createdBy.username===a.currentUser.username||e.createdBy.username[0]<t.createdBy.username[0]?-1:1:-1})),o(c);for(var n=c.filter((function(e){return!!e.createdBy})),s=c.filter((function(e){return!e.createdBy})),i=[],l={},r=0;r<n.length;r++)void 0!==l[n[r].createdBy.username]||(l[n[r].createdBy.username]=i.length,i[i.length]=[]),i[l[n[r].createdBy.username]].push(n[r]);i.push(s),m(i)}else o(e.data)}))},O=function(e){ie(e,(function(e,t){e&&200===e.status?(console.log("success"),h()):t&&console.log(t)}))},p=function(e){window.confirm("Are you sure you want to delete this location? This action cannot be reversed.")&&le(e,(function(e,t){e&&200===e.status?(console.log("success"),h()):t&&console.log(t)}))};return Object(I.jsx)("div",{className:"Locations",children:Object(I.jsxs)("div",{className:"container mb-5 pb-5",children:[Object(I.jsx)("h2",{className:"my-4",children:"Location Management"}),Object(I.jsx)("p",{children:"Below is a list of the locations you have access to. From here you can select a location to make updates. To create a new location select the 'New Location' button and you will be taken to a creation screen where you can create and upload content."}),Object(I.jsx)("div",{className:"row my-5",children:Object(I.jsxs)("div",{className:"card p-4",children:[Object(I.jsx)("h4",{children:"Create New Location"}),a.currentUser&&a.currentUser.isAdmin||a.currentUser&&a.currentUser.maxLocationAllowance>l.filter((function(e){return e.isPublished})).length?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("p",{children:"Create a new location. You will be able to first create a draft and preview what it will look like before publishing."}),Object(I.jsx)("button",{className:"btn btn-primary col-xl-2 col-lg-3 col-sm-4",type:"button",onClick:function(){n.push("/location/new")},children:"New Location"})]}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("p",{children:["You have reached your maximum location allowance of ",Object(I.jsx)("b",{children:a.currentUser&&a.currentUser.maxLocationAllowance}),"!"]}),Object(I.jsxs)("p",{children:["Please contact your administrator to request an increase in your max location allowance. For more information about listing with Contractors Garage visit the ",Object(I.jsx)("a",{href:"https://www.contractorsgarage.com/development-services",target:"_blank",rel:"noopener noreferrer",children:"List With Us"})," page."]})]})]})}),Object(I.jsx)("div",{className:"row mb-5 pb-5",children:l&&l.length>0?a.currentUser&&a.currentUser.isAdmin?u.map((function(e,t){return Object(I.jsxs)("div",{className:"row mb-5 pb-5",children:[Object(I.jsx)("h4",{children:e[0].createdBy?e[0].createdBy.username===a.currentUser.username?"Your Locations":"".concat(e[0].createdBy.username," Locations (").concat(e[0].createdBy.firstName," ").concat(e[0].createdBy.lastName,")"):"[deleted user]"}),e.map((function(e){return Object(I.jsx)("div",{className:"col-12 col-md-6 col-xxl-4 my-2",children:Object(I.jsx)(Ie,{location:e,onEdit:function(){return n.push("/location/".concat(e._id))},onHide:function(){return O(e._id)},onDelete:function(){return p(e._id)}})},e._id)}))]},t)})):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h4",{children:"Your Locations"}),l.map((function(e){return Object(I.jsx)("div",{className:"col-12 col-md-6 col-xxl-4 my-2",children:Object(I.jsx)(Ie,{location:e,onEdit:function(){return n.push("/location/".concat(e._id))},onHide:function(){return O(e._id)},onDelete:function(){return p(e._id)}})},e._id)}))]}):Object(I.jsxs)("p",{className:"text-secondary pt-5",children:["Currently no locations have been added. To create a new location click the ",Object(I.jsx)("b",{children:"New Location"})," button above."]})})]})})}),ke=(a(130),function(){var e=Object(r.h)(),t=Object(r.g)(),a=Object(c.useContext)(k),n=Object(d.a)(a,2),s=n[0],i=n[1],l=function(t){return t===e.pathname?"activeNavText":""},b=function(e){return e===s.tabView?"activeNavText":""};return Object(I.jsxs)("div",{className:"Toolbar toolbarBackground pt-4 d-flex flex-column",children:[Object(I.jsx)(Oe,{transparent:!0}),Object(I.jsxs)("div",{className:"navWrapper mt-5 d-flex flex-column flex-grow-1",children:[Object(I.jsxs)("ul",{className:"list-unstyled",children:[Object(I.jsx)("li",{className:"mt-2",children:Object(I.jsx)(o.b,{className:"text-decoration-none ".concat(l("/dashboard")),to:"/dashboard",children:"Dashboard"})}),Object(I.jsx)("li",{className:"mt-2",children:Object(I.jsx)(o.b,{className:"text-decoration-none ".concat(l("/locations")),to:"/locations",children:"Locations"})}),s.currentUser&&s.currentUser.isAdmin&&Object(I.jsx)("li",{className:"mt-2",children:Object(I.jsx)(o.b,{className:"text-decoration-none ".concat(l("/users")),to:"/users",children:"Users"})}),Object(I.jsx)("li",{className:"mt-2",children:Object(I.jsx)(o.b,{className:"text-decoration-none ".concat(l("/settings")),to:"/settings",children:"Settings"})})]}),e.pathname.startsWith("/location/")&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("hr",{}),Object(I.jsxs)("ul",{className:"list-unstyled",children:[Object(I.jsx)("li",{className:"mt-2",children:Object(I.jsx)("a",{className:"text-decoration-none ".concat(b(v)),href:void 0,onClick:function(){return i({type:m,payload:v})},children:R.getTabNameFromTabView(v)})}),Object(I.jsx)("li",{className:"mt-2",children:Object(I.jsx)("a",{className:"text-decoration-none ".concat(b(N)),href:void 0,onClick:function(){return i({type:m,payload:N})},children:R.getTabNameFromTabView(N)})}),Object(I.jsx)("li",{className:"mt-2",children:Object(I.jsx)("a",{className:"text-decoration-none ".concat(b(y)),href:void 0,onClick:function(){return i({type:m,payload:y})},children:R.getTabNameFromTabView(y)})}),Object(I.jsx)("li",{className:"mt-2",children:Object(I.jsx)("a",{className:"text-decoration-none ".concat(b(A)),href:void 0,onClick:function(){return i({type:m,payload:A})},children:R.getTabNameFromTabView(A)})}),Object(I.jsx)("li",{className:"mt-2",children:Object(I.jsx)("a",{className:"text-decoration-none ".concat(b(w)),href:void 0,onClick:function(){return i({type:m,payload:w})},children:R.getTabNameFromTabView(w)})})]})]}),Object(I.jsx)("button",{className:"btn btn-danger mt-auto",onClick:function(){z((function(e,a){e&&200===e.status&&(i({type:u}),t.push("/login"))}))},children:"Logout"})]})]})}),Pe=a(151),Te=a(152),Ue=a(153),Fe=a(154),Le=a(155),De=a(156),qe=a(157),Be=(a(131),function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),a=t[0],n=t[1],s=Object(r.h)(),i=Object(r.g)(),l=Object(c.useContext)(k),b=Object(d.a)(l,2),j=b[0],m=b[1],h=function(){return n(!a)},O=function(e){return e===s.pathname?"active":""};return Object(I.jsx)("div",{className:"MobileHeader",children:Object(I.jsxs)(Pe.a,{light:!0,expand:"md",className:"justify-content-between",children:[Object(I.jsx)(Te.a,{className:"p-0",tag:o.b,to:"/",children:Object(I.jsx)(Oe,{square:!0})}),Object(I.jsx)(Ue.a,{onClick:h}),Object(I.jsx)(Fe.a,{isOpen:a,navbar:!0,children:Object(I.jsxs)(Le.a,{className:"ml-auto",navbar:!0,children:[Object(I.jsx)(De.a,{children:Object(I.jsx)(qe.a,{onClick:h,tag:o.b,to:"/dashboard",className:O("/dashboard"),children:"Dashboard"})}),Object(I.jsx)(De.a,{children:Object(I.jsx)(qe.a,{onClick:h,tag:o.b,to:"/locations",className:O("/locations"),children:"Locations"})}),j.currentUser&&j.currentUser.isAdmin&&Object(I.jsx)(De.a,{children:Object(I.jsx)(qe.a,{onClick:h,tag:o.b,to:"/users",className:O("/users"),children:"Users"})}),Object(I.jsx)(De.a,{children:Object(I.jsx)(qe.a,{onClick:h,tag:o.b,to:"/settings",className:O("/settings"),children:"Settings"})}),Object(I.jsx)(Ee.a,{divider:!0}),Object(I.jsx)("button",{className:"btn btn-danger",onClick:function(){z((function(e,t){e&&200===e.status&&(m({type:u}),i.push("/"))}))},children:"Logout"})]})})]})})}),Re=a(165),Qe=a(158),Ve=a(159),Je=a(160),Me=(a(139),function(){var e=Object(c.useContext)(k),t=Object(d.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(),i=Object(d.a)(s,2),l=i[0],o=i[1],r=Object(c.useState)(),b=Object(d.a)(r,2),u=b[0],m=b[1],h=Object(c.useState)(),O=Object(d.a)(h,2),p=O[0],x=O[1],f=Object(c.useState)(),g=Object(d.a)(f,2),v=g[0],N=g[1],y=Object(c.useState)(!1),w=Object(d.a)(y,2),A=w[0],C=w[1],E=Object(c.useState)(),S=Object(d.a)(E,2),P=S[0],T=S[1],U=Object(c.useState)(!1),F=Object(d.a)(U,2),L=F[0],D=F[1],B=Object(c.useState)(),Q=Object(d.a)(B,2),V=Q[0],J=Q[1],M=Object(c.useState)(),_=Object(d.a)(M,2),Y=_[0],W=_[1],G=Object(c.useState)(),z=Object(d.a)(G,2),Z=z[0],K=z[1],te=Object(c.useState)(),ae=Object(d.a)(te,2),ce=ae[0],ne=ae[1],se=Object(c.useState)(),ie=Object(d.a)(se,2),le=ie[0],oe=ie[1];Object(c.useEffect)((function(){!a.allUsers&&a.currentUser&&a.currentUser.isAdmin&&re()}),[a.currentUser]);var re=function(){H((function(e,t){e&&200===e.status&&n({type:j,payload:e.data})}))},de=function(){return K(!Z)};return Object(I.jsxs)("div",{className:"Users",children:[Object(I.jsxs)("div",{className:"container mb-5 pb-5",children:[Object(I.jsx)("h2",{className:"my-4",children:"Users"}),Object(I.jsx)("p",{children:"Manage and create users here."}),Object(I.jsx)("h4",{children:"Current Users"}),a.allUsers&&a.allUsers.map((function(e,t){return Object(I.jsxs)("div",{className:"card my-3 border-secondary",children:[Object(I.jsx)("div",{className:"card-body",children:Object(I.jsxs)("div",{className:"row align-items-center",children:[e.isAdmin?Object(I.jsxs)("div",{className:"col-12 col-md-2 d-flex align-items-center",children:[Object(I.jsx)("h3",{className:"d-inline",children:Object(I.jsx)("i",{className:"fas fa-user-tie"})}),Object(I.jsx)("div",{className:"badge bg-success ms-2",children:"ADMIN"})]}):Object(I.jsx)("div",{className:"col-12 col-md-2",children:Object(I.jsx)("h3",{children:Object(I.jsx)("i",{className:"fas fa-user"})})}),Object(I.jsxs)("div",{className:"col-12 col-md-10",children:[Object(I.jsx)("span",{className:"fw-bold",children:e.username}),Object(I.jsx)("span",{className:"fw-bold ms-3",children:"- (".concat(e.firstName," ").concat(e.lastName,")")})]}),!e.isAdmin&&Object(I.jsx)("div",{className:"col-12 offset-md-2",children:Object(I.jsxs)("span",{className:"fw-bold",children:["Max Location Allowance: ",e.maxLocationAllowance]})})]})}),(!e.isAdmin||a.currentUser&&a.currentUser.isSuperAdmin)&&Object(I.jsxs)("div",{className:"card-footer d-flex",children:[(!e.isAdmin||a.currentUser&&a.currentUser.isSuperAdmin)&&Object(I.jsx)("button",{className:"btn btn-danger",onClick:function(){return function(e){window.confirm("Are you sure you want to delete this user?")&&$(e._id,(function(e,t){e&&200===e.status?(console.log("success"),re()):t&&console.log(t)}))}(e)},children:"Delete"}),!e.isAdmin&&Object(I.jsx)("button",{className:"btn btn-primary ms-auto",onClick:function(){return function(e){ne(e),oe(e.maxLocationAllowance),de()}(e)},children:"Edit Allowance"})]})]},t)})),Object(I.jsxs)("form",{onSubmit:function(e){e.target.checkValidity()?(e.preventDefault(),X({firstName:l,lastName:u,username:p,password:v,isAdmin:A,maxLocationAllowance:P},(function(t,a){t&&200===t.status?(console.log("success"),re()):a&&(a.response&&400===a.response.status&&(e.target.elements.namedItem("username").setCustomValidity("Current username value already in use, username must be unique. Choose another value."),J("Current username value already in use, username must be unique. Choose another value.")),console.log(a))}))):(e.preventDefault(),e.stopPropagation(),J(),R.showToast(q,"Unable to submit form! One or more fields are invalid."));D(!0)},className:"needs-validation ".concat(L?"was-validated":""),noValidate:!0,children:[Object(I.jsx)("h4",{className:"mt-5",children:"Create New User"}),Object(I.jsx)("p",{children:"Use this form to create a new user."}),Object(I.jsx)("div",{className:"d-flex flex-column my-4",children:Object(I.jsxs)("div",{className:"form-check form-switch",children:[Object(I.jsx)("input",{id:"isAdmin",className:"form-check-input",type:"checkbox",checked:A,onChange:function(e){return C(e.target.checked)}}),Object(I.jsx)("label",{className:"form-check-label",htmlFor:"isAdmin",children:"Is Admin"})]})}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label requiredField",htmlFor:"firstName",children:"First Name"}),Object(I.jsx)("input",{id:"firstName",className:"form-control",type:"text",placeholder:"Enter First Name",value:l,onChange:function(e){return o(e.target.value)},required:!0}),Object(I.jsx)("div",{className:"invalid-feedback fw-bold",children:"First Name is a required field please enter a first name above."})]}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label requiredField",htmlFor:"lastName",children:"Last Name"}),Object(I.jsx)("input",{id:"lastName",className:"form-control",type:"text",placeholder:"Enter Last Name",value:u,onChange:function(e){return m(e.target.value)},required:!0}),Object(I.jsx)("div",{className:"invalid-feedback fw-bold",children:"Last Name is a required field please enter a last name above."})]}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label requiredField",htmlFor:"username",children:"Username"}),Object(I.jsx)("input",{id:"username",className:"form-control",type:"text",placeholder:"Enter Username",value:p,onChange:function(e){e.target.setCustomValidity(""),x(e.target.value)},required:!0}),Object(I.jsx)("div",{className:"invalid-feedback fw-bold",children:V||"Username is a required field please enter a username above."})]}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label requiredField",htmlFor:"password",children:"Password"}),Object(I.jsx)("input",{id:"password",className:"form-control",type:"text",placeholder:"Enter Password",value:v,onChange:function(e){/^(?=.*[A-Z])(?=.*\d)[A-Za-z\d].{5,}$/.test(e.target.value)?(e.target.setCustomValidity(""),W()):(e.target.setCustomValidity("Password does not meet requirements. Must be minimum 6 digits long with at least one capital letter one number."),W("Password does not meet requirements. Must be minimum 6 digits long with at least one capital letter one number.")),N(e.target.value)},required:!0}),Object(I.jsx)("div",{className:"invalid-feedback fw-bold",children:Y||"Password is a required field please enter a password above."})]}),!A&&Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label requiredField",htmlFor:"maxAllowance",children:"Max Location Allowance"}),Object(I.jsx)("small",{className:"text-secondary",children:"This is how many locations this user will be able to publish according to their subscription level."}),Object(I.jsx)("input",{id:"maxAllowance",className:"form-control",type:"number",placeholder:"Enter Max Number of Locations",min:"0",value:P,onChange:function(e){return T(e.target.value)},required:!0}),Object(I.jsx)("div",{className:"invalid-feedback fw-bold",children:"Max location allowance is a required field please enter a value."})]}),Object(I.jsx)("button",{className:"btn btn-primary",children:"Submit"})]})]}),Object(I.jsxs)(Re.a,{isOpen:Z,toggle:de,centered:!0,children:[Object(I.jsx)(Qe.a,{children:"Edit Location Allowance"}),Object(I.jsx)(Ve.a,{children:Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label requiredField",htmlFor:"maxAllowance",children:"Max Location Allowance"}),Object(I.jsx)("small",{className:"text-secondary",children:"This is how many locations this user will be able to publish according to their subscription level."}),Object(I.jsx)("input",{id:"maxAllowance",className:"form-control",type:"number",placeholder:"Enter Max Number of Locations",min:"0",value:le,onChange:function(e){return oe(e.target.value)},required:!0})]})}),Object(I.jsxs)(Je.a,{children:[Object(I.jsx)("button",{className:"btn",onClick:de,children:"CANCEL"}),Object(I.jsx)("button",{className:"btn btn-primary",onClick:function(){ee(ce._id,{maxLocationAllowance:le},(function(e,t){e&&200===e.status?(console.log("success"),de(),re()):t&&console.log(t)}))},children:"Update"})]})]})]})}),_e=a(15),Ye=a(161),We=a(162),Ge=a(167),ze=a(163);a(140);function He(e){var t=Object(Ye.a)({zoomend:function(a){e.setZoom(t.getZoom())},click:function(t){e.handleClick(t.latlng)}});return null}var Ze=function(e){var t=Object(c.useState)(15),a=Object(d.a)(t,2),n=a[0],s=a[1],i=Object(c.useState)(),l=Object(d.a)(i,2),o=l[0],r=l[1];return Object(c.useEffect)((function(){o&&e.onCoordinateSelect(o)}),[o]),Object(I.jsxs)("div",{className:"CoordinatePicker",children:[Object(I.jsxs)(We.a,{center:e.center.length>1?e.center:[40.68924454236941,-74.04454171657564],zoom:n,scrollWheelZoom:!0,children:[Object(I.jsx)(He,{setZoom:s,handleClick:function(e){return r([e.lat,e.lng])}}),Object(I.jsx)(Ge.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",opacity:n<=7?1:0}),Object(I.jsx)(Ge.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",opacity:n>7?1:0}),(o||e.center)&&Object(I.jsx)(ze.a,{position:o||e.center})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{className:"badge bg-info",children:"Lat"}),Object(I.jsx)("span",{className:"fw-bold ms-4",children:o&&o[0]})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)("label",{className:"badge bg-info",children:"Long"}),Object(I.jsx)("span",{className:"fw-bold ms-4",children:o&&o[1]})]})]})},Ke=function(e){var t=Object(c.useContext)(k),a=Object(d.a)(t,2),n=a[0],s=a[1],i=Object(r.h)().pathname.split("/location/")[1],l=Object(c.useState)(!1),o=Object(d.a)(l,2),b=o[0],j=o[1],u=Object(c.useState)(""),h=Object(d.a)(u,2),x=h[0],f=h[1];Object(c.useEffect)((function(){n.openPreview&&se({data:JSON.stringify(n.previewLocation)},(function(e,t){e&&200===e.status&&(f("https://contractorsgarage.com/location/preview/"+e.data._id),g(),s({type:p}))}))}),[n.openPreview]);var g=function(){return j(!b)},v=function(e,t){e.preventDefault(),s({type:m,payload:t})};return Object(I.jsxs)("div",{className:"TabView",children:[Object(I.jsxs)("div",{className:"mb-5 pb-5",children:[Object(I.jsx)("h2",{className:"my-4",children:e.header}),Object(I.jsx)("p",{children:e.description}),e.children,Object(I.jsx)("div",{className:"card p-4 mt-4",children:Object(I.jsx)("div",{children:"new"===i?Object(I.jsx)("button",{form:e.formId,type:"submit",className:"btn btn-primary",children:"Save As Draft"}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("button",{form:e.formId,type:"submit",className:"btn btn-primary",children:"Save"}),!e.isPublished&&Object(I.jsx)("button",{form:e.formId,type:"submit",className:"btn btn-primary ms-2",onClick:e.onPublish,children:"Publish"}),Object(I.jsx)("button",{className:"btn btn-secondary ms-2",onClick:function(){e.updatePreview(),s({type:O})},children:"Create Preview"})]})})}),Object(I.jsxs)("div",{className:"tabViewNavSection d-flex justify-content-between my-5",children:[e.previousView&&Object(I.jsx)("div",{className:"card p-3",children:Object(I.jsxs)("a",{href:"/",onClick:function(t){return v(t,e.previousView)},children:[Object(I.jsx)("i",{className:"fas fa-arrow-left"})," Previous: ",R.getTabNameFromTabView(e.previousView)]})}),e.nextView&&Object(I.jsx)("div",{className:"ms-auto card p-3",children:Object(I.jsxs)("a",{href:"/",onClick:function(t){return v(t,e.nextView)},children:["Next: ",R.getTabNameFromTabView(e.nextView)," ",Object(I.jsx)("i",{className:"fas fa-arrow-right"})]})})]})]}),Object(I.jsxs)(Re.a,{isOpen:b,toggle:g,children:[Object(I.jsx)(Qe.a,{children:"Location Preview Generated"}),Object(I.jsxs)(Ve.a,{children:[Object(I.jsxs)("p",{children:["A preview has been generated from your data for this location. The link below will open the preview in a new tab. ",Object(I.jsx)("b",{children:"This link will expire in 30 minutes."})]}),Object(I.jsxs)("a",{href:x,target:"_blank",rel:"noopener noreferrer",children:["View Preview ",Object(I.jsx)("i",{className:"fas fa-external-link-alt"})]})]}),Object(I.jsx)(Je.a,{children:Object(I.jsx)("button",{className:"btn btn-primary",onClick:g,children:"Close"})})]})]})},Xe=function(e){var t=e.location,a=Object(c.useContext)(k),n=Object(d.a)(a,2),s=n[0],i=n[1],l=Object(r.g)(),o=Object(r.h)().pathname.split("/location/")[1],b=Object(c.useState)(""),j=Object(d.a)(b,2),u=j[0],m=j[1],O=Object(c.useState)(""),p=Object(d.a)(O,2),x=p[0],f=p[1],g=Object(c.useState)(""),v=Object(d.a)(g,2),y=v[0],w=v[1],A=Object(c.useState)(""),E=Object(d.a)(A,2),S=E[0],P=E[1],T=Object(c.useState)(),U=Object(d.a)(T,2),F=U[0],L=U[1],B=Object(c.useState)(""),Q=Object(d.a)(B,2),V=Q[0],J=Q[1],M=Object(c.useState)(""),_=Object(d.a)(M,2),Y=_[0],W=_[1],G=Object(c.useState)(""),z=Object(d.a)(G,2),H=z[0],Z=z[1],K=Object(c.useState)(""),X=Object(d.a)(K,2),$=X[0],ee=X[1],te=Object(c.useState)(""),ae=Object(d.a)(te,2),se=ae[0],oe=ae[1],re=Object(c.useState)(),de=Object(d.a)(re,2),be=de[0],je=de[1],ue=Object(c.useState)(""),me=Object(d.a)(ue,2),he=me[0],Oe=me[1],pe=Object(c.useState)(""),xe=Object(d.a)(pe,2),fe=xe[0],ge=xe[1],ve=Object(c.useState)(""),Ne=Object(d.a)(ve,2),ye=Ne[0],we=Ne[1],Ae=Object(c.useState)(),Ce=Object(d.a)(Ae,2),Ee=Ce[0],Ie=Ce[1],Se=Object(c.useState)(!1),ke=Object(d.a)(Se,2),Pe=ke[0],Te=ke[1],Ue=Object(c.useState)(""),Fe=Object(d.a)(Ue,2),Le=Fe[0],De=Fe[1];Object(c.useEffect)((function(){Be()}),[u,x,y,S,F,V,Y,H,$,se,be,he,fe,ye,Ee]),Object(c.useEffect)((function(){var e=Object(C.a)(Object(C.a)({},t),s.previewLocation);m(e.name?e.name:""),f(e.slug?e.slug:""),w(e.addressFirstLine?e.addressFirstLine:""),P(e.addressSecondLine?e.addressSecondLine:""),J(e.coordinates&&e.coordinates.length>1?e.coordinates[0]:""),W(e.coordinates&&e.coordinates.length>1?e.coordinates[1]:""),Z(e.shortDescription?e.shortDescription:""),ee(e.longDescription?e.longDescription:""),je(e.features?e.features:""),Oe(e.contactName?e.contactName:""),ge(e.contactPhone?e.contactPhone:""),we(e.contactEmail?e.contactEmail:""),Ie(e.isPublished?e.isPublished:null)}),[t]);var qe=function(e,t){if(e.target.checkValidity())if(e.preventDefault(),s.previewLocation._id){var a=t?Object(C.a)(Object(C.a)({},s.previewLocation),{},{isPublished:!0,isDraft:!1}):s.previewLocation;ne(a,(function(a,c){a&&200===a.status?(console.log("success!"),t?(Ie(!0),R.showToast(D,"Location Published!")):R.showToast(D,"Update Successful!")):c&&(c.response&&400===c.response.status&&(e.target.elements.namedItem("slug").setCustomValidity("Current value already in use, url slug must be unique. Choose another value."),De("Current value already in use, url slug must be unique. Choose another value.")),console.log(c))}))}else ce(s.previewLocation,(function(t,a){t&&200===t.status?(console.log("success!"),i({type:h,payload:t.data}),l.push("/location/".concat(t.data._id))):a&&(a.response&&400===a.response.status&&(e.target.elements.namedItem("slug").setCustomValidity("Current value already in use, url slug must be unique. Choose another value."),De("Current value already in use, url slug must be unique. Choose another value.")),console.log(a))}));else e.preventDefault(),e.stopPropagation(),R.showToast(q,"Unable to submit form! One or more fields are invalid.");Te(!0)},Be=function(){var e=Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)({},u&&{name:u}),x&&{slug:x}),y&&{addressFirstLine:y}),S&&{addressSecondLine:S}),V&&Y&&{coordinates:[V,Y]}),H&&{shortDescription:H}),$&&{longDescription:$}),be&&{features:be}),he&&{contactName:he}),fe&&{contactPhone:fe}),ye&&{contactEmail:ye}),null!=Ee&&{isPublished:Ee}),a=Object(C.a)(Object(C.a)(Object(C.a)({},t),s.previewLocation),e);i({type:h,payload:a})},Me=Object(c.useState)(!1),Ye=Object(d.a)(Me,2),We=Ye[0],Ge=Ye[1],ze=function(){return Ge(!We)};return Object(I.jsxs)("div",{className:"GeneralTabView",children:[Object(I.jsxs)(Ke,{header:"General ".concat(u?"- "+u:""),description:"This section is for editing the general details about the location including the name, description, address, contact and coordinates.",nextView:N,formId:"generalForm",isPublished:Ee,updatePreview:Be,onPublish:function(e){e.preventDefault(),qe(e,!0)},children:["new"!==o&&Object(I.jsxs)("div",{className:"card actionsSection p-4 my-4",children:[Object(I.jsx)("h5",{children:"Quick Actions"}),Object(I.jsx)("p",{children:"Below is a list of actions you can perform on this location record."}),Ee&&Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("p",{children:"View this location on the live site."}),Object(I.jsx)("span",{children:Object(I.jsxs)("a",{className:"btn btn-outline-primary",href:"https://contractorsgarage.com/location/".concat(x),target:"_blank",rel:"noopener noreferrer",children:["View Location \xa0 ",Object(I.jsx)("i",{className:"fas fa-external-link-alt"})]})})]}),Ee&&Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("p",{children:"Hide this location from view on the live site. This will only temporarily disable the location and will not delete it. You can reverse this action at any time."}),Object(I.jsx)("span",{children:Object(I.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){ie(s.previewLocation._id,(function(e,t){e&&200===e.status?(console.log("success"),Ie(!1)):t&&console.log(t)}))},children:"Hide Location"})})]}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("p",{children:"Delete this location from the database. Warning this action cannot be reversed!"}),Object(I.jsx)("span",{children:Object(I.jsx)("button",{className:"btn btn-outline-danger",onClick:function(){window.confirm("Are you sure you want to delete this location? This action cannot be reversed.")&&le(s.previewLocation._id,(function(e,t){e&&200===e.status?(console.log("success"),l.push("/locations")):t&&console.log(t)}))},children:"Delete"})})]})]}),Object(I.jsx)("div",{className:"card editDetailCard p-4",children:Object(I.jsxs)("form",{id:"generalForm",className:"needs-validation ".concat(Pe?"was-validated":""),onSubmit:qe,noValidate:!0,children:[Object(I.jsx)("h5",{children:"Details"}),Object(I.jsx)("p",{children:"Use this section for filling out the basic details for this location."}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label requiredField",htmlFor:"name",children:"Display Name"}),Object(I.jsx)("small",{className:"text-secondary",children:"This is the title of the location and will be displayed on the location directory and the top of this location page."}),Object(I.jsx)("input",{id:"name",className:"form-control",type:"text",placeholder:"Enter Display Name",value:u,onChange:function(e){return m(e.target.value)},required:!0}),Object(I.jsx)("div",{className:"invalid-feedback fw-bold",children:"Display name is a required field please enter a display name above."})]}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label requiredField",htmlFor:"slug",children:"URL Slug"}),Object(I.jsx)("small",{className:"text-secondary",children:"This is the unique ending of the URL that will link to your location page. It is a good idea to use something easy to type and human readable. Spaces are not allowed use the - or _ symbol as a separator. Only lowercase letters and numbers are allowed no special characters."}),Object(I.jsxs)("small",{className:"text-secondary",children:["Example: 'florida-garage' would appear like this in the URL. https://contractorsgarage.com/location/",Object(I.jsx)("span",{className:"fw-bold",children:"florida-garage"})]}),Object(I.jsx)("input",{id:"slug",className:"form-control",type:"text",placeholder:"florida-garage",value:x,onChange:function(e){/[^a-z0-9-_]/g.test(e.target.value)?(e.target.setCustomValidity("Field is required and must not contain spaces, uppercase letters or special characters (other than - and _)."),De("Field is required and must not contain spaces, uppercase letters or special characters (other than - and _).")):e.target.setCustomValidity(""),f(e.target.value)},required:!0}),Object(I.jsx)("div",{className:"invalid-feedback fw-bold",children:Le})]}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label",htmlFor:"addressFirstLine",children:"Address (First Line)"}),Object(I.jsx)("small",{className:"text-secondary",children:"The street address for this location."}),Object(I.jsx)("small",{className:"text-secondary",children:"Example: 123 Main Street"}),Object(I.jsx)("input",{id:"addressFirstLine",className:"form-control",type:"text",placeholder:"Enter Address",value:y,onChange:function(e){return w(e.target.value)}})]}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label",htmlFor:"addressSecondLine",children:"Address (Second Line)"}),Object(I.jsx)("small",{className:"text-secondary",children:"The city state and zip code for this location."}),Object(I.jsx)("small",{className:"text-secondary",children:"Example: San Francisco, California 94105"}),Object(I.jsx)("input",{id:"addressSecondLine",className:"form-control",type:"text",placeholder:"Enter City, State Zip",value:S,onChange:function(e){return P(e.target.value)}})]}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("h6",{children:"Coordinates"}),Object(I.jsxs)("p",{children:["The exact coordinates to display the marker on the map for this location. You can manually enter the ",Object(I.jsx)("i",{children:"latitude"})," and ",Object(I.jsx)("i",{children:"longitude"})," or you can choose the point from the map by selecting ",Object(I.jsx)("b",{children:"Choose From Map"}),"."]}),Object(I.jsxs)("div",{className:"row align-items-end",children:[Object(I.jsxs)("div",{className:"d-flex flex-column col-12 col-md-3",children:[Object(I.jsx)("label",{className:"form-label requiredField",htmlFor:"lat",children:"Latitude"}),Object(I.jsx)("input",{id:"lat",className:"form-control",type:"number",max:"90",min:"-90",step:"any",value:V,onChange:function(e){return J(e.target.value)},required:!0})]}),Object(I.jsxs)("div",{className:"d-flex flex-column col-12 col-md-3 mt-4",children:[Object(I.jsx)("label",{className:"form-label requiredField",htmlFor:"log",children:"Longitude"}),Object(I.jsx)("input",{id:"log",className:"form-control",type:"number",max:"180",min:"-180",step:"any",value:Y,onChange:function(e){return W(e.target.value)},required:!0})]}),Object(I.jsx)("div",{className:"col-12 col-md-6",children:Object(I.jsx)("button",{className:"btn btn-outline-primary mt-4",type:"button",onClick:ze,children:"Choose From Map"})})]})]}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label",htmlFor:"shortDescription",children:"Short Description"}),Object(I.jsx)("small",{className:"text-secondary",children:"Description of this location to be shown on the map marker popup. Limit 140 characters."}),Object(I.jsx)("textarea",{id:"shortDescription",className:"form-control",maxLength:140,value:H,onChange:function(e){return Z(e.target.value)}})]}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label",htmlFor:"longDescription",children:"Long Description"}),Object(I.jsx)("small",{className:"text-secondary",children:"Description of this location to be shown on the location detail page. This will be shown at the top of the page and should include a description of the features and services."}),Object(I.jsx)("textarea",{id:"longDescription",className:"form-control",rows:6,value:$,onChange:function(e){return ee(e.target.value)}})]}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label",htmlFor:"features",children:"Features"}),Object(I.jsxs)("small",{className:"text-secondary",children:["A list of features and services provided at this location. Each item will appear as an item in a bulleted list. Enter each item in the input below and press ",Object(I.jsx)("b",{children:"Add Feature"})," to add it to the list. To remove an item from the list press the ",Object(I.jsx)("b",{children:"\xd7"})," next to the item."]}),Object(I.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:Object(I.jsxs)("div",{className:"input-group",children:[Object(I.jsx)("input",{id:"features",type:"text",className:"form-control",placeholder:"Enter Feature",value:se,onChange:function(e){return oe(e.target.value)}}),Object(I.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){return je([].concat(Object(_e.a)(be),[se]))},children:"Add Feature"})]})}),!be||be&&0===be.length?Object(I.jsx)("p",{className:"text-secondary pt-5",children:"Currently no features. Add features above and view them here..."}):Object(I.jsx)("ul",{className:"list-unstyled mt-3",children:be.map((function(e,t){return Object(I.jsx)("li",{className:"my-2",children:Object(I.jsxs)("div",{className:"badge bg-secondary",children:[Object(I.jsx)("span",{children:e}),Object(I.jsx)("button",{className:"btn btn-close btn-close-white",type:"button",onClick:function(){if(window.confirm("Are you sure you want to delete this feature?")){var e=Object(_e.a)(be);e.splice(t,1),je(e)}}})]})},t)}))})]}),Object(I.jsx)("h5",{children:"Contact Info"}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label",htmlFor:"contactName",children:"Contact Name"}),Object(I.jsx)("small",{className:"text-secondary",children:"The name of the contact for this location."}),Object(I.jsx)("input",{id:"contactName",className:"form-control",type:"text",placeholder:"Enter Contact Name",value:he,onChange:function(e){return Oe(e.target.value)}})]}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label",htmlFor:"contactPhone",children:"Contact Phone"}),Object(I.jsx)("small",{className:"text-secondary",children:"The phone number of the contact for this location."}),Object(I.jsx)("input",{id:"contactPhone",className:"form-control",type:"text",pattern:"[\\d]{3}-[\\d]{3}-[\\d]{4}|[\\d]{10}",placeholder:"Enter Contact Phone XXX-XXX-XXXX Format",value:fe,onChange:function(e){return ge(e.target.value)}}),Object(I.jsx)("div",{className:"invalid-feedback fw-bold",children:"Phone number must contain only numbers or numbers separated with dashes, no spaces, letters or special characters allowed (other than -)."})]}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label",htmlFor:"contactEmail",children:"Contact Email"}),Object(I.jsx)("small",{className:"text-secondary",children:"The email address of the contact for this location."}),Object(I.jsx)("input",{id:"contactEmail",className:"form-control",type:"email",placeholder:"Enter Contact Email",value:ye,onChange:function(e){return we(e.target.value)}}),Object(I.jsx)("div",{className:"invalid-feedback fw-bold",children:"Email address entered is not valid!"})]})]})})]}),Object(I.jsxs)(Re.a,{isOpen:We,toggle:ze,size:"lg",children:[Object(I.jsx)(Qe.a,{children:"Choose Location On Map"}),Object(I.jsxs)(Ve.a,{children:[Object(I.jsx)("p",{children:"Click on map to set marker location when finished click continue."}),Object(I.jsx)(Ze,{center:""!==V&&""!==Y?[V,Y]:t.coordinates&&t.coordinates.length>1?t.coordinates:[40.68924454236941,-74.04454171657564],onCoordinateSelect:L})]}),Object(I.jsxs)(Je.a,{children:[Object(I.jsx)("button",{className:"btn",onClick:ze,children:"CANCEL"}),Object(I.jsx)("button",{className:"btn btn-primary",disabled:!F,onClick:function(){J(F[0]),W(F[1]),ze()},children:"Continue"})]})]})]})},$e=a(39),et=(a(141),a(33)),tt=a.n(et),at=function(e){var t;return Object(I.jsx)("div",{className:"ImageCard",children:Object(I.jsxs)("div",{className:"card",children:[Object(I.jsx)("div",{className:"card-body",style:{backgroundImage:"url("+e.src+")",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",minHeight:"250px"}}),Object(I.jsx)("p",{className:"position-absolute bg-white",children:e.caption}),Object(I.jsxs)("div",{className:"card-footer d-flex flex-row justify-content-between bg-light",children:[Object(I.jsx)("button",{type:"button",className:"btn btn-link text-danger",onClick:e.onDelete,children:Object(I.jsx)("i",{className:"fas fa-trash-alt"})}),null!==(t=e.hideEdit)&&void 0!==t?t:Object(I.jsx)("button",{type:"button",className:"btn btn-link text-secondary",onClick:e.onEdit,children:Object(I.jsx)("i",{className:"fas fa-pencil-alt"})})]})]})})},ct=function(e){var t=e.location,a=Object(c.useContext)(k),n=Object(d.a)(a,2),s=n[0],i=n[1],l=Object(r.g)(),o=Object(c.useState)(),b=Object(d.a)(o,2),j=b[0],u=b[1],m=Object(c.useState)(),O=Object(d.a)(m,2),p=O[0],g=O[1],v=Object(c.useState)(),N=Object(d.a)(v,2),A=N[0],E=N[1],S=Object(c.useState)(),P=Object(d.a)(S,2),T=P[0],U=P[1],F=Object(c.useState)(),L=Object(d.a)(F,2),B=L[0],Q=L[1],V=Object(c.useState)(!1),J=Object(d.a)(V,2),M=J[0],_=J[1],Y=Object(c.useState)(-1),W=Object(d.a)(Y,2),G=W[0],z=W[1],H=Object(c.useState)(!1),Z=Object(d.a)(H,2),K=Z[0],X=Z[1],$=Object(c.useState)(1),ee=Object(d.a)($,2),te=ee[0],ae=ee[1],se=Object(c.useState)(!1),ie=Object(d.a)(se,2),le=ie[0],re=ie[1],de=Object(c.useState)(-1),be=Object(d.a)(de,2),je=be[0],ue=be[1],me=new tt.a;Object(c.useEffect)((function(){Oe()}),[j,p,A]),Object(c.useEffect)((function(){var e=Object(C.a)(Object(C.a)({},t),s.previewLocation);u(e.detailPageImages?e.detailPageImages:""),g(e.bannerImage?e.bannerImage:void 0),E(e.isPublished?e.isPublished:null)}),[t]);var he=function(e,t){if(e.preventDefault(),s.previewLocation._id){var a,c,n=t?Object(C.a)(Object(C.a)(Object(C.a)({},s.previewLocation),null!==(a=s.previewLocation.bannerImage)&&void 0!==a?a:{bannerImage:null}),{},{_id:s.previewLocation._id,isPublished:!0,isDraft:!1}):Object(C.a)(Object(C.a)(Object(C.a)({},s.previewLocation),null!==(c=s.previewLocation.bannerImage)&&void 0!==c?c:{bannerImage:null}),{},{_id:s.previewLocation._id});ne(n,(function(e,a){if(e&&200===e.status)if(s.bannerImage_pending||s.detailPageImages_pending){var c=[],n={_id:s.previewLocation._id};if(s.bannerImage_pending&&s.bannerImage_pending.file&&(c.push(s.bannerImage_pending.file),n.bannerImage={src:"",alt:s.previewLocation.name+" banner image"}),s.detailPageImages_pending){n.detailPageImages=[];for(var l=0;l<s.detailPageImages_pending.length;l++)c.push(s.detailPageImages_pending[l].file),n.detailPageImages.push({src:"",thumbnail:"",alt:s.detailPageImages_pending[l].alt})}oe(c,(function(e,a){if(e){if(n.bannerImage&&(n.bannerImage.src=e[0].data.secure_url,e.shift()),n.detailPageImages){for(var c=0;c<e.length;c++)n.detailPageImages[c].src=e[c].data.secure_url,n.detailPageImages[c].thumbnail=e[c].data.secure_url;n.detailPageImages=n.detailPageImages.concat(j)}ne(n,(function(e,a){e&&200===e.status?(console.log("success"),t?(E(!0),R.showToast(D,"Location Published!")):R.showToast(D,"Update Successful!"),n.bannerImage&&(g(n.bannerImage),i({type:f,payload:void 0})),n.detailPageImages&&(u(n.detailPageImages),i({type:x,payload:void 0}))):a&&console.log(a)}))}else a&&console.log(a)}))}else t?(E(!0),R.showToast(D,"Location Published!")):R.showToast(D,"Update Successful!");else a&&console.log(a)}))}else ce(s.previewLocation,(function(e,a){if(e&&200===e.status){var c=e.data._id;if(s.bannerImage_pending||s.detailPageImages_pending){var n=[],o={_id:c};if(s.bannerImage_pending&&s.bannerImage_pending.file&&(n.push(s.bannerImage_pending.file),o.bannerImage={src:"",alt:s.previewLocation.name+" banner image"}),s.detailPageImages_pending){o.detailPageImages=[];for(var r=0;r<s.detailPageImages_pending.length;r++)n.push(s.detailPageImages_pending[r].file),o.detailPageImages.push({src:"",thumbnail:"",alt:s.detailPageImages_pending[r].alt})}oe(n,(function(e,t){if(e){if(o.bannerImage&&(o.bannerImage.src=e[0].data.secure_url,e.shift()),o.detailPageImages)for(var a=0;a<e.length;a++)o.detailPageImages[a].src=e[a].data.secure_url,o.detailPageImages[a].thumbnail=e[a].data.secure_url;ne(o,(function(e,t){e&&200===e.status?(console.log("success"),R.showToast(D,"Update Successful!"),o.bannerImage&&(g(o.bannerImage),i({type:f,payload:void 0})),o.detailPageImages&&(u(o.detailPageImages),i({type:x,payload:void 0})),i({type:h,payload:e.data}),l.push("/location/".concat(e.data._id))):t&&console.log(t)}))}else t&&console.log(t)}))}else t?(E(!0),R.showToast(D,"Location Published!")):R.showToast(D,"Update Successful!")}else a&&console.log(a)}))},Oe=function(){var e=Object(C.a)(Object(C.a)({},j&&{detailPageImages:j}),{},{bannerImage:p},null!=A&&{isPublished:A}),a=Object(C.a)(Object(C.a)(Object(C.a)({},t),s.previewLocation),e);i({type:h,payload:a})},pe=Object(c.useCallback)((function(e){e.length>0&&(console.log("accpetedFiles :>> ",e),me.compress(e,{size:.4,quality:1,maxWidth:1920,maxHeight:1080}).then((function(e){var t=e[0],a=tt.a.convertBase64ToFile(t.data,t.ext);console.log(a),U(a),ve()})))}),[]),xe=Object($e.a)({onDrop:pe,onDropRejected:function(e){console.log(e),R.showToast(q,"Warning! Cannot upload file because it is not the correct file type! Image must be .jpg or .png")},maxFiles:1,accept:"image/jpeg, image/png"}),fe=xe.getRootProps,ge=xe.getInputProps,ve=function(){K&&Ne(),X(!K)},Ne=function(){Q(""),re(!1),ue(-1),ae(1),_(!1),z(-1)};return Object(I.jsxs)("div",{className:"MediaTabView",children:[Object(I.jsx)(Ke,{header:"Media Upload ".concat(s.previewLocation.name?"- "+s.previewLocation.name:""),description:"This section is for uploading image media which can have optional caption text that will be shown with the image.",previousView:y,nextView:w,formId:"mediaForm",isPublished:A,updatePreview:Oe,onPublish:function(e){e.preventDefault(),he(e,!0)},children:Object(I.jsx)("div",{className:"card editDetailCard p-4",children:Object(I.jsxs)("form",{id:"mediaForm",onSubmit:he,children:[Object(I.jsxs)("div",Object(C.a)(Object(C.a)({},fe()),{},{className:"dropzone",children:[Object(I.jsx)("input",Object(C.a)({},ge())),Object(I.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-around h-100 py-5 bg-light",children:[Object(I.jsx)("i",{className:"fas fa-cloud-upload-alt largeText"}),Object(I.jsx)("h3",{children:"Drop Files Here"}),Object(I.jsx)("p",{className:"text-secondary fw-bold",children:"File types must be .jpg or .png"}),Object(I.jsx)("button",{type:"button",className:"btn btn-outline-primary",children:"Browse"})]})]})),(s.detailPageImages_pending&&s.detailPageImages_pending.length>0||s.bannerImage_pending)&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h5",{className:"mt-5",children:"Images Pending Save"}),Object(I.jsxs)("p",{children:["The following images will be uploaded once the location is saved with the ",Object(I.jsx)("b",{children:"Save"})," button below. Banner images uploaded here will replace any existing banner image shown below."]}),Object(I.jsxs)("div",{className:"row",children:[s.bannerImage_pending&&Object(I.jsx)("div",{className:"col-12 mb-4",children:Object(I.jsx)(at,{src:s.bannerImage_pending.src,caption:"Banner",hideEdit:!0,onDelete:function(){window.confirm("Are you sure you want to delete this banner image?")&&i({type:f,payload:void 0})}})}),s.detailPageImages_pending&&s.detailPageImages_pending.map((function(e,t){return Object(I.jsx)("div",{className:"col-12 col-lg-6 mb-4",children:Object(I.jsx)(at,{src:e.src,caption:e.alt,onEdit:function(){return function(e){s.detailPageImages_pending[e]&&(Q(s.detailPageImages_pending[e].alt),_(!0),z(e),ae(2),ve())}(t)},onDelete:function(){return function(e){if(window.confirm("Are you sure you want to delete this image?")){var t=Object(_e.a)(s.detailPageImages_pending);t.splice(e,1),i({type:x,payload:t})}}(t)}})},t)}))]})]}),Object(I.jsx)("h5",{className:"mt-5",children:"Banner Image"}),Object(I.jsxs)("p",{children:["An optional banner image can be shown at the top of the page for each location. To change this image use the upload tool above and select ",Object(I.jsx)("b",{children:"Banner Image"})," after uploading image. This new image will replace the current banner image once the location is saved."]}),p?Object(I.jsx)("div",{className:"bannerImage card rounded-0 rounded-top",style:{backgroundImage:"url(".concat(p.src,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"30vh"},children:Object(I.jsx)("div",{className:"card-footer position-relative rounded-bottom border",children:Object(I.jsx)("button",{type:"button",className:"btn btn-link text-danger",onClick:function(){window.confirm("Are you sure you want to delete this banner image?")&&g()},children:Object(I.jsx)("i",{className:"fas fa-trash-alt"})})})}):Object(I.jsx)("p",{className:"text-secondary pt-5",children:"Currently no banner image has been added. Upload an image with the upload tool above."}),Object(I.jsx)("h5",{className:"mt-5",children:"Location Images"}),Object(I.jsx)("p",{children:"These are the images that are shown in the slider at the bottom of the location detail page. Here you can edit the caption text, delete images, and upload new ones using the upload tool above."}),!j||j&&0===j.length?Object(I.jsx)("p",{className:"text-secondary pt-5",children:"Currently no location images have been added. Upload images with the upload tool above."}):Object(I.jsx)("div",{className:"row",children:j.map((function(e,t){return Object(I.jsx)("div",{className:"col-12 col-lg-6 mb-4",children:Object(I.jsx)(at,{src:e.src,caption:e.alt,onEdit:function(){return function(e){j[e]&&(Q(j[e].alt),re(!0),ue(e),ae(2),ve())}(t)},onDelete:function(){return function(e){if(window.confirm("Are you sure you want to delete this image?")){var t=Object(_e.a)(j);t.splice(e,1),u(t)}}(t)}})},t)}))})]})})}),Object(I.jsxs)(Re.a,{isOpen:K,toggle:ve,centered:!0,children:[Object(I.jsx)(Qe.a,{children:1===te?"Select Image Type":"".concat(le?"Edit":"Add"," Caption Text")}),Object(I.jsx)(Ve.a,{children:1===te?Object(I.jsxs)("div",{className:"text-center",children:[Object(I.jsx)("p",{children:"What type of image is this?"}),Object(I.jsx)("button",{className:"btn btn-outline-primary me-3",type:"button",onClick:function(){var e=Object(C.a)(Object(C.a)({},T&&{file:T}),T&&{src:URL.createObjectURL(T)});i({type:f,payload:e}),ve()},children:"Banner Image"}),Object(I.jsx)("button",{className:"btn btn-outline-primary",type:"button",onClick:function(){ae(2)},children:"Location Image"})]}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("label",{htmlFor:"caption",className:"form-label",children:"Image Caption"}),Object(I.jsx)("textarea",{id:"caption",className:"form-control",rows:"4",placeholder:"Enter Caption",value:B,onChange:function(e){return Q(e.target.value)}})]})}),Object(I.jsxs)(Je.a,{children:[Object(I.jsx)("button",{className:"btn",onClick:ve,children:"CANCEL"}),2===te&&(le||M?Object(I.jsx)("button",{className:"btn btn-primary",onClick:function(){if(le){var e=Object(C.a)(Object(C.a)(Object(C.a)({},B&&{alt:B}),j[je].src&&{src:j[je].src}),j[je].thumbnail&&{thumbnail:j[je].thumbnail}),t=Object(_e.a)(j);t.splice(je,1,e),u(t),ve()}else if(M){var a=Object(C.a)(Object(C.a)(Object(C.a)({},B&&{alt:B}),s.detailPageImages_pending[G].src&&{src:s.detailPageImages_pending[G].src}),s.detailPageImages_pending[G].file&&{file:s.detailPageImages_pending[G].file}),c=Object(_e.a)(s.detailPageImages_pending);c.splice(G,1,a),i({type:x,payload:c}),ve()}},children:"Update"}):Object(I.jsx)("button",{className:"btn btn-primary",onClick:function(){var e=Object(C.a)(Object(C.a)(Object(C.a)({},B&&{alt:B}),T&&{file:T}),T&&{src:URL.createObjectURL(T)}),t=[];s.detailPageImages_pending&&(t=Object(_e.a)(s.detailPageImages_pending)),t.push(e),i({type:x,payload:t}),ve()},children:"Add"}))]})]})]})},nt=function(e){var t=e.location,a=Object(c.useContext)(k),n=Object(d.a)(a,2),s=n[0],i=n[1],l=Object(r.g)(),o=Object(c.useState)(!1),b=Object(d.a)(o,2),j=b[0],u=b[1],m=Object(c.useState)(""),O=Object(d.a)(m,2),p=O[0],x=O[1],f=Object(c.useState)(""),g=Object(d.a)(f,2),v=g[0],N=g[1],y=Object(c.useState)(""),w=Object(d.a)(y,2),E=w[0],S=w[1],P=Object(c.useState)(),T=Object(d.a)(P,2),U=T[0],F=T[1],L=Object(c.useState)(!1),B=Object(d.a)(L,2),Q=B[0],V=B[1];Object(c.useEffect)((function(){M()}),[j,p,v,E,U]),Object(c.useEffect)((function(){var e=Object(C.a)(Object(C.a)({},t),s.previewLocation);u(!!e.enablePayments&&e.enablePayments),x(e.paypalEmail?e.paypalEmail:""),N(e.paymentMarkupPercent?(100*e.paymentMarkupPercent).toFixed(1):""),S(e.paymentMarkupFixed?e.paymentMarkupFixed:""),F(e.isPublished?e.isPublished:null)}),[t]);var J=function(e,t){if(e.target.checkValidity())if(e.preventDefault(),s.previewLocation._id){var a=t?Object(C.a)(Object(C.a)({},s.previewLocation),{},{isPublished:!0,isDraft:!1}):s.previewLocation;ne(a,(function(e,a){e&&200===e.status?(console.log("success!"),t?(F(!0),R.showToast(D,"Location Published!")):R.showToast(D,"Update Successful!")):a&&console.log(a)}))}else ce(s.previewLocation,(function(e,t){e&&200===e.status?(console.log("success!"),i({type:h,payload:e.data}),l.push("/location/".concat(e.data._id))):t&&console.log(t)}));else e.preventDefault(),e.stopPropagation(),R.showToast(q,"Unable to submit form! One or more fields are invalid.");V(!0)},M=function(){var e=Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)({},null!=j&&{enablePayments:j}),p&&{paypalEmail:p}),v&&{paymentMarkupPercent:(v/100).toFixed(3)}),E&&{paymentMarkupFixed:E}),null!=U&&{isPublished:U}),a=Object(C.a)(Object(C.a)(Object(C.a)({},t),s.previewLocation),e);i({type:h,payload:a})};return Object(I.jsx)("div",{className:"PaymentTabView",children:Object(I.jsx)(Ke,{header:"Payment Processing ".concat(s.previewLocation.name?"- "+s.previewLocation.name:""),description:"This section is for enabling payment processing with PayPal for this location. Optional fees can be set which will be added to each payment that is made.",previousView:A,formId:"paymentForm",isPublished:U,updatePreview:M,onPublish:function(e){e.preventDefault(),J(e,!0)},children:Object(I.jsx)("div",{className:"card editDetailCard p-4",children:Object(I.jsxs)("form",{id:"paymentForm",className:"needs-validation ".concat(Q?"was-validated":""),onSubmit:J,noValidate:!0,children:[Object(I.jsx)("h5",{children:"Payment Information"}),Object(I.jsx)("p",{children:"Use this section to define if you would like to accept PayPal payment for this location, the associated account, and any fees you would like to charge."}),Object(I.jsx)("div",{className:"d-flex flex-column my-4",children:Object(I.jsxs)("div",{className:"form-check form-switch",children:[Object(I.jsx)("input",{id:"enablePayments",className:"form-check-input",type:"checkbox",checked:j,onChange:function(e){return u(e.target.checked)}}),Object(I.jsx)("label",{className:"form-check-label",htmlFor:"enablePayments",children:"Enable Payments"})]})}),j&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label requiredField",htmlFor:"paypalEmail",children:"PayPal Primary Email"}),Object(I.jsx)("small",{className:"text-secondary",children:"This is the primary email address associated with the PayPal account you wish to receive payments with."}),Object(I.jsx)("input",{id:"paypalEmail",className:"form-control",type:"email",placeholder:"Enter email",value:p,onChange:function(e){return x(e.target.value)},required:!0}),Object(I.jsx)("div",{className:"invalid-feedback fw-bold",children:"PayPal Primary Email is a required field please enter an email address above."})]}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label requiredField",htmlFor:"markupPercentage",children:"Markup Percentage"}),Object(I.jsxs)("small",{className:"text-secondary",children:["For each payment sent to you an optional markup percentage can be applied. PayPal charges a 2.9% transaction fee for each payment so if you want to cover that cost you can set it to 2.9%. ",Object(I.jsx)("b",{children:"To set no fee enter 0."})]}),Object(I.jsxs)("div",{className:"input-group",children:[Object(I.jsx)("input",{id:"markupPercentage",className:"form-control",type:"number",placeholder:"Enter Markup Percentage",max:"100",min:"0",step:".1",value:v,onChange:function(e){return N(e.target.value)},required:!0}),Object(I.jsx)("span",{className:"input-group-text",children:"%"}),Object(I.jsx)("div",{className:"invalid-feedback fw-bold",children:"Markup Percentage is a required field please enter a value above."})]})]}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsx)("label",{className:"form-label requiredField",htmlFor:"markupAmount",children:"Fixed Markup Amount"}),Object(I.jsxs)("small",{className:"text-secondary",children:["For each payment sent to you an optional fixed markup amount can be applied. PayPal charges a 30 cent transaction fee for each payment so if you want to cover that cost you can set it to 30 cents. ",Object(I.jsx)("b",{children:"To set no fee enter 0."})]}),Object(I.jsxs)("div",{className:"input-group",children:[Object(I.jsx)("span",{className:"input-group-text",children:"$"}),Object(I.jsx)("input",{id:"markupAmount",className:"form-control",type:"number",placeholder:"Enter Markup Amount",min:"0",step:".01",value:E,onChange:function(e){return S(e.target.value)},required:!0}),Object(I.jsx)("div",{className:"invalid-feedback fw-bold",children:"Markup Amount is a required field please enter a value above."})]})]})]})]})})})})},st=(a(142),function(e){var t=e.location,a=Object(c.useContext)(k),n=Object(d.a)(a,2),s=n[0],i=n[1],l=Object(r.g)(),o=Object(c.useState)(),b=Object(d.a)(o,2),j=b[0],u=b[1],m=Object(c.useState)(),O=Object(d.a)(m,2),p=O[0],x=O[1],f=new tt.a;Object(c.useEffect)((function(){w()}),[j,p]),Object(c.useEffect)((function(){var e=Object(C.a)(Object(C.a)({},t),s.previewLocation);u(e.thumbnailImage?e.thumbnailImage:void 0),x(e.isPublished?e.isPublished:null)}),[t]);var N=function(e,t){if(e.preventDefault(),s.previewLocation._id){var a,c,n=t?Object(C.a)(Object(C.a)(Object(C.a)({},s.previewLocation),null!==(a=s.previewLocation.thumbnailImage)&&void 0!==a?a:{thumbnailImage:null}),{},{_id:s.previewLocation._id,isPublished:!0,isDraft:!1}):Object(C.a)(Object(C.a)(Object(C.a)({},s.previewLocation),null!==(c=s.previewLocation.thumbnailImage)&&void 0!==c?c:{thumbnailImage:null}),{},{_id:s.previewLocation._id});ne(n,(function(e,a){e&&200===e.status?s.thumbnailImage_pending?oe([s.thumbnailImage_pending.file],(function(e,a){if(e){var c={_id:s.previewLocation._id,thumbnailImage:{src:e[0].data.secure_url,alt:s.previewLocation.name}};ne(c,(function(e,a){e&&200===e.status?(console.log("Thumbnail Upload Success!"),t?(x(!0),R.showToast(D,"Location Published!")):R.showToast(D,"Update Successful!"),u(c.thumbnailImage),i({type:g,payload:void 0})):a&&console.log(a)}))}else a&&console.log(a)})):t?(x(!0),R.showToast(D,"Location Published!")):R.showToast(D,"Update Successful!"):a&&console.log(a)}))}else ce(s.previewLocation,(function(e,t){if(e&&200===e.status){console.log(e.data);var a=e.data._id;s.thumbnailImage_pending?oe([s.thumbnailImage_pending.file],(function(e,t){if(e){var c={_id:a,thumbnailImage:{src:e[0].data.secure_url,alt:s.previewLocation.name}};ne(c,(function(e,t){e&&200===e.status?(console.log("Thumbnail Upload Success!"),R.showToast(D,"Update Successful!"),u(c.thumbnailImage),i({type:g,payload:void 0}),i({type:h,payload:e.data}),l.push("/location/".concat(e.data._id))):t&&console.log(t)}))}else t&&console.log(t)})):(R.showToast(D,"Update Successful!"),i({type:h,payload:e.data}),l.push("/location/".concat(e.data._id)))}else t&&console.log(t)}))},w=function(){var e=Object(C.a)({thumbnailImage:j},null!=p&&{isPublished:p}),a=Object(C.a)(Object(C.a)(Object(C.a)({},t),s.previewLocation),e);i({type:h,payload:a})},A=Object(c.useCallback)((function(e){e.length>0&&(console.log("accpetedFiles :>> ",e),f.compress(e,{size:.4,quality:1,maxWidth:300,maxHeight:280}).then((function(e){var t=e[0],a=tt.a.convertBase64ToFile(t.data,t.ext);console.log(a),i({type:g,payload:{file:a,src:URL.createObjectURL(a),alt:s.previewLocation.name}})})))}),[]),E=Object($e.a)({onDrop:A,onDropRejected:function(e){console.log(e),R.showToast(q,"Warning! Cannot upload file because it is not the correct file type! Image must be .jpg or .png")},maxFiles:1,accept:"image/jpeg, image/png"}),S=E.getRootProps,P=E.getInputProps;return Object(I.jsx)("div",{className:"ThumbnailTabView",children:Object(I.jsx)(Ke,{header:"Thumbnail ".concat(s.previewLocation.name?"- "+s.previewLocation.name:""),description:"This section is for editing the thumbnail image that will be shown on the map view when users click on the marker for this location.",previousView:v,nextView:y,formId:"thumbnailForm",isPublished:p,updatePreview:w,onPublish:function(e){e.preventDefault(),N(e,!0)},children:Object(I.jsx)("div",{className:"card editDetailCard p-4",children:Object(I.jsxs)("form",{id:"thumbnailForm",onSubmit:N,children:[Object(I.jsxs)("div",Object(C.a)(Object(C.a)({},S()),{},{className:"dropzone",children:[Object(I.jsx)("input",Object(C.a)({},P())),Object(I.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-around h-100 py-5 bg-light",children:[Object(I.jsx)("i",{className:"fas fa-cloud-upload-alt largeText"}),Object(I.jsx)("h3",{children:"Drop Files Here"}),Object(I.jsx)("p",{className:"text-secondary fw-bold",children:"File types must be .jpg or .png"}),Object(I.jsx)("button",{type:"button",className:"btn btn-outline-primary",children:"Browse"})]})]})),s.thumbnailImage_pending&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("h5",{className:"mt-5",children:"Images Pending Save"}),Object(I.jsxs)("p",{children:["The following images will be uploaded once the location is saved with the ",Object(I.jsx)("b",{children:"Save"})," button below. Thumbnail images uploaded here will replace any existing thumbnail image shown below."]}),Object(I.jsxs)("div",{className:"thumbnailCard card mb-4",children:[Object(I.jsx)("div",{className:"card-body",children:Object(I.jsx)("img",{src:s.thumbnailImage_pending.src,alt:s.thumbnailImage_pending.alt})}),Object(I.jsx)("div",{className:"card-footer",children:Object(I.jsx)("button",{type:"button",className:"btn btn-link text-danger",onClick:function(){window.confirm("Are you sure you want to delete this image?")&&i({type:g,payload:void 0})},children:Object(I.jsx)("i",{className:"fas fa-trash-alt"})})})]})]}),Object(I.jsx)("h5",{className:"mt-5",children:"Thumbnail Image"}),Object(I.jsx)("p",{children:"A thumbnail image can be shown on the map when a location marker is clicked. To change this image use the upload tool above. This new image will replace the current thumbnail image once the location is saved."}),j?Object(I.jsxs)("div",{className:"thumbnailCard card mb-4",children:[Object(I.jsx)("div",{className:"card-body",children:Object(I.jsx)("img",{src:j.src,alt:j.alt})}),Object(I.jsx)("div",{className:"card-footer",children:Object(I.jsx)("button",{type:"button",className:"btn btn-link text-danger",onClick:function(){window.confirm("Are you sure you want to delete this image?")&&u()},children:Object(I.jsx)("i",{className:"fas fa-trash-alt"})})})]}):Object(I.jsx)("p",{className:"text-secondary pt-5",children:"Currently no thumbnail image has been added. Upload an image with the upload tool above."})]})})})})}),it=(a(143),function(e){var t=e.unit;return Object(I.jsx)("div",{className:"UnitCard",children:Object(I.jsxs)("div",{className:"card",children:[Object(I.jsxs)("div",{className:"card-header d-flex flex-row align-items-center p-2 bg-light",children:[Object(I.jsx)("b",{className:"me-auto",children:t.unitName?t.unitName:"(unnamed)"}),Object(I.jsx)("button",{type:"button",className:"btn btn-link text-secondary",onClick:e.onEditClick,children:Object(I.jsx)("i",{className:"fas fa-pencil-alt"})}),Object(I.jsx)("button",{type:"button",className:"btn btn-link text-danger",onClick:e.onDeleteClick,children:Object(I.jsx)("i",{className:"fas fa-trash-alt"})})]}),e.showAvailable&&Object(I.jsxs)("div",{className:"card-header p-2",children:[Object(I.jsx)("button",{type:"button",className:"availableButton ".concat(t.available?"available":""),onClick:e.onAvailableClick}),Object(I.jsx)("span",{className:"fw-bold ms-3",children:t.available?"Available":"Unavailable"})]}),Object(I.jsxs)("div",{className:"card-body row",children:[Object(I.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(I.jsx)("label",{className:"fw-bold text-secondary",children:"Rent:"}),Object(I.jsx)("span",{className:"ms-3",children:t.monthlyRent?"$".concat(t.monthlyRent):"-"})]}),Object(I.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(I.jsx)("label",{className:"fw-bold text-secondary",children:"Width:"}),Object(I.jsx)("span",{className:"ms-3",children:t.width?"".concat(t.width,"ft"):"-"})]}),Object(I.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(I.jsx)("label",{className:"fw-bold text-secondary",children:"Height:"}),Object(I.jsx)("span",{className:"ms-3",children:t.height?t.height:"-"})]}),Object(I.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(I.jsx)("label",{className:"fw-bold text-secondary",children:"Depth:"}),Object(I.jsx)("span",{className:"ms-3",children:t.depth?"".concat(t.depth,"ft"):"-"})]}),Object(I.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(I.jsx)("label",{className:"fw-bold text-secondary",children:"SQ FT:"}),Object(I.jsx)("span",{className:"ms-3",children:t.squareFeet?"".concat(t.squareFeet,"sqft"):"-"})]}),!e.hideTotal&&Object(I.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(I.jsx)("label",{className:"fw-bold text-secondary",children:"Total #:"}),Object(I.jsx)("span",{className:"ms-3",children:t.numberOfUnitsByType?t.numberOfUnitsByType:"-"})]})]})]})})}),lt=function(e){var t=e.location,a=Object(c.useContext)(k),n=Object(d.a)(a,2),s=n[0],i=n[1],l=Object(r.g)(),o=Object(c.useState)(),b=Object(d.a)(o,2),j=b[0],u=b[1],m=Object(c.useState)(),O=Object(d.a)(m,2),p=O[0],x=O[1],f=Object(c.useState)(),g=Object(d.a)(f,2),v=g[0],y=g[1],w=Object(c.useState)(),E=Object(d.a)(w,2),S=E[0],P=E[1],T=Object(c.useState)(""),U=Object(d.a)(T,2),F=U[0],L=U[1],B=Object(c.useState)(""),Q=Object(d.a)(B,2),V=Q[0],J=Q[1],M=Object(c.useState)(""),_=Object(d.a)(M,2),Y=_[0],W=_[1],G=Object(c.useState)(""),z=Object(d.a)(G,2),H=z[0],Z=z[1],K=Object(c.useState)(""),X=Object(d.a)(K,2),$=X[0],ee=X[1],te=Object(c.useState)(""),ae=Object(d.a)(te,2),se=ae[0],ie=ae[1],le=Object(c.useState)(""),oe=Object(d.a)(le,2),re=oe[0],de=oe[1],be=Object(c.useState)(""),je=Object(d.a)(be,2),ue=je[0],me=je[1],he=Object(c.useState)(""),Oe=Object(d.a)(he,2),pe=Oe[0],xe=Oe[1],fe=Object(c.useState)(""),ge=Object(d.a)(fe,2),ve=ge[0],Ne=ge[1],ye=Object(c.useState)(""),we=Object(d.a)(ye,2),Ae=we[0],Ce=we[1],Ee=Object(c.useState)(""),Ie=Object(d.a)(Ee,2),Se=Ie[0],ke=Ie[1],Pe=Object(c.useState)(""),Te=Object(d.a)(Pe,2),Ue=Te[0],Fe=Te[1],Le=Object(c.useState)(!0),De=Object(d.a)(Le,2),qe=De[0],Be=De[1],Me=Object(c.useState)(),Ye=Object(d.a)(Me,2),We=Ye[0],Ge=Ye[1],ze=Object(c.useState)(),He=Object(d.a)(ze,2),Ze=He[0],Xe=He[1],$e=Object(c.useState)(),et=Object(d.a)($e,2),tt=et[0],at=et[1],ct=Object(c.useState)(!1),nt=Object(d.a)(ct,2),st=nt[0],lt=nt[1],ot=Object(c.useState)(!1),rt=Object(d.a)(ot,2),dt=rt[0],bt=rt[1],jt=Object(c.useState)(!1),ut=Object(d.a)(jt,2),mt=ut[0],ht=ut[1],Ot=Object(c.useState)(-1),pt=Object(d.a)(Ot,2),xt=pt[0],ft=pt[1],gt=Object(c.useState)(!1),vt=Object(d.a)(gt,2),Nt=vt[0],yt=vt[1],wt=Object(c.useState)(!1),At=Object(d.a)(wt,2),Ct=At[0],Et=At[1],It=Object(c.useState)(-1),St=Object(d.a)(It,2),kt=St[0],Pt=St[1],Tt=Object(c.useState)(1),Ut=Object(d.a)(Tt,2),Ft=Ut[0],Lt=Ut[1],Dt=Object(c.useState)(""),qt=Object(d.a)(Dt,2),Bt=qt[0],Rt=qt[1],Qt=Object(c.useState)(!1),Vt=Object(d.a)(Qt,2),Jt=Vt[0],Mt=Vt[1],_t=Object(c.useState)(!1),Yt=Object(d.a)(_t,2),Wt=Yt[0],Gt=Yt[1],zt=Object(c.useState)(-1),Ht=Object(d.a)(zt,2),Zt=Ht[0],Kt=Ht[1];Object(c.useEffect)((function(){$t()}),[j,p,v,S]),Object(c.useEffect)((function(){var e=Object(C.a)(Object(C.a)({},t),s.previewLocation);u(e.unitSummary?e.unitSummary:""),x(e.units?e.units:""),y(e.extras?e.extras:""),P(e.isPublished?e.isPublished:null)}),[t]);var Xt=function(e,t){if(e.target.checkValidity())if(e.preventDefault(),s.previewLocation._id){var a=t?Object(C.a)(Object(C.a)({},s.previewLocation),{},{isPublished:!0,isDraft:!1}):s.previewLocation;ne(a,(function(e,a){e&&200===e.status?(console.log("success!"),t?(P(!0),R.showToast(D,"Location Published!")):R.showToast(D,"Update Successful!")):a&&console.log(a)}))}else ce(s.previewLocation,(function(e,t){e&&200===e.status?(console.log("success!"),i({type:h,payload:e.data}),l.push("/location/".concat(e.data._id))):t&&console.log(t)}));else e.preventDefault(),e.stopPropagation(),R.showToast(q,"Unable to submit form! One or more fields are invalid.");lt(!0)},$t=function(){var e=Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)({},j&&{unitSummary:j}),p&&{units:p}),v&&{extras:v}),null!=S&&{isPublished:S}),a=Object(C.a)(Object(C.a)(Object(C.a)({},t),s.previewLocation),e);i({type:h,payload:a})},ea=function(){dt&&ta(),bt(!dt)},ta=function(){L(""),J(""),W(""),Z(""),ee(""),ie(""),de(""),ht(!1),ft(-1)},aa=function(){Nt&&ca(),yt(!Nt)},ca=function(){me(""),xe(""),Ne(""),Ce(""),ke(""),Fe(""),Et(!1),Pt(-1),Rt(""),setTimeout((function(){Lt(1)}),500)},na=function(){Jt&&sa(),Mt(!Jt)},sa=function(){Ge(""),Xe(""),at(""),Gt(!1),Kt(-1)};return Object(I.jsxs)("div",{className:"UnitTabView",children:[Object(I.jsx)(Ke,{header:"Unit and Pricing Information ".concat(s.previewLocation.name?"- "+s.previewLocation.name:""),description:"This section is for editing unit information including a summary of the units at this location and a list of what units are currently available.",previousView:N,nextView:A,formId:"unitForm",isPublished:S,updatePreview:$t,onPublish:function(e){e.preventDefault(),Xt(e,!0)},children:Object(I.jsx)("div",{className:"card editDetailCard p-4 my-4",children:Object(I.jsxs)("form",{id:"unitForm",className:"needs-validation ".concat(st?"was-validated":""),onSubmit:Xt,noValidate:!0,children:[Object(I.jsx)("h5",{children:"Unit Summary"}),Object(I.jsx)("p",{children:"Use this section for filling out the unit summary information. This is a description of what types and sizes of units are at this location."}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsxs)("small",{className:"text-secondary",children:["Add a unit type with the ",Object(I.jsx)("b",{children:"Add Unit"})," button. All unit types will be displayed below."]}),Object(I.jsx)("div",{children:Object(I.jsx)("button",{type:"button",className:"btn btn-outline-primary",onClick:ea,children:"Add Unit"})}),!j||j&&0===j.length?Object(I.jsxs)("p",{className:"text-secondary pt-5",children:["Currently no unit types have been added. Create units with the ",Object(I.jsx)("b",{children:"Add Unit"})," button above."]}):Object(I.jsx)("div",{className:"row",children:j.map((function(e,t){return Object(I.jsx)("div",{className:"my-2 col-12 col-lg-6 col-xl-4",children:Object(I.jsx)(it,{unit:e,onEditClick:function(){return function(e){j[e]&&(L(j[e].unitName),J(j[e].monthlyRent),W(j[e].width),Z(j[e].height),ee(j[e].depth),ie(j[e].squareFeet),de(j[e].numberOfUnitsByType),ht(!0),ft(e),ea())}(t)},onDeleteClick:function(){return function(e){if(window.confirm("Are you sure you want to delete this unit summary?")){var t=Object(_e.a)(j);t.splice(e,1),u(t)}}(t)}})},t)}))})]}),Object(I.jsx)("h5",{children:"Unit Availabilities"}),Object(I.jsx)("p",{children:"Use this section for showing which units are currently available."}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsxs)("small",{className:"text-secondary",children:["Add an available unit with the ",Object(I.jsx)("b",{children:"Add Availability"})," button. All available unit added will be displayed below."]}),Object(I.jsx)("div",{children:Object(I.jsx)("button",{type:"button",className:"btn btn-outline-primary",onClick:aa,children:"Add Availability"})}),!p||p&&0===p.length?Object(I.jsxs)("p",{className:"text-secondary pt-5",children:["Currently no available units have been added. Create availabilities with the ",Object(I.jsx)("b",{children:"Add Availability"})," button above."]}):Object(I.jsxs)("div",{className:"row",children:[Object(I.jsxs)("p",{className:"p-4 mt-3 bg-warning rounded-3",children:[Object(I.jsx)("b",{className:"fst-italic",children:"Note:"})," You can quick change the availability of a unit by clicking the ",Object(I.jsx)("b",{className:"text-danger",children:"red"})," or ",Object(I.jsx)("b",{className:"text-success",children:"green"})," circular indicators. Setting a unit as ",Object(I.jsx)("i",{children:"Unavailable"})," will remove it from the list of availabilities without deleting the record."]}),p.map((function(e,t){return Object(I.jsx)("div",{className:"my-2 col-12 col-lg-6 col-xl-4",children:Object(I.jsx)(it,{unit:e,hideTotal:!0,showAvailable:!0,onEditClick:function(){return function(e){p[e]&&(me(p[e].unitName),xe(p[e].monthlyRent),Ne(p[e].width),Ce(p[e].height),ke(p[e].depth),Fe(p[e].squareFeet),Be(p[e].available),Et(!0),Pt(e),Lt(2),aa())}(t)},onDeleteClick:function(){return function(e){if(window.confirm("Are you sure you want to delete this unit availability?")){var t=Object(_e.a)(p);t.splice(e,1),x(t)}}(t)},onAvailableClick:function(){return function(e){if(p[e]){var t=Object(_e.a)(p);t[e].available=!t[e].available,x(t)}}(t)}})},t)}))]})]}),Object(I.jsx)("h5",{children:"Pricing Extras"}),Object(I.jsx)("p",{children:"Use this section to list extra charges, services, features that are available at this location such as additional storage, key replacements, parking etc."}),Object(I.jsxs)("div",{className:"d-flex flex-column my-4",children:[Object(I.jsxs)("small",{className:"text-secondary",children:["Add a pricing extra with the ",Object(I.jsx)("b",{children:"Add Extra"})," button. All pricing extras will be displayed below."]}),Object(I.jsx)("div",{children:Object(I.jsx)("button",{type:"button",className:"btn btn-outline-primary",onClick:na,children:"Add Extra"})}),!v||v&&0===v.length?Object(I.jsxs)("p",{className:"text-secondary pt-5",children:["Currently no pricing extras have been added. Create pricing extras with the ",Object(I.jsx)("b",{children:"Add Extra"})," button above."]}):Object(I.jsx)("div",{className:"row",children:v.map((function(e,t){return Object(I.jsx)("div",{className:"my-2 col-12 col-xl-6",children:Object(I.jsxs)("div",{className:"card",children:[Object(I.jsxs)("div",{className:"card-header d-flex flex-row align-items-center p-2 bg-light",children:[Object(I.jsx)("b",{className:"me-auto",children:"Pricing Extra"}),Object(I.jsx)("button",{type:"button",className:"btn btn-link text-secondary",onClick:function(){return function(e){v[e]&&(Ge(v[e].price),Xe(v[e].frequency),at(v[e].details),Gt(!0),Kt(e),na())}(t)},children:Object(I.jsx)("i",{className:"fas fa-pencil-alt"})}),Object(I.jsx)("button",{type:"button",className:"btn btn-link text-danger",onClick:function(){return function(e){if(window.confirm("Are you sure you want to delete this pricing extra?")){var t=Object(_e.a)(v);t.splice(e,1),y(t)}}(t)},children:Object(I.jsx)("i",{className:"fas fa-trash-alt"})})]}),Object(I.jsxs)("div",{className:"card-body row",children:[Object(I.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(I.jsx)("label",{className:"fw-bold text-secondary",children:"Price:"}),Object(I.jsx)("span",{className:"ms-3",children:e.price?"$".concat(e.price):"-"})]}),Object(I.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(I.jsx)("label",{className:"fw-bold text-secondary",children:"Frequency:"}),Object(I.jsx)("span",{className:"ms-3",children:e.frequency?"".concat(e.frequency):"-"})]}),Object(I.jsxs)("div",{className:"col-12",children:[Object(I.jsx)("label",{className:"fw-bold text-secondary",children:"Details:"}),Object(I.jsx)("span",{className:"ms-3",children:e.details?e.details:"-"})]})]})]})},t)}))})]})]})})}),Object(I.jsxs)(Re.a,{isOpen:dt,toggle:ea,size:"lg",centered:!0,children:[Object(I.jsx)(Qe.a,{children:mt?"Editing Unit Type":"Create A Unit Type"}),Object(I.jsxs)(Ve.a,{children:[Object(I.jsxs)("div",{className:"row my-3 align-items-end",children:[Object(I.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(I.jsx)("label",{className:"form-label",htmlFor:"unitName",children:"Unit Name"}),Object(I.jsx)("small",{className:"text-secondary d-block",children:"Name that describes this unit like 'Small Unit' or 'Large Unit'."}),Object(I.jsx)("input",{id:"unitName",className:"form-control",type:"text",placeholder:"Enter Unit Name",value:F,onChange:function(e){return L(e.target.value)}})]}),Object(I.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(I.jsx)("label",{htmlFor:"monthlyRent",className:"form-label",children:"Monthly Rent"}),Object(I.jsxs)("div",{className:"input-group",children:[Object(I.jsx)("span",{className:"input-group-text",children:"$"}),Object(I.jsx)("input",{id:"monthlyRent",className:"form-control",type:"Number",placeholder:"Enter Monthly Rent",min:0,step:".01",value:V,onChange:function(e){return J(e.target.value)}})]})]})]}),Object(I.jsxs)("div",{className:"row my-3 align-items-end",children:[Object(I.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(I.jsx)("label",{htmlFor:"width",className:"form-label",children:"Unit Width"}),Object(I.jsxs)("small",{className:"text-secondary d-block",children:["Width in feet (a ",Object(I.jsx)("b",{children:"ft"})," symbol will be added to the value entered)"]}),Object(I.jsx)("input",{id:"width",className:"form-control",type:"Number",placeholder:"Enter Width",min:0,value:Y,onChange:function(e){return W(e.target.value)}})]}),Object(I.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(I.jsx)("label",{htmlFor:"height",className:"form-label",children:"Unit Height"}),Object(I.jsx)("input",{id:"height",className:"form-control",type:"text",placeholder:"Enter Height",value:H,onChange:function(e){return Z(e.target.value)}})]})]}),Object(I.jsxs)("div",{className:"row my-3 align-items-end",children:[Object(I.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(I.jsx)("label",{htmlFor:"depth",className:"form-label",children:"Unit Depth"}),Object(I.jsxs)("small",{className:"text-secondary d-block",children:["Depth in feet (a ",Object(I.jsx)("b",{children:"ft"})," symbol will be added to the value entered)"]}),Object(I.jsx)("input",{id:"depth",className:"form-control",type:"Number",placeholder:"Enter Depth",min:0,value:$,onChange:function(e){return ee(e.target.value)}})]}),Object(I.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(I.jsx)("label",{htmlFor:"sqft",className:"form-label",children:"Square Feet"}),Object(I.jsxs)("small",{className:"text-secondary d-block",children:["Square footage (a ",Object(I.jsx)("b",{children:"sqft"})," symbol will be added to the value entered)"]}),Object(I.jsx)("input",{id:"sqft",className:"form-control",type:"Number",placeholder:"Enter Square Feet",min:0,value:se,onChange:function(e){return ie(e.target.value)}})]})]}),Object(I.jsx)("div",{className:"row my-3 align-items-end",children:Object(I.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(I.jsx)("label",{htmlFor:"numberOfUnits",className:"form-label",children:"Number of Units"}),Object(I.jsx)("small",{className:"text-secondary d-block",children:"The total number of these units that are at this location."}),Object(I.jsx)("input",{id:"numberOfUnits",className:"form-control",type:"Number",placeholder:"Enter # Of Units",min:0,value:re,onChange:function(e){return de(e.target.value)}})]})})]}),Object(I.jsxs)(Je.a,{children:[Object(I.jsx)("button",{className:"btn",onClick:ea,children:"CANCEL"}),mt?Object(I.jsx)("button",{className:"btn btn-primary",onClick:function(){var e=Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)({},F&&{unitName:F}),V&&{monthlyRent:V}),Y&&{width:Y}),H&&{height:H}),$&&{depth:$}),se&&{squareFeet:se}),re&&{numberOfUnitsByType:re}),t=Object(_e.a)(j);t.splice(xt,1,e),u(t),ea()},children:"Update"}):Object(I.jsx)("button",{className:"btn btn-primary",onClick:function(){var e=Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)({},F&&{unitName:F}),V&&{monthlyRent:V}),Y&&{width:Y}),H&&{height:H}),$&&{depth:$}),se&&{squareFeet:se}),re&&{numberOfUnitsByType:re});u([].concat(Object(_e.a)(j),[e])),ea()},children:"Create"})]})]}),Object(I.jsxs)(Re.a,{isOpen:Nt,toggle:aa,size:"lg",centered:!0,children:[Object(I.jsx)(Qe.a,{children:Ct?"Editing Unit":"Add A New Availability"}),Object(I.jsxs)(Ve.a,{children:[1===Ft&&Object(I.jsxs)("div",{className:"row",children:[Object(I.jsxs)("div",{className:"col-12 col-lg-6 d-flex flex-column border-end border-dark",children:[Object(I.jsx)("p",{children:"You can add available unit information based on a unit previously created by selecting the unit name in the dropdown below."}),Object(I.jsx)("label",{htmlFor:"existingUnit",className:"form-label text-secondary",children:"Existing Unit"}),Object(I.jsxs)("div",{className:"input-group",children:[Object(I.jsxs)("select",{id:"existingUnit",className:"form-select",value:Bt,onChange:function(e){return Rt(e.target.value)},children:[Object(I.jsx)("option",{value:"",selected:!0,children:"Select Unit"}),j&&j.map((function(e,t){return Object(I.jsx)("option",{value:JSON.stringify(e),children:e.unitName},t)}))]}),Object(I.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){var e=JSON.parse(Bt);Lt(2),me(e.unitName?e.unitName:""),xe(e.monthlyRent?e.monthlyRent:""),Ne(e.width?e.width:""),Ce(e.height?e.height:""),ke(e.depth?e.depth:""),Fe(e.squareFeet?e.squareFeet:"")},disabled:""===Bt,children:"Next"})]})]}),Object(I.jsx)("div",{className:"d-lg-none text-center mt-5",children:"or"}),Object(I.jsxs)("div",{className:"col-12 col-lg-6 d-flex flex-column text-center justify-content-center mt-5 mt-lg-0",children:[Object(I.jsx)("p",{children:"Enter values for unit manually"}),Object(I.jsx)("div",{children:Object(I.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return Lt(2)},children:"Enter Manually"})})]})]}),2===Ft&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"row my-3 align-items-end",children:[Object(I.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(I.jsx)("label",{className:"form-label",htmlFor:"unitName",children:"Unit Name"}),Object(I.jsx)("small",{className:"text-secondary d-block",children:"Can be the same as the unit summary name or the specific name/number of this unit like 'Unit 101'."}),Object(I.jsx)("input",{id:"unitName",className:"form-control",type:"text",placeholder:"Enter Unit Name",value:ue,onChange:function(e){return me(e.target.value)}})]}),Object(I.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(I.jsx)("label",{htmlFor:"monthlyRent",className:"form-label",children:"Monthly Rent"}),Object(I.jsxs)("div",{className:"input-group",children:[Object(I.jsx)("span",{className:"input-group-text",children:"$"}),Object(I.jsx)("input",{id:"monthlyRent",className:"form-control",type:"Number",placeholder:"Enter Monthly Rent",min:0,step:".01",value:pe,onChange:function(e){return xe(e.target.value)}})]})]})]}),Object(I.jsxs)("div",{className:"row my-3 align-items-end",children:[Object(I.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(I.jsx)("label",{htmlFor:"width",className:"form-label",children:"Unit Width"}),Object(I.jsxs)("small",{className:"text-secondary d-block",children:["Width in feet (a ",Object(I.jsx)("b",{children:"ft"})," symbol will be added to the value entered)"]}),Object(I.jsx)("input",{id:"width",className:"form-control",type:"Number",placeholder:"Enter Width",min:0,value:ve,onChange:function(e){return Ne(e.target.value)}})]}),Object(I.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(I.jsx)("label",{htmlFor:"height",className:"form-label",children:"Unit Height"}),Object(I.jsx)("input",{id:"height",className:"form-control",type:"text",placeholder:"Enter Height",value:Ae,onChange:function(e){return Ce(e.target.value)}})]})]}),Object(I.jsxs)("div",{className:"row my-3 align-items-end",children:[Object(I.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(I.jsx)("label",{htmlFor:"depth",className:"form-label",children:"Unit Depth"}),Object(I.jsxs)("small",{className:"text-secondary d-block",children:["Depth in feet (a ",Object(I.jsx)("b",{children:"ft"})," symbol will be added to the value entered)"]}),Object(I.jsx)("input",{id:"depth",className:"form-control",type:"Number",placeholder:"Enter Depth",min:0,value:Se,onChange:function(e){return ke(e.target.value)}})]}),Object(I.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(I.jsx)("label",{htmlFor:"sqft",className:"form-label",children:"Square Feet"}),Object(I.jsxs)("small",{className:"text-secondary d-block",children:["Square footage (a ",Object(I.jsx)("b",{children:"sqft"})," symbol will be added to the value entered)"]}),Object(I.jsx)("input",{id:"sqft",className:"form-control",type:"Number",placeholder:"Enter Square Feet",min:0,value:Ue,onChange:function(e){return Fe(e.target.value)}})]})]})]})]}),Object(I.jsxs)(Je.a,{children:[Object(I.jsx)("button",{className:"btn",onClick:aa,children:"CANCEL"}),2===Ft&&(Ct?Object(I.jsx)("button",{className:"btn btn-primary",onClick:function(){var e=Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)({},ue&&{unitName:ue}),pe&&{monthlyRent:pe}),ve&&{width:ve}),Ae&&{height:Ae}),Se&&{depth:Se}),Ue&&{squareFeet:Ue}),qe&&{available:qe}),t=Object(_e.a)(p);t.splice(kt,1,e),x(t),aa()},children:"Update"}):Object(I.jsx)("button",{className:"btn btn-primary",onClick:function(){var e=Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)(Object(C.a)({},ue&&{unitName:ue}),pe&&{monthlyRent:pe}),ve&&{width:ve}),Ae&&{height:Ae}),Se&&{depth:Se}),Ue&&{squareFeet:Ue}),{},{available:!0});x([].concat(Object(_e.a)(p),[e])),aa()},children:"Add"}))]})]}),Object(I.jsxs)(Re.a,{isOpen:Jt,toggle:na,size:"lg",centered:!0,children:[Object(I.jsx)(Qe.a,{children:Wt?"Editing Extra":"Create A New Pricing Extra"}),Object(I.jsx)(Ve.a,{children:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"row my-3 align-items-end",children:[Object(I.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(I.jsx)("label",{className:"form-label",htmlFor:"price",children:"Price"}),Object(I.jsx)("small",{className:"text-secondary d-block",children:"The price / cost of this extra."}),Object(I.jsxs)("div",{className:"input-group",children:[Object(I.jsx)("span",{className:"input-group-text",children:"$"}),Object(I.jsx)("input",{id:"price",className:"form-control",type:"Number",placeholder:"Enter Price",min:0,step:".01",value:We,onChange:function(e){return Ge(e.target.value)}})]})]}),Object(I.jsxs)("div",{className:"col-12 col-lg-6",children:[Object(I.jsx)("label",{htmlFor:"frequency",className:"form-label",children:"Pricing Frequency"}),Object(I.jsx)("small",{className:"text-secondary d-block",children:"How often the charge is due."}),Object(I.jsx)("small",{className:"text-secondary",children:"Example: monthly, yearly, one time etc."}),Object(I.jsx)("input",{id:"frequency",className:"form-control",type:"text",placeholder:"Enter Pricing Frequency",value:Ze,onChange:function(e){return Xe(e.target.value)}})]})]}),Object(I.jsx)("div",{className:"row my-3 align-items-end",children:Object(I.jsxs)("div",{className:"col-12",children:[Object(I.jsx)("label",{htmlFor:"details",className:"form-label",children:"Details"}),Object(I.jsx)("small",{className:"text-secondary d-block",children:"Explain what this charge is and the details associated with it."}),Object(I.jsx)("textarea",{id:"details",className:"form-control",rows:"4",placeholder:"Enter Details",value:tt,onChange:function(e){return at(e.target.value)}})]})})]})}),Object(I.jsxs)(Je.a,{children:[Object(I.jsx)("button",{className:"btn",onClick:na,children:"CANCEL"}),Wt?Object(I.jsx)("button",{className:"btn btn-primary",onClick:function(){var e=Object(C.a)(Object(C.a)(Object(C.a)({},We&&{price:We}),Ze&&{frequency:Ze}),tt&&{details:tt}),t=Object(_e.a)(v);t.splice(Zt,1,e),y(t),na()},children:"Update"}):Object(I.jsx)("button",{className:"btn btn-primary",onClick:function(){var e=Object(C.a)(Object(C.a)(Object(C.a)({},We&&{price:We}),Ze&&{frequency:Ze}),tt&&{details:tt});y([].concat(Object(_e.a)(v),[e])),na()},children:"Create"})]})]})]})},ot=function(){var e=Object(r.h)(),t=Object(r.g)(),a=e.pathname.split("/location/")[1],n=Object(c.useState)({}),s=Object(d.a)(n,2),i=s[0],l=s[1],o=Object(c.useContext)(k),b=Object(d.a)(o,2),j=b[0],u=b[1];return Object(c.useEffect)((function(){return"new"===a?l({isDraft:!0}):ae(a,(function(e,a){e&&200===e.status?l(e.data):(console.log(a),t.push("/locations"))})),function(){setTimeout((function(){u({type:h,payload:{}}),u({type:x,payload:void 0}),u({type:f,payload:void 0})}),1e3),u({type:m,payload:v})}}),[]),Object(I.jsxs)("div",{className:"LocationEdit",children:[j.tabView===v&&Object(I.jsx)(Xe,{location:i}),j.tabView===N&&Object(I.jsx)(st,{location:i}),j.tabView===y&&Object(I.jsx)(lt,{location:i}),j.tabView===A&&Object(I.jsx)(ct,{location:i}),j.tabView===w&&Object(I.jsx)(nt,{location:i})]})},rt=a(34);a(144);function dt(){var e=Object(r.h)().pathname;return Object(c.useEffect)((function(){document.getElementById("mainContent").scrollTo(0,0)}),[e]),null}var bt=function(){Object(c.useEffect)((function(){R.addToastListener((function(c,s){var i;(i={},Object(l.a)(i,L,e),Object(l.a)(i,D,t),Object(l.a)(i,q,a),Object(l.a)(i,B,n),i)[c](s)}))}),[]);var e=function(e){return rt.b.info(e)},t=function(e){return rt.b.success(e)},a=function(e){return rt.b.warning(e)},n=function(e){e&&rt.b.error("".concat(e.status," ").concat(e.statusText,": ").concat(e.data))};return Object(I.jsxs)(P,{children:[Object(I.jsx)("div",{className:"App lightTheme",children:Object(I.jsx)(o.a,{children:Object(I.jsxs)("div",{className:"row m-0",children:[Object(I.jsx)(r.b,{path:"/",render:function(e){return"/login"!==e.location.pathname&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("div",{className:"d-none d-md-block col-2 p-0",children:Object(I.jsx)(ke,{})}),Object(I.jsx)("div",{className:"d-md-none",children:Object(I.jsx)(Be,{})})]})}}),Object(I.jsxs)("div",{id:"mainContent",className:"col mainContent",children:[Object(I.jsx)(dt,{}),Object(I.jsxs)(r.d,{children:[Object(I.jsx)(r.b,{path:"/",exact:!0,render:function(e){return Object(I.jsx)(r.a,{to:"/dashboard"})}}),Object(I.jsx)(r.b,{path:"/login",exact:!0,component:pe}),Object(I.jsx)(Ne,{path:"/dashboard",exact:!0,children:Object(I.jsx)(xe,{})}),Object(I.jsx)(Ne,{path:"/locations",exact:!0,children:Object(I.jsx)(Se,{})}),Object(I.jsx)(Ne,{path:"/location/:slug",children:Object(I.jsx)(ot,{})}),Object(I.jsx)(Ne,{path:"/users",exact:!0,children:Object(I.jsx)(Me,{})}),Object(I.jsx)(Ne,{path:"/settings",exact:!0,children:Object(I.jsx)(ye,{})}),Object(I.jsx)(r.b,{path:"*",exact:!0,component:fe})]})]})]})})}),Object(I.jsx)(rt.a,{})]})},jt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,168)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),c(e),n(e),s(e),i(e)}))};a(145);i.a.render(Object(I.jsx)(n.a.StrictMode,{children:Object(I.jsx)(bt,{})}),document.getElementById("root")),jt()},82:function(e,t,a){},83:function(e,t,a){}},[[146,1,2]]]);
//# sourceMappingURL=main.b9501911.chunk.js.map