{"version":3,"sources":["context/ActionTypes.js","shared/Constants.js","context/Reducer.js","context/Store.js","util/helpers.js","util/API.js","components/companyLogo/lightLogo.svg","components/companyLogo/lightLogoTransparent.svg","components/companyLogo/lightLogoTransparentTextOnly.svg","components/companyLogo/squareLightTransparent.svg","components/companyLogo/darkLogo.svg","components/companyLogo/darkLogoTransparent.svg","components/companyLogo/squareDarkTransparent.svg","components/companyLogo/CompanyLogo.js","routes/login/Login.js","routes/dashboard/Dashboard.js","routes/NotFound/NotFound.js","components/privateRoute/PrivateRoute.js","routes/settings/Settings.js","components/locationCard/LocationCard.js","components/locationCard/default.png","routes/locations/Locations.js","shared/toolbar/Toolbar.js","shared/mobileHeader/MobileHeader.js","routes/users/Users.js","components/coordinatePicker/CoordinatePicker.js","components/tabView/TabView.js","components/generalTabView/GeneralTabView.js","components/imageCard/ImageCard.js","components/mediaTabView/MediaTabView.js","components/paymentTabView/PaymentTabView.js","components/thumbnailTabView/ThumbnailTabView.js","components/unitCard/UnitCard.js","components/unitTabView/UnitTabView.js","routes/locations/locationEdit/LocationEdit.js","components/scrollToTop/ScrollToTop.js","App.js","reportWebVitals.js","index.js"],"names":["SET_USER","SET_USERS","DELETE_USER","SET_TABVIEW","UPDATE_PREVIEW","OPEN_PREVIEW","RESET_PREVIEW","SET_DETAIL_PAGE_IMAGES_PENDING","SET_BANNER_IMAGE_PENDING","SET_THUMBNAIL_IMAGE_PENDING","TAB_GENERAL","TAB_THUMBNAIL","TAB_UNIT","TAB_PAYMENT","TAB_MEDIA","Reducer","state","action","type","currentUser","payload","allUsers","tabView","previewLocation","openPreview","detailPageImages_pending","bannerImage_pending","thumbnailImage_pending","initialState","undefined","AppContext","createContext","Store","props","useReducer","dispatch","Provider","value","children","tabViewMap","TOAST_TYPES","HELPERS","getTabNameFromTabView","listenerFunction","addToastListener","listener","this","showToast","message","baseUrl","config","withCredentials","GET","endpoint","cb","successToastData","suppressErrorToast","axios","get","then","res","err","response","POST","data","post","PUT","put","DELETE","delete","API","req","id","files","promiseArray","i","length","formData","FormData","append","UPLOAD_PRESET","API_KEY","Date","now","push","CLOUD_NAME","headers","Promise","all","catch","CompanyLogo","textOnly","className","src","LightLogoTransparentTextOnlySVG","alt","square","dark","SquareDarkTransparentSVG","SquareLightTransparentSVG","transparent","DarkLogoTransparentSVG","DarkLogoSVG","LightLogoTransparentSVG","LightLogoSVG","Login","useState","redirectToReferrer","setRedirectToReferrer","username","setUsername","password","setPassword","useContext","locationState","useLocation","to","from","onSubmit","event","preventDefault","status","console","log","htmlFor","onChange","e","target","Dashboard","locations","setLocations","useEffect","isAdmin","firstName","filter","location","isPublished","isDraft","user","NotFound","PrivateRoute","rest","renderChildren","setRenderChildren","pathname","path","render","Settings","setFirstName","lastName","setLastName","repeatPassword","setRepeatPassword","newPassword","setNewPassword","wasValidated","setWasValidated","usernameErrorMessage","setUsernameErrorMessage","wasValidated_password","setWasValidated_password","passwordErrorMessage","setPasswordErrorMessage","repeatPasswordErrorMessage","setRepeatPasswordErrorMessage","newPasswordErrorMessage","setNewPasswordErrorMessage","checkValidity","request","_id","elements","namedItem","setCustomValidity","stopPropagation","noValidate","placeholder","required","test","LocationCard","dropdownOpen","setDropdownOpen","imageSrc","thumbnailImage","name","style","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","minHeight","addressFirstLine","addressSecondLine","Dropdown","isOpen","toggle","prevState","direction","DropdownToggle","tag","DropdownMenu","DropdownItem","disabled","href","slug","rel","onClick","onEdit","onHide","divider","onDelete","Locations","history","useHistory","sortedLocations","setSortedLocations","loadLocations","locationData","sort","a","b","createdBy","filteredLocationData","deletedUsersLocations","usernameIndexMap","handleHide","handleDelete","window","confirm","maxLocationAllowance","map","locationsByUser","index","Toolbar","isActive","isTabActive","startsWith","MobileHeader","setIsOpen","Navbar","light","expand","NavbarBrand","Link","NavbarToggler","Collapse","navbar","Nav","NavItem","NavLink","Users","setIsAdmin","setMaxLocationAllowance","modal","setModal","editingUser","setEditingUser","maxLocationAllowance_editing","setMaxLocationAllowance_editing","getAllUsers","toggleModal","isSuperAdmin","handleDeleteUser","handleEditAllowance","checked","min","Modal","centered","ModalHeader","ModalBody","ModalFooter","EventComponent","useMapEvents","zoomend","setZoom","getZoom","click","handleClick","latlng","CoordinatePicker","zoom","markerLocation","setMarkerLocation","onCoordinateSelect","MapContainer","center","scrollWheelZoom","latLng","lat","lng","TileLayer","attribution","url","opacity","Marker","position","TabView","locationId","split","previewModal","setPreviewModal","previewHref","setPreviewHref","JSON","stringify","togglePreviewModal","handleTabViewNavClick","header","description","form","formId","onPublish","updatePreview","previousView","nextView","GeneralTabView","setName","setSlug","setAddressFirstLine","setAddressSecondLine","coordinatesFromMap","setCoordinatesFromMap","setLat","long","setLong","shortDescription","setShortDescription","longDescription","setLongDescription","currentFeature","setCurrentFeature","features","setFeatures","contactName","setContactName","contactPhone","setContactPhone","contactEmail","setContactEmail","setIsPublished","slugErrorMessage","setSlugErrorMessage","locationWithChanges","coordinates","handleFormSubmit","publish","updateRequest","max","step","maxLength","rows","feature","newFeatures","splice","pattern","size","ImageCard","caption","hideEdit","MediaTabView","detailPageImages","setDetailPageImages","bannerImage","setBannerImage","currentImage","setCurrentImage","currentCaption","setCurrentCaption","isEditing_pending","setIsEditing_pending","editingIndex_pending","setEditingIndex_pending","captionModal","setCaptionModal","captionModalPage","setCaptionModalPage","isEditing","setIsEditing","editingIndex","setEditingIndex","compress","Compress","locationImageRequest","file","thumbnail","secure_url","shift","concat","idField","onDrop","useCallback","acceptedFiles","quality","maxWidth","maxHeight","resizedimage","resizedFile","convertBase64ToFile","ext","toggleCaptionModal","useDropzone","onDropRejected","maxFiles","accept","getRootProps","getInputProps","resetCaptionModal","image","handlePendingEdit","newDetailPageImages_pending","handlePendingDelete","height","handleEdit","newDetailPageImages","newBannerImage","URL","createObjectURL","newDetailPageImage","PaymentTabView","enablePayments","setEnablePayments","paypalEmail","setPaypalEmail","markupPercentage","setMarkupPercentage","markupAmount","setMarkupAmount","paymentMarkupPercent","toFixed","paymentMarkupFixed","ThumbnailTabView","setThumbnailImage","UnitCard","unit","unitName","onEditClick","onDeleteClick","showAvailable","available","onAvailableClick","monthlyRent","width","depth","squareFeet","hideTotal","numberOfUnitsByType","UnitTabView","unitSummary","setUnitSummary","units","setUnits","extras","setExtras","unitName_create","setUnitName_create","monthlyRent_create","setMonthlyRent_create","width_create","setWidth_create","height_create","setHeight_create","depth_create","setDepth_create","sqft_create","setSqft_create","numberOfUnits_create","setNumberOfUnits_create","unitName_available","setUnitName_available","monthlyRent_available","setMonthlyRent_available","width_available","setWidth_available","height_available","setHeight_available","depth_available","setDepth_available","sqft_available","setSqft_available","isAvailable_available","setIsAvailable_available","price_extra","setPrice_extra","frequency_extra","setFrequency_extra","details_extra","setDetails_extra","unitSummaryModal","setUnitSummaryModal","isEditing_summary","setIsEditing_summary","editingIndex_summary","setEditingIndex_summary","unitAvailableModal","setUnitAvailableModal","isEditing_available","setIsEditing_available","editingIndex_available","setEditingIndex_available","availableModalPage","setAvailableModalPage","existingUnit","setExistingUnit","extrasModal","setExtrasModal","isEditing_extra","setIsEditing_extra","editingIndex_extra","setEditingIndex_extra","toggleUnitSummaryModal","resetUnitSummaryModal","toggleUnitAvailableModal","resetUnitAvailableModal","setTimeout","toggleExtrasModal","resetExtrasModal","handleEditUnitSummary","newUnitSummarys","handleDeleteUnitSummary","handleEditUnitAvailable","newUnits","handleDeleteUnitAvailable","handleAvailableClick","extra","price","frequency","details","handleEditExtra","newExtras","handleDeleteExtra","newUnit","selected","parse","newExtra","LocationEdit","routeLocation","setLocation","ScrollToTop","document","getElementById","scrollTo","App","showInfoToast","showSuccessToast","showWarningToast","showErrorToast","toast","info","success","warning","error","statusText","exact","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.9f7516af.chunk.js","sourcesContent":["export const SET_USER = 'SET_USER';\r\nexport const SET_USERS = 'SET_USERS';\r\nexport const DELETE_USER = 'DELETE_USER';\r\nexport const SET_TABVIEW = 'SET_TABVIEW';\r\nexport const UPDATE_PREVIEW = 'UPDATE_PREVIEW';\r\nexport const OPEN_PREVIEW = 'OPEN_PREVIEW';\r\nexport const RESET_PREVIEW = 'RESET_PREVIEW';\r\nexport const SET_DETAIL_PAGE_IMAGES_PENDING = 'SET_DETAIL_PAGE_IMAGES_PENDING';\r\nexport const SET_BANNER_IMAGE_PENDING = 'SET_BANNER_IMAGE_PENDING';\r\nexport const SET_THUMBNAIL_IMAGE_PENDING = 'SET_THUMBNAIL_IMAGE_PENDING';","/**\r\n * General tab view used for name, description, address, contact, coordinates etc.\r\n */\r\nexport const TAB_GENERAL = 'TAB_GENERAL';\r\n/**\r\n * Thumbnail tab view used for editing the location thumbnail.\r\n */\r\nexport const TAB_THUMBNAIL = 'TAB_THUMBNAIL';\r\n/**\r\n * Unit tab view used for unit summary and available units.\r\n */\r\nexport const TAB_UNIT = 'TAB_UNIT';\r\n/**\r\n * Payment tab view used for payment processing information.\r\n */\r\nexport const TAB_PAYMENT = 'TAB_PAYMENT';\r\n/**\r\n * Media tab view used for image uploading.\r\n */\r\nexport const TAB_MEDIA = 'TAB_MEDIA';","import { DELETE_USER, OPEN_PREVIEW, RESET_PREVIEW, SET_BANNER_IMAGE_PENDING, SET_DETAIL_PAGE_IMAGES_PENDING, SET_TABVIEW, SET_THUMBNAIL_IMAGE_PENDING, SET_USER, SET_USERS, UPDATE_PREVIEW } from \"./ActionTypes\"\r\n\r\nconst Reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case SET_USER:\r\n            return {...state, currentUser: action.payload};\r\n        case SET_USERS:\r\n            return {...state, allUsers: action.payload};\r\n        case DELETE_USER:\r\n            return {...state, currentUser: null};\r\n        case SET_TABVIEW:\r\n            return {...state, tabView: action.payload};\r\n        case UPDATE_PREVIEW:\r\n            return {...state, previewLocation: action.payload};\r\n        case OPEN_PREVIEW:\r\n            return {...state, openPreview: true};\r\n        case RESET_PREVIEW:\r\n            return {...state, openPreview: false};\r\n        case SET_DETAIL_PAGE_IMAGES_PENDING:\r\n            return {...state, detailPageImages_pending: action.payload};\r\n        case SET_BANNER_IMAGE_PENDING:\r\n            return {...state, bannerImage_pending: action.payload};\r\n        case SET_THUMBNAIL_IMAGE_PENDING:\r\n            return {...state, thumbnailImage_pending: action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default Reducer;","import { createContext, useReducer } from 'react';\r\nimport { TAB_GENERAL } from '../shared/Constants';\r\nimport Reducer from './Reducer';\r\n\r\nconst initialState = {\r\n    currentUser: null,\r\n    allUsers: null,\r\n    tabView: TAB_GENERAL,\r\n    previewLocation: {},\r\n    openPreview: false,\r\n    detailPageImages_pending: undefined,\r\n    bannerImage_pending: undefined,\r\n    thumbnailImage_pending: undefined\r\n}\r\n\r\nconst Store = (props) => {\r\n    const [state, dispatch] = useReducer(Reducer, initialState);\r\n\r\n    return (\r\n        <AppContext.Provider value={[state, dispatch]}>\r\n            {props.children}\r\n        </AppContext.Provider>\r\n    )\r\n}\r\n\r\nexport const AppContext = createContext(initialState);\r\n\r\nexport default Store;","const tabViewMap = {\r\n    TAB_GENERAL: 'General',\r\n    TAB_THUMBNAIL: 'Thumbnail',\r\n    TAB_UNIT: 'Unit / Pricing',\r\n    TAB_PAYMENT: 'Payment',\r\n    TAB_MEDIA: 'Media'\r\n}\r\n\r\nexport const TOAST_TYPES = {\r\n    INFO: 'INFO',\r\n    SUCCESS: 'SUCCESS',\r\n    WARNING: 'WARNING',\r\n    ERROR: 'ERROR'\r\n}\r\n\r\nexport const HELPERS = {\r\n    /**\r\n     * Gets the display text of the tab view from the given tab view constant.\r\n     * @param {String} tabView The tab view constant from the constants file.\r\n     * @returns The string representation of the tab.\r\n     */\r\n    getTabNameFromTabView: (tabView) => tabViewMap[tabView],\r\n    /**\r\n     * Toast Listener\r\n     */\r\n    listenerFunction: [],\r\n    /**\r\n     * Adds a listener function that will be called to show a toast message.\r\n     * @param {Function} listener Listener function that will get called when a toast needs to be displayed.\r\n     */\r\n    addToastListener(listener) {\r\n        this.listenerFunction = listener;\r\n    },\r\n    /**\r\n     * Shows a toast message of the given type containing the given text.\r\n     * @param {String} type The type of toast to display.\r\n     * @param {String} message The message to show on the toast.\r\n     */\r\n    showToast(type, message) {\r\n        this.listenerFunction(type, message);\r\n    },\r\n}\r\n","import axios from \"axios\"\r\nimport { HELPERS, TOAST_TYPES } from \"./helpers\";\r\n\r\nconst baseUrl = (process.env.NODE_ENV === 'production') ? 'https://contractorsgarage.com' : 'http://localhost:3005';\r\nconst config = { withCredentials: true };\r\n\r\nconst GET = (endpoint, cb, successToastData, suppressErrorToast) => {\r\n    axios.get(baseUrl + endpoint, config)\r\n    .then(res => {\r\n        successToastData && HELPERS.showToast(successToastData.type, successToastData.message);\r\n        cb(res);\r\n    }, (err) => {\r\n        suppressErrorToast ?? HELPERS.showToast(TOAST_TYPES.ERROR, err.response);\r\n        cb(null, err);\r\n    });\r\n}\r\n\r\nconst POST = (endpoint, data, cb, successToastData, suppressErrorToast) => {\r\n    axios.post(baseUrl + endpoint, data, config)\r\n    .then(res => {\r\n        successToastData && HELPERS.showToast(successToastData.type, successToastData.message);\r\n        cb(res);\r\n    }, (err) => {\r\n        suppressErrorToast ?? HELPERS.showToast(TOAST_TYPES.ERROR, err.response);\r\n        cb(null, err);\r\n    });\r\n}\r\n\r\nconst PUT = (endpoint, data, cb, successToastData, suppressErrorToast) => {\r\n    axios.put(baseUrl + endpoint, data, config)\r\n    .then(res => {\r\n        successToastData && HELPERS.showToast(successToastData.type, successToastData.message);\r\n        cb(res);\r\n    }, (err) => {\r\n        suppressErrorToast ?? HELPERS.showToast(TOAST_TYPES.ERROR, err.response);\r\n        cb(null, err);\r\n    });\r\n}\r\n\r\nconst DELETE = (endpoint, cb, successToastData, suppressErrorToast) => {\r\n    axios.delete(baseUrl + endpoint, config)\r\n    .then(res => {\r\n        successToastData && HELPERS.showToast(successToastData.type, successToastData.message);\r\n        cb(res);\r\n    }, (err) => {\r\n        suppressErrorToast ?? HELPERS.showToast(TOAST_TYPES.ERROR, err.response);\r\n        cb(null, err);\r\n    });\r\n}\r\n\r\nexport const API = {\r\n    /*\r\n    *          !!##########################!!\r\n    *          !!                          !!\r\n    *          !!          Users           !!\r\n    *          !!                          !!\r\n    *          !!##########################!!\r\n    */\r\n    /**\r\n     * Checks if a user is currently logged in with a session.\r\n     * @param {Function} cb Callback function that returns response or error of the server request.\r\n     */\r\n    isLoggedIn(cb) {\r\n        GET('/api/user/is-logged-in', cb, null, true);\r\n    },\r\n    /**\r\n     * Logs a user in and creates a session.\r\n     * @param {Object} req Request data with user credentials.\r\n     * @param {Function} cb Callback function that returns response or error of the server request.\r\n     */\r\n    logIn: (req, cb) => {\r\n        POST('/api/user/login', req, cb);\r\n    },\r\n    /**\r\n     * Logs a user out and destroys the current session.\r\n     * @param {Function} cb Callback function that returns response or error of the server request.\r\n     */\r\n    logOut: (cb) => {\r\n        POST('/api/user/logout', null, cb);\r\n    },\r\n    \r\n    getAllUsers: (cb) => {\r\n        GET('/portal/user/get-all-users', cb, null, true);\r\n    },\r\n    /**\r\n     * Updates the user record that matches the given id with the given data.\r\n     * @param {String | Number} id Id of the user to update.\r\n     * @param {Object} data Request object containing the fields to update on the user record.\r\n     * @param {Function} cb Callback function that returns response or error of the server request.\r\n     */\r\n    updateUser: (id, data, cb) => {\r\n        PUT(`/portal/user/${id}`, data, cb, {type: TOAST_TYPES.SUCCESS, message: 'User data successfully updated!'});\r\n    },\r\n    /**\r\n     * Updates the password for the given user id with the given data.\r\n     * @param {String | Number} id Id of the user to update.\r\n     * @param {Object} data Request object containing the password update information.\r\n     * @param {Function} cb Callback function that returns response or error of the server request.\r\n     */\r\n    changePassword: (id, data, cb) => {\r\n        PUT(`/portal/user/change-password/${id}`, data, cb, {type: TOAST_TYPES.SUCCESS, message: 'Password updated successfully!'});\r\n    },\r\n    /**\r\n     * Creates a new user with the given data.\r\n     * @param {Object} data Request object containing the data for creating the new user.\r\n     * @param {Function} cb Callback function that returns response or error of the server request.\r\n     */\r\n    createUser: (data, cb) => {\r\n        POST('/portal/user/create', data, cb, {type: TOAST_TYPES.SUCCESS, message: 'User created successfully!'});\r\n    },\r\n    /**\r\n     * Deletes a user record with the given id.\r\n     * @param {String | Number} id Id of the user to delete.\r\n     * @param {Function} cb Callback function that returns response or error of the server request.\r\n     */\r\n    deleteUser: (id, cb) => {\r\n        DELETE(`/portal/user/${id}`, cb, {type: TOAST_TYPES.SUCCESS, message: 'User deleted Successfully!'});\r\n    },\r\n    /**\r\n     * Updates the max location allowance of the user with the given id to the value passed into the data object.\r\n     * @param {String | Number} id Id of the user to update.\r\n     * @param {Object} data Request object containing the data for updating the max location allowance.\r\n     * @param {Function} cb Callback function that returns response or error of the server request.\r\n     */\r\n    updateMaxAllowance: (id, data, cb) => {\r\n        PUT(`/portal/user/max-allowance/${id}`, data, cb, {type: TOAST_TYPES.SUCCESS, message: 'User Updated Successfully!'});\r\n    },\r\n    /*\r\n    *          !!##########################!!\r\n    *          !!                          !!\r\n    *          !!        Locations         !!\r\n    *          !!                          !!\r\n    *          !!##########################!!\r\n    */\r\n   /**\r\n    * Gets all locations for user access level.\r\n    * @param {Function} cb Callback function that returns response or error of the server request.\r\n    */\r\n    getLocations: (cb) => {\r\n        GET('/portal/locations', cb, null, true);\r\n    },\r\n    /**\r\n     * Gets location data for a specific location for the given Id.\r\n     * @param {String} id Id for the specific location.\r\n     * @param {Function} cb Callback function that returns response or error of the server request.\r\n     */\r\n    getLocationById: (id, cb) => {\r\n        GET(`/portal/location/${id}`, cb);\r\n    },\r\n    /**\r\n     * Creates a location with the given payload. Make sure payload is in the form of the location record.\r\n     * @param {Object} data Request payload for creating a location\r\n     * @param {Function} cb Callback function that returns response or error of the server request.\r\n     */\r\n    createLocation: (data, cb) => {\r\n        POST('/portal/location', data, cb, {type: TOAST_TYPES.SUCCESS, message: 'Location Created!'});\r\n    },\r\n    /**\r\n    * Updates a location with the given payload. Make sure payload is in the form of the location record.\r\n    * @param {Object} data Request payload for updating a location.\r\n    * @param {Function} cb Callback function that returns response or error of the server request.\r\n    */\r\n    updateLocation: (data, cb) => {\r\n        PUT('/portal/location', data, cb, {type: TOAST_TYPES.SUCCESS, message: 'Update Successful!'});\r\n    },\r\n    /**\r\n    * Updates a location with the given payload. Make sure payload is in the form of the location record.\r\n    * This method will not show a toast message on success.\r\n    * @param {Object} data Request payload for updating a location.\r\n    * @param {Function} cb Callback function that returns response or error of the server request.\r\n    */\r\n    updateLocation_hideToast: (data, cb) => {\r\n        PUT('/portal/location', data, cb);\r\n    },\r\n    /**\r\n    * Creates a location preview record.\r\n    * @param {String} data JSON data representing the location object\r\n    * @param {Function} cb Callback function that returns response or error of the server request.\r\n    */\r\n    createPreview: (data, cb) => {\r\n        POST('/portal/location/preview', data, cb, { type: TOAST_TYPES.SUCCESS, message: 'Preview has been generated!'});\r\n    },\r\n    /**\r\n     * Hides a location by unpublishing it based on the given id.\r\n     * @param {String} id Id of the location to hide.\r\n     * @param {Function} cb Callback function that returns response or error of the server request.\r\n     */\r\n    hideLocation: (id, cb) => {\r\n        POST(`/portal/location/hide/${id}`, null, cb, { type: TOAST_TYPES.SUCCESS, message: 'Location has been hidden.'});\r\n    },\r\n    /**\r\n     * Deletes a location with the given id.\r\n     * @param {String} id Id of the location to delete.\r\n     * @param {Function} cb Callback function that returns response or error of the server request.\r\n     */\r\n    deleteLocation: (id, cb) => {\r\n        DELETE(`/portal/location/${id}`, cb, { type: TOAST_TYPES.SUCCESS, message: 'Location has been deleted.'});\r\n    },\r\n    /*\r\n    *          !!##########################!!\r\n    *          !!                          !!\r\n    *          !!          Images          !!\r\n    *          !!                          !!\r\n    *          !!##########################!!\r\n    */\r\n    uploadImages: (files, cb) => {\r\n        const promiseArray = [];\r\n        axios.get(baseUrl + '/portal/image-upload-credentials', config)\r\n        .then(res => {\r\n            for (let i = 0; i < files.length; i++) {\r\n                const tags = ['TCG', 'Portal Upload'];\r\n                const formData = new FormData();\r\n                formData.append('file', files[i]);\r\n                formData.append('tags', tags);\r\n                formData.append('upload_preset', res.data.UPLOAD_PRESET);\r\n                formData.append('api key', res.data.API_KEY);\r\n                formData.append('timestamp', (Date.now() / 1000) | 0);\r\n\r\n                promiseArray.push(axios.post(`https://api.cloudinary.com/v1_1/${res.data.CLOUD_NAME}/image/upload`, formData, {\r\n                    headers: { \"X-Requested-With\": \"XMLHttpRequest\" }\r\n                }));\r\n\r\n            }\r\n            \r\n            return Promise.all(promiseArray);\r\n        })\r\n        .then(cb)\r\n        .catch(err => {\r\n            HELPERS.showToast(TOAST_TYPES.ERROR, 'Error uploading images to server!');\r\n            cb(null, err);\r\n        });\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/lightLogo.83c080a5.svg\";","export default __webpack_public_path__ + \"static/media/lightLogoTransparent.e23d973f.svg\";","export default __webpack_public_path__ + \"static/media/lightLogoTransparentTextOnly.a8cbce4a.svg\";","export default __webpack_public_path__ + \"static/media/squareLightTransparent.cbbe2acf.svg\";","export default __webpack_public_path__ + \"static/media/darkLogo.53731710.svg\";","export default __webpack_public_path__ + \"static/media/darkLogoTransparent.521f807a.svg\";","export default __webpack_public_path__ + \"static/media/squareDarkTransparent.dde4f566.svg\";","import LightLogoSVG from './lightLogo.svg';\r\nimport LightLogoTransparentSVG from './lightLogoTransparent.svg';\r\nimport LightLogoTransparentTextOnlySVG from './lightLogoTransparentTextOnly.svg';\r\nimport SquareLightTransparentSVG from './squareLightTransparent.svg';\r\nimport DarkLogoSVG from './darkLogo.svg';\r\nimport DarkLogoTransparentSVG from './darkLogoTransparent.svg';\r\nimport SquareDarkTransparentSVG from './squareDarkTransparent.svg';\r\n\r\nconst CompanyLogo = (props) => {\r\n    if (props.textOnly) {\r\n        return <img\r\n            className=\"CompanyLogo\"\r\n            src={LightLogoTransparentTextOnlySVG}\r\n            alt=\"Contractors Garage\"\r\n        />\r\n    }\r\n    else if (props.square) {\r\n        return <img\r\n            className=\"CompanyLogo\"\r\n            src={props.dark ? SquareDarkTransparentSVG : SquareLightTransparentSVG}\r\n            alt=\"Contractors Garage\"\r\n        />\r\n    }\r\n    return (\r\n        props.dark\r\n        ?\r\n            <img\r\n                className=\"CompanyLogo\"\r\n                src={props.transparent ? DarkLogoTransparentSVG : DarkLogoSVG}\r\n                alt=\"Contractors Garage\"\r\n            />  \r\n        :\r\n            <img\r\n                className=\"CompanyLogo\"\r\n                src={props.transparent ? LightLogoTransparentSVG : LightLogoSVG}\r\n                alt=\"Contractors Garage\"\r\n            />\r\n    );\r\n};\r\n\r\nexport default CompanyLogo;","import React, { useContext, useState } from 'react';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\nimport { SET_USER } from '../../context/ActionTypes';\r\nimport { AppContext } from '../../context/Store';\r\nimport { API } from '../../util/API';\r\nimport CompanyLogo from '../../components/companyLogo/CompanyLogo';\r\nimport './Login.sass';\r\n\r\nconst Login = () => {\r\n  const [\r\n    redirectToReferrer,\r\n    setRedirectToReferrer\r\n  ] = useState(false);\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  // eslint-disable-next-line no-unused-vars\r\n  const [state, dispatch] = useContext(AppContext);\r\n\r\n  const { state: locationState } = useLocation();\r\n\r\n  if (redirectToReferrer === true) {\r\n    return <Redirect to={locationState?.from || '/dashboard'} />\r\n  }\r\n\r\n  const handleLogin = (event) => {\r\n    event.preventDefault();\r\n    API.logIn({ username, password }, (res, err) => {\r\n      if (res && res.status === 200) {\r\n        dispatch({type: SET_USER, payload: res.data});\r\n        setRedirectToReferrer(true);\r\n      }\r\n      else {\r\n        console.log(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className='Login d-flex flex-column h-100 justify-content-lg-center'>\r\n      <div className=\"col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-4 offset-lg-4 mt-5 mt-lg-0 mb-lg-5\">\r\n        <div className='text-center'>\r\n          <CompanyLogo transparent/>\r\n        </div>\r\n        <h2 className='text-center mb-4'>\r\n          ADMIN PORTAL\r\n        </h2>\r\n        <form onSubmit={handleLogin}>\r\n          <div className='mb-3'>\r\n            <label htmlFor='username' className='form-label'>Username</label>\r\n            <input\r\n              id='username'\r\n              className='form-control'\r\n              type='text'\r\n              value={username}\r\n              onChange={e => setUsername(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className='mb-3'>\r\n            <label htmlFor='password' className='form-label'>Password</label>\r\n            <input\r\n              id='password'\r\n              className='form-control'\r\n              type='password'\r\n              value={password}\r\n              onChange={e => setPassword(e.target.value)}  \r\n            />\r\n          </div>\r\n          <button className=\"btn btn-primary form-control mt-4\" type='submit'>Login</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { SET_USERS } from '../../context/ActionTypes';\r\nimport { AppContext } from '../../context/Store';\r\nimport { API } from '../../util/API';\r\nimport './Dashboard.sass';\r\n\r\nconst Dashboard = () => {\r\n    const [state, dispatch] = useContext(AppContext);\r\n    const [locations, setLocations] = useState([]);\r\n\r\n    useEffect(() => {\r\n        API.getLocations((res, err) => {\r\n            if (res && res.status === 200) {\r\n                setLocations(res.data);\r\n            }\r\n        });\r\n    }, []);\r\n    \r\n    useEffect(() => {\r\n        if (!state.allUsers && state.currentUser &&  state.currentUser.isAdmin) {\r\n            API.getAllUsers((res, err) => {\r\n                if (res && res.status === 200) {\r\n                    dispatch({type: SET_USERS, payload: res.data});\r\n                }\r\n            });\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [state.currentUser]);\r\n\r\n    return (\r\n        <div className='Dashboard'>\r\n            <div className=\"container\">\r\n                <h1 className='my-4'>Welcome, {state.currentUser && state.currentUser.firstName}</h1>\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 col-md-6\">\r\n                        <div className=\"card p-5 mb-3 mb-md-0\">\r\n                            <h3>Published Locations</h3>\r\n                            <h5 className='fw-bold themeText'>{locations.filter(location => location.isPublished).length}</h5>\r\n                            <h3>Drafts</h3>\r\n                            <h5 className='fw-bold themeText'>{locations.filter(location => location.isDraft).length}</h5>\r\n                            <h3>Inactive Locations</h3>\r\n                            <h5 className='fw-bold themeText'>{locations.filter(location => !location.isDraft && !location.isPublished).length}</h5>\r\n                            <Link to='/locations'>Manage Locations</Link>\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        state.currentUser && state.currentUser.isAdmin\r\n                        &&\r\n                        <div className=\"col-12 col-md-6\">\r\n                            <div className=\"card p-5\">\r\n                                <h3>Admin Users</h3>\r\n                                <h5 className='fw-bold themeText'>{state.allUsers && state.allUsers.filter(user => user.isAdmin).length}</h5>\r\n                                <h3>Normal Users</h3>\r\n                                <h5 className='fw-bold themeText'>{state.allUsers && state.allUsers.filter(user => !user.isAdmin).length}</h5>\r\n                                <Link to='/users'>Manage Users</Link>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dashboard;","import React from 'react';\r\nimport './NotFound.sass';\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <div className='NotFound'>\r\n            404 page not found!!!\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NotFound;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Redirect, Route, useLocation } from 'react-router-dom';\r\nimport { SET_USER } from '../../context/ActionTypes';\r\nimport { AppContext } from '../../context/Store';\r\nimport { API } from '../../util/API';\r\n\r\nconst PrivateRoute = ({ children, ...rest }) => {\r\n    const [renderChildren, setRenderChildren] = useState();\r\n    const location = useLocation();\r\n    const [state, dispatch] = useContext(AppContext);\r\n\r\n    useEffect(() => {\r\n        if (!state.currentUser) {\r\n            API.isLoggedIn((res, err) => {\r\n                if (res && res.status === 200) {\r\n                    setRenderChildren(children);\r\n                    dispatch({type: SET_USER, payload: res.data});\r\n                }\r\n                else {\r\n                    setRenderChildren(<Redirect to={{\r\n                        pathname: '/login',\r\n                        state: { from: location }\r\n                    }}/>);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            setRenderChildren(children);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [rest.path]);\r\n\r\n    return (\r\n        <Route {...rest} render={() => {\r\n            return renderChildren;\r\n        }}/>\r\n    );\r\n};\r\n\r\nexport default PrivateRoute;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { SET_USER } from '../../context/ActionTypes';\r\nimport { AppContext } from '../../context/Store';\r\nimport { API } from '../../util/API';\r\nimport { HELPERS, TOAST_TYPES } from '../../util/helpers';\r\nimport './Settings.sass';\r\n\r\nconst Settings = () => {\r\n    const [state, dispatch] = useContext(AppContext);\r\n\r\n    // Basic info state\r\n    const [firstName, setFirstName] = useState();\r\n    const [lastName, setLastName] = useState();\r\n    const [username, setUsername] = useState();\r\n\r\n    // Change password state\r\n    const [password, setPassword] = useState();\r\n    const [repeatPassword, setRepeatPassword] = useState();\r\n    const [newPassword, setNewPassword] = useState();\r\n\r\n    // Basic info form state\r\n    const [wasValidated, setWasValidated] = useState(false);\r\n    const [usernameErrorMessage, setUsernameErrorMessage] = useState();\r\n    \r\n    // Change password form state\r\n    const [wasValidated_password, setWasValidated_password] = useState(false);\r\n    const [passwordErrorMessage, setPasswordErrorMessage] = useState();\r\n    const [repeatPasswordErrorMessage, setRepeatPasswordErrorMessage] = useState();\r\n    const [newPasswordErrorMessage, setNewPasswordErrorMessage] = useState();\r\n\r\n    useEffect(() => {\r\n        if (state.currentUser) {\r\n            setFirstName(state.currentUser.firstName);\r\n            setLastName(state.currentUser.lastName);\r\n            setUsername(state.currentUser.username);\r\n        }\r\n    }, [state.currentUser]);\r\n\r\n    const handleFormSubmit = e => {\r\n        if (!e.target.checkValidity()) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            setUsernameErrorMessage();\r\n            HELPERS.showToast(TOAST_TYPES.WARNING, 'Unable to submit form! One or more fields are invalid.');\r\n        }\r\n        else {\r\n            e.preventDefault();\r\n            const request = {\r\n                firstName,\r\n                lastName,\r\n                username\r\n            };\r\n            API.updateUser(state.currentUser._id, request, (res, err) => {\r\n                if (res && res.status === 200) {\r\n                    console.log('success');\r\n                    dispatch({type: SET_USER, payload: {...state.currentUser, ...request}});\r\n                }\r\n                else if (err) {\r\n                    if (err.response && err.response.status === 400) {\r\n                        e.target.elements.namedItem('username').setCustomValidity('Current username value already in use, username must be unique. Choose another value.');\r\n                        setUsernameErrorMessage('Current username value already in use, username must be unique. Choose another value.');\r\n                    }\r\n                    console.log(err);\r\n                }\r\n            });\r\n        }\r\n        setWasValidated(true);\r\n    }\r\n    const handleFormSubmit_password = e => {\r\n        if (!e.target.checkValidity()) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            setPasswordErrorMessage();\r\n            HELPERS.showToast(TOAST_TYPES.WARNING, 'Unable to submit form! One or more fields are invalid.');\r\n        }\r\n        else {\r\n            const request = {\r\n                password,\r\n                newPassword\r\n            };\r\n            API.changePassword(state.currentUser._id, request, (res, err) => {\r\n                if (res && res.status === 200) {\r\n                    console.log('success');\r\n                }\r\n                else if (err) {\r\n                    if (err.response && err.response.status === 400) {\r\n                        e.target.elements.namedItem('password').setCustomValidity('Password not recognized!');\r\n                        setPasswordErrorMessage('Password not recognized!');\r\n                    }\r\n                    console.log(err);\r\n                }\r\n            });\r\n        }\r\n        setWasValidated_password(true);\r\n    }\r\n\r\n    const handleResetPasswordChange = e => {\r\n        if (e.target.value === password) {\r\n            e.target.setCustomValidity('');\r\n            setRepeatPasswordErrorMessage();\r\n        }\r\n        else {\r\n            e.target.setCustomValidity('Passwords do not match!');\r\n            setRepeatPasswordErrorMessage('Passwords do not match!');\r\n        }\r\n        setRepeatPassword(e.target.value);\r\n    }\r\n\r\n    const handleNewPasswordChange = e => {\r\n        if (/^(?=.*[A-Z])(?=.*\\d)[A-Za-z\\d].{5,}$/.test(e.target.value)) {\r\n            e.target.setCustomValidity('');\r\n            setNewPasswordErrorMessage();\r\n        }\r\n        else {\r\n            e.target.setCustomValidity('Password does not meet requirements. Must be minimum 6 digits long with at least one capital letter one number.');\r\n            setNewPasswordErrorMessage('Password does not meet requirements. Must be minimum 6 digits long with at least one capital letter one number.');\r\n        }\r\n        setNewPassword(e.target.value);\r\n    }\r\n\r\n    return (\r\n        <div className='Settings'>\r\n            <div className=\"container mb-5 pb-5\">\r\n                <h2 className='my-4'>Settings</h2>\r\n                <p>Update your profile information here.</p>\r\n                <form onSubmit={handleFormSubmit} className={`needs-validation ${wasValidated ? 'was-validated' : ''}`} noValidate>\r\n                    <h4>Basic Information</h4>\r\n                    <div className=\"d-flex flex-column my-4\">\r\n                        <label className='form-label requiredField' htmlFor=\"firstName\">First Name</label>\r\n                        <input\r\n                            id='firstName'\r\n                            className='form-control'\r\n                            type=\"text\"\r\n                            placeholder='Enter First Name'\r\n                            value={firstName}\r\n                            onChange={e => setFirstName(e.target.value)}\r\n                            required\r\n                        />\r\n                        <div className=\"invalid-feedback fw-bold\">\r\n                            First Name is a required field please enter a first name above.\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column my-4\">\r\n                        <label className='form-label requiredField' htmlFor=\"lastName\">Last Name</label>\r\n                        <input\r\n                            id='lastName'\r\n                            className='form-control'\r\n                            type=\"text\"\r\n                            placeholder='Enter Last Name'\r\n                            value={lastName}\r\n                            onChange={e => setLastName(e.target.value)}\r\n                            required\r\n                        />\r\n                        <div className=\"invalid-feedback fw-bold\">\r\n                            Last Name is a required field please enter a last name above.\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column my-4\">\r\n                        <label className='form-label requiredField' htmlFor=\"username\">Username</label>\r\n                        <input\r\n                            id='username'\r\n                            className='form-control'\r\n                            type=\"text\"\r\n                            placeholder='Enter Username'\r\n                            value={username}\r\n                            onChange={e => {e.target.setCustomValidity(''); setUsername(e.target.value);}}\r\n                            required\r\n                        />\r\n                        <div className=\"invalid-feedback fw-bold\">\r\n                            {\r\n                                usernameErrorMessage\r\n                                ?\r\n                                usernameErrorMessage\r\n                                :\r\n                                'Username is a required field please enter a username above.'\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <button className=\"btn btn-primary\" type='submit'>Submit</button>\r\n                </form>\r\n                <form onSubmit={handleFormSubmit_password} className={`needs-validation ${wasValidated_password ? 'was-validated' : ''}`} noValidate>\r\n                    <h4 className='mt-5'>Change Password</h4>\r\n                    <div className=\"d-flex flex-column my-4\">\r\n                        <label className='form-label requiredField' htmlFor=\"password\">Password</label>\r\n                        <input\r\n                            id='password'\r\n                            className='form-control'\r\n                            type=\"password\"\r\n                            placeholder='Enter Password'\r\n                            value={password}\r\n                            onChange={e => {e.target.setCustomValidity(''); setPassword(e.target.value);}}\r\n                            required\r\n                        />\r\n                        <div className=\"invalid-feedback fw-bold\">\r\n                            {\r\n                                passwordErrorMessage\r\n                                ?\r\n                                passwordErrorMessage\r\n                                :\r\n                                'Password is a required field please enter a password above.'                            }\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column my-4\">\r\n                        <label className='form-label requiredField' htmlFor=\"repeatPassword\">Confirm Password</label>\r\n                        <input\r\n                            id='repeatPassword'\r\n                            className='form-control'\r\n                            type=\"password\"\r\n                            placeholder='Confirm Password'\r\n                            value={repeatPassword}\r\n                            onChange={handleResetPasswordChange}\r\n                            required\r\n                        />\r\n                        <div className=\"invalid-feedback fw-bold\">\r\n                            {\r\n                                repeatPasswordErrorMessage\r\n                                ?\r\n                                repeatPasswordErrorMessage\r\n                                :\r\n                                'Must confirm old password in order to change your password.'\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column my-4\">\r\n                        <label className='form-label requiredField' htmlFor=\"newPassword\">New Password</label>\r\n                        <input\r\n                            id='newPassword'\r\n                            className='form-control'\r\n                            type=\"password\"\r\n                            placeholder='Enter New Password'\r\n                            value={newPassword}\r\n                            onChange={handleNewPasswordChange}\r\n                            required\r\n                        />\r\n                        <div className=\"invalid-feedback fw-bold\">\r\n                            {\r\n                                newPasswordErrorMessage\r\n                                ?\r\n                                newPasswordErrorMessage\r\n                                :\r\n                                'Password is a required field please enter a new password above.'\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <button className=\"btn btn-primary\" type='submit'>Submit</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Settings;","import React, { useState } from 'react';\r\nimport './LocationCard.sass';\r\nimport defaultImage from './default.png';\r\nimport { Dropdown, DropdownItem, DropdownMenu, DropdownToggle } from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst LocationCard = (props) => {\r\n\r\n    const {location} = props;\r\n\r\n    const [dropdownOpen, setDropdownOpen] = useState(false);\r\n  \r\n    const toggle = () => setDropdownOpen(prevState => !prevState);\r\n\r\n    const imageSrc = location.thumbnailImage ? location.thumbnailImage.src : defaultImage;\r\n\r\n    return (\r\n        <div className='LocationCard'>\r\n            {\r\n                location &&\r\n                <div\r\n                    className=\"card\"\r\n                >\r\n                    {\r\n                        location.isDraft &&\r\n                        <div className=\"draftBadge position-absolute badge bg-black bg-opacity-75\">\r\n                            <h4 className='m-0'>DRAFT</h4>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        location.isPublished &&\r\n                        <div className=\"draftBadge position-absolute badge bg-primary bg-opacity-75\">\r\n                            <h4 className='m-0'>PUBLISHED</h4>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        !location.isDraft && !location.isPublished &&\r\n                        <div className=\"draftBadge position-absolute badge bg-secondary bg-opacity-75\">\r\n                            <h4 className='m-0'>HIDDEN</h4>\r\n                        </div>\r\n                    }\r\n                    <div className=\"card-header themeBackground\">\r\n                        <h3>{location.name}</h3>\r\n                    </div>\r\n                    <div className=\"card-body\"\r\n                        style={\r\n                            {\r\n                                backgroundImage: \"url(\" + imageSrc + \")\",\r\n                                backgroundPosition: 'center',\r\n                                backgroundSize: 'cover',\r\n                                backgroundRepeat: 'no-repeat',\r\n                                minHeight: '250px'\r\n                            }\r\n                        }\r\n                    >\r\n                        <div className=\"shadowFade\">\r\n                            <address className='p-3 fw-bold'>\r\n                                <p className='m-0'>{location.addressFirstLine ? location.addressFirstLine : '[address first line]'}</p>\r\n                                <p>{location.addressSecondLine ? location.addressSecondLine : '[address second line]'}</p>\r\n                            </address>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"card-footer cardFooterBackground d-flex justify-content-between\">\r\n                        <Link className='btn btn-primary' to={`/location/${location._id}`}>Manage</Link>\r\n                        <Dropdown isOpen={dropdownOpen} toggle={toggle} direction='left'>\r\n                            <DropdownToggle tag='span'>\r\n                                <button className=\"btn\">\r\n                                    <i className=\"fas fa-ellipsis-v\"></i>\r\n                                </button>\r\n                            </DropdownToggle>\r\n                            <DropdownMenu>\r\n                                <DropdownItem className='p-0 viewLocationDropdownItem' disabled={!location.isPublished}>\r\n                                    <a\r\n                                        className='text-decoration-none d-block py-1 px-3'\r\n                                        href={`https://contractorsgarage.com/location/${location.slug}`}\r\n                                        target='_blank'\r\n                                        rel=\"noopener noreferrer\"\r\n                                    >\r\n                                        <i className=\"fas fa-external-link-alt text-primary\"></i>&nbsp;\r\n                                        View\r\n                                    </a>\r\n                                </DropdownItem>\r\n                                <DropdownItem onClick={props.onEdit}>\r\n                                    <i className=\"fas fa-pencil-alt text-success\"></i>&nbsp;\r\n                                    Edit\r\n                                </DropdownItem>\r\n                                <DropdownItem onClick={props.onHide} disabled={(!location.isPublished && !location.isDraft) || location.isDraft}>\r\n                                    <i className=\"fas fa-eye-slash\"></i>&nbsp;\r\n                                    Hide Location\r\n                                </DropdownItem>\r\n                                <DropdownItem divider/>\r\n                                <DropdownItem className='text-danger' onClick={props.onDelete}>\r\n                                    <i className=\"fas fa-trash-alt\"></i>&nbsp;\r\n                                    Delete\r\n                                </DropdownItem>\r\n                            </DropdownMenu>\r\n                        </Dropdown>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LocationCard;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAg0AAAGlCAIAAAD23VLdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkUxQTQyRkMyRkNCMjExRTM5NTU4OTZEQkJFNzU1OEY1IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkUxQTQyRkMzRkNCMjExRTM5NTU4OTZEQkJFNzU1OEY1Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTFBNDJGQzBGQ0IyMTFFMzk1NTg5NkRCQkU3NTU4RjUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTFBNDJGQzFGQ0IyMTFFMzk1NTg5NkRCQkU3NTU4RjUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7hkGSKAAAPo0lEQVR42uzd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\"","import React, { useContext, useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport LocationCard from '../../components/locationCard/LocationCard';\r\nimport { AppContext } from '../../context/Store';\r\nimport { API } from '../../util/API';\r\nimport './Locations.sass';\r\n\r\nconst Locations = () => {\r\n    // eslint-disable-next-line no-unused-vars\r\n    const [state, dispatch] = useContext(AppContext);\r\n    const history = useHistory();\r\n    const [locations, setLocations] = useState([]);\r\n    const [sortedLocations, setSortedLocations] = useState([]);\r\n\r\n    useEffect(() => {\r\n        loadLocations();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [state.currentUser]);\r\n    \r\n    const loadLocations = () => {\r\n        if (state.currentUser) {\r\n            API.getLocations((res, err) => {\r\n                if (res && res.status === 200) {\r\n                    if (state.currentUser && state.currentUser.isAdmin) {\r\n                        const locationData = res.data;\r\n                        locationData.sort((a, b) => {\r\n                            if (a.createdBy && b.createdBy) {\r\n                                if (a.createdBy.username === state.currentUser.username) return -1;\r\n                                else {\r\n                                    return a.createdBy.username[0] < b.createdBy.username[0] ? -1 : 1;\r\n                                }\r\n                            }\r\n                            else {\r\n                                return -1;\r\n                            }\r\n                        });\r\n                        setLocations(locationData);\r\n                        const filteredLocationData = locationData.filter(location => !!location.createdBy);\r\n                        const deletedUsersLocations = locationData.filter(location => !location.createdBy);\r\n                        const sortedLocations = [];\r\n                        const usernameIndexMap = {};\r\n                        for (let i = 0; i < filteredLocationData.length; i++) {\r\n                            if (usernameIndexMap[filteredLocationData[i].createdBy.username] !== undefined) {\r\n                                sortedLocations[usernameIndexMap[filteredLocationData[i].createdBy.username]].push(filteredLocationData[i]);\r\n                            }\r\n                            else {\r\n                                usernameIndexMap[filteredLocationData[i].createdBy.username] = sortedLocations.length;\r\n                                sortedLocations[sortedLocations.length] = [];\r\n                                sortedLocations[usernameIndexMap[filteredLocationData[i].createdBy.username]].push(filteredLocationData[i]);\r\n                            }\r\n                        }\r\n                        if (deletedUsersLocations.length > 0) {\r\n                            sortedLocations.push(deletedUsersLocations);\r\n                        }\r\n                        setSortedLocations(sortedLocations);\r\n                    }\r\n                    else {\r\n                        setLocations(res.data);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    const handleNewLocation = () => {\r\n        history.push('/location/new');\r\n    }\r\n\r\n    const handleHide = id => {\r\n        API.hideLocation(id, (res, err) => {\r\n            if (res && res.status === 200) {\r\n                console.log('success');\r\n                loadLocations();\r\n            }\r\n            else if (err) {\r\n                console.log(err);\r\n            }\r\n        });\r\n    }\r\n\r\n    const handleDelete = id => {\r\n        if (window.confirm('Are you sure you want to delete this location? This action cannot be reversed.')) {\r\n            API.deleteLocation(id, (res, err) => {\r\n                if (res && res.status === 200) {\r\n                    console.log('success');\r\n                    loadLocations();\r\n                }\r\n                else if (err) {\r\n                    console.log(err);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='Locations'>\r\n            <div className=\"container mb-5 pb-5\">\r\n                <h2 className='my-4'>Location Management</h2>\r\n                <p>Below is a list of the locations you have access to. From here you can select a location to make updates. To create a new location select the 'New Location' button and you will be taken to a creation screen where you can create and upload content.</p>\r\n                <div className=\"row my-5\">\r\n                    <div className=\"card p-4\">\r\n                        <h4>Create New Location</h4>\r\n                        {\r\n                            (state.currentUser && state.currentUser.isAdmin) || (state.currentUser && state.currentUser.maxLocationAllowance > locations.filter(location => location.isPublished).length)\r\n                            ?\r\n                            <>\r\n                                <p>Create a new location. You will be able to first create a draft and preview what it will look like before publishing.</p>\r\n                                <button\r\n                                    className=\"btn btn-primary col-xl-2 col-lg-3 col-sm-4\"\r\n                                    type='button'\r\n                                    onClick={handleNewLocation}\r\n                                >\r\n                                    New Location\r\n                                </button>\r\n                            </>\r\n                            :\r\n                            <>\r\n                                <p>\r\n                                    You have reached your maximum location allowance of <b>{state.currentUser && state.currentUser.maxLocationAllowance}</b>!\r\n                                </p>\r\n                                <p>\r\n                                    Please contact your administrator to request an increase in your max location allowance. For more information about listing with Contractors Garage visit the <a href='https://www.contractorsgarage.com/development-services' target='_blank' rel=\"noopener noreferrer\">List With Us</a> page.\r\n                                </p>\r\n                            </>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className=\"row mb-5 pb-5\">\r\n                    {\r\n                        locations && locations.length > 0\r\n                        ?\r\n                        state.currentUser && state.currentUser.isAdmin\r\n                        ?\r\n                            sortedLocations.map((locationsByUser, index) => (\r\n                                <div className='row mb-5 pb-5' key={index}>\r\n                                    <h4>\r\n                                        {\r\n                                            locationsByUser[0].createdBy\r\n                                            ?\r\n                                            locationsByUser[0].createdBy.username === state.currentUser.username ? 'Your Locations' : `${locationsByUser[0].createdBy.username} Locations (${locationsByUser[0].createdBy.firstName} ${locationsByUser[0].createdBy.lastName})`\r\n                                            :\r\n                                            '[deleted user]'\r\n                                        }\r\n                                    </h4>\r\n                                    {\r\n                                        locationsByUser.map(location => (\r\n                                            <div className=\"col-12 col-md-6 col-xxl-4 my-2\" key={location._id}>\r\n                                                <LocationCard\r\n                                                    location={location}\r\n                                                    onEdit={() => history.push(`/location/${location._id}`)}\r\n                                                    onHide={() => handleHide(location._id)}\r\n                                                    onDelete={() => handleDelete(location._id)}\r\n                                                />\r\n                                            </div>\r\n                                        ))\r\n                                    }\r\n                                </div>\r\n                            ))\r\n                        :\r\n                        <>\r\n                            <h4>Your Locations</h4>\r\n                            {\r\n                                locations.map(location => (\r\n                                    <div className=\"col-12 col-md-6 col-xxl-4 my-2\" key={location._id}>\r\n                                        <LocationCard\r\n                                            location={location}\r\n                                            onEdit={() => history.push(`/location/${location._id}`)}\r\n                                            onHide={() => handleHide(location._id)}\r\n                                            onDelete={() => handleDelete(location._id)}\r\n                                        />\r\n                                    </div>\r\n                                ))\r\n                            }\r\n                        </>\r\n                        :\r\n                        <p className=\"text-secondary pt-5\">Currently no locations have been added. To create a new location click the <b>New Location</b> button above.</p>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Locations;","import React, { useContext } from 'react';\r\nimport { Link, useHistory, useLocation } from 'react-router-dom';\r\nimport CompanyLogo from '../../components/companyLogo/CompanyLogo';\r\nimport { API } from '../../util/API';\r\nimport { AppContext } from '../../context/Store';\r\nimport './Toolbar.sass';\r\nimport { TAB_GENERAL, TAB_MEDIA, TAB_PAYMENT, TAB_THUMBNAIL, TAB_UNIT } from '../Constants';\r\nimport { DELETE_USER, SET_TABVIEW } from '../../context/ActionTypes';\r\nimport { HELPERS } from '../../util/helpers';\r\n\r\nconst Toolbar = () => {\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n    const [state, dispatch] = useContext(AppContext);\r\n        \r\n    const handleLogout = () => {\r\n        API.logOut((res, err) => {\r\n            if (res && res.status === 200) {\r\n                dispatch({type: DELETE_USER});\r\n                history.push('/login');\r\n            }\r\n        });\r\n    }\r\n    \r\n    const isActive = (path) => {\r\n        return path === location.pathname ? 'activeNavText' : '';\r\n    }\r\n\r\n    const isTabActive = tabView => {\r\n        return tabView === state.tabView ? 'activeNavText' : '';\r\n    }\r\n\r\n    return (\r\n        <div className='Toolbar toolbarBackground pt-4 d-flex flex-column'>\r\n            <CompanyLogo transparent/>\r\n            <div className=\"navWrapper mt-5 d-flex flex-column flex-grow-1\">\r\n                <ul className='list-unstyled'>\r\n                    <li className='mt-2'>\r\n                        <Link className={`text-decoration-none ${isActive('/dashboard')}`} to='/dashboard'>Dashboard</Link>\r\n                    </li>\r\n                    <li className='mt-2'>\r\n                        <Link className={`text-decoration-none ${isActive('/locations')}`} to='/locations'>Locations</Link>\r\n                    </li>\r\n                    {\r\n                        ( state.currentUser && state.currentUser.isAdmin )\r\n                        &&\r\n                        <li className='mt-2'>\r\n                            <Link className={`text-decoration-none ${isActive('/users')}`} to='/users'>Users</Link>\r\n                        </li>\r\n                    }\r\n                    <li className='mt-2'>\r\n                        <Link className={`text-decoration-none ${isActive('/settings')}`} to='/settings'>Settings</Link>\r\n                    </li>\r\n                </ul>\r\n                {\r\n                    location.pathname.startsWith('/location/') &&\r\n                    <>\r\n                        <hr/>\r\n                        <ul className='list-unstyled'>\r\n                            <li className='mt-2'>\r\n                                {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\r\n                                <a\r\n                                    className={`text-decoration-none ${isTabActive(TAB_GENERAL)}`}\r\n                                    href={void(0)}\r\n                                    onClick={() => dispatch({type: SET_TABVIEW, payload: TAB_GENERAL})}\r\n                                >\r\n                                    {HELPERS.getTabNameFromTabView(TAB_GENERAL)}\r\n                                </a>\r\n                            </li>\r\n                            <li className='mt-2'>\r\n                                {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\r\n                                <a\r\n                                    className={`text-decoration-none ${isTabActive(TAB_THUMBNAIL)}`}\r\n                                    href={void(0)}\r\n                                    onClick={() => dispatch({type: SET_TABVIEW, payload: TAB_THUMBNAIL})}\r\n                                >\r\n                                    {HELPERS.getTabNameFromTabView(TAB_THUMBNAIL)}\r\n                                </a>\r\n                            </li>\r\n                            <li className='mt-2'>\r\n                                {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\r\n                                <a\r\n                                    className={`text-decoration-none ${isTabActive(TAB_UNIT)}`}\r\n                                    href={void(0)}\r\n                                    onClick={() => dispatch({type: SET_TABVIEW, payload: TAB_UNIT})}\r\n                                >\r\n                                    {HELPERS.getTabNameFromTabView(TAB_UNIT)}\r\n                                </a>\r\n                            </li>\r\n                            <li className='mt-2'>\r\n                                {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\r\n                                <a\r\n                                    className={`text-decoration-none ${isTabActive(TAB_MEDIA)}`}\r\n                                    href={void(0)}\r\n                                    onClick={() => dispatch({type: SET_TABVIEW, payload: TAB_MEDIA})}\r\n                                >\r\n                                    {HELPERS.getTabNameFromTabView(TAB_MEDIA)}\r\n                                </a>\r\n                            </li>\r\n                            <li className='mt-2'>\r\n                                {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\r\n                                <a\r\n                                    className={`text-decoration-none ${isTabActive(TAB_PAYMENT)}`}\r\n                                    href={void(0)}\r\n                                    onClick={() => dispatch({type: SET_TABVIEW, payload: TAB_PAYMENT})}\r\n                                >\r\n                                    {HELPERS.getTabNameFromTabView(TAB_PAYMENT)}\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                    </>\r\n                }\r\n                <button className=\"btn btn-danger mt-auto\" onClick={handleLogout}>Logout</button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Toolbar;","import React, { useContext, useState } from 'react';\r\nimport { Link, useHistory, useLocation } from 'react-router-dom';\r\nimport { Collapse, DropdownItem, Nav, Navbar, NavbarBrand, NavbarToggler, NavItem, NavLink } from 'reactstrap';\r\nimport CompanyLogo from '../../components/companyLogo/CompanyLogo';\r\nimport { DELETE_USER } from '../../context/ActionTypes';\r\nimport { AppContext } from '../../context/Store';\r\nimport { API } from '../../util/API';\r\nimport './MobileHeader.sass';\r\n\r\nconst MobileHeader = () => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n    // eslint-disable-next-line no-unused-vars\r\n    const [state, dispatch] = useContext(AppContext);\r\n    \r\n    const handleLogout = () => {\r\n        API.logOut((res, err) => {\r\n            if (res && res.status === 200) {\r\n                dispatch({type: DELETE_USER});\r\n                history.push('/');\r\n            }\r\n        });\r\n    }\r\n    \r\n    const toggle = () => setIsOpen(!isOpen);\r\n\r\n    const isActive = (path) => {\r\n        return path === location.pathname ? 'active': '';\r\n    }\r\n    return (\r\n        <div className='MobileHeader'>\r\n            <Navbar light expand=\"md\" className='justify-content-between'>\r\n                <NavbarBrand className='p-0' tag={Link} to='/'>\r\n                    <CompanyLogo square />\r\n                </NavbarBrand>\r\n                <NavbarToggler onClick={toggle} />\r\n                <Collapse isOpen={isOpen} navbar>\r\n                    <Nav className=\"ml-auto\" navbar>\r\n                        <NavItem>\r\n                            <NavLink onClick={toggle} tag={Link} to=\"/dashboard\" className={isActive('/dashboard')}>Dashboard</NavLink>\r\n                        </NavItem>\r\n                        <NavItem>\r\n                            <NavLink onClick={toggle} tag={Link} to=\"/locations\" className={isActive('/locations')}>Locations</NavLink>\r\n                        </NavItem>\r\n                        {\r\n                            ( state.currentUser && state.currentUser.isAdmin )\r\n                            &&\r\n                            <NavItem>\r\n                                <NavLink onClick={toggle} tag={Link} to=\"/users\" className={isActive('/users')}>Users</NavLink>\r\n                            </NavItem>\r\n                        }\r\n                        <NavItem>\r\n                            <NavLink onClick={toggle} tag={Link} to=\"/settings\" className={isActive('/settings')}>Settings</NavLink>\r\n                        </NavItem>\r\n                        <DropdownItem divider/>\r\n                        <button className=\"btn btn-danger\" onClick={handleLogout}>Logout</button>\r\n                    </Nav>\r\n                </Collapse>\r\n            </Navbar>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MobileHeader;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\r\nimport { SET_USERS } from '../../context/ActionTypes';\r\nimport { AppContext } from '../../context/Store';\r\nimport { API } from '../../util/API';\r\nimport { HELPERS, TOAST_TYPES } from '../../util/helpers';\r\nimport './Users.sass';\r\n\r\nconst Users = () => {\r\n    const [state, dispatch] = useContext(AppContext);\r\n\r\n    // Create user form state\r\n    const [firstName, setFirstName] = useState();\r\n    const [lastName, setLastName] = useState();\r\n    const [username, setUsername] = useState();\r\n    const [password, setPassword] = useState();\r\n    const [isAdmin, setIsAdmin] = useState(false);\r\n    const [maxLocationAllowance, setMaxLocationAllowance] = useState();\r\n\r\n    // Create user form validation state\r\n    const [wasValidated, setWasValidated] = useState(false);\r\n    const [usernameErrorMessage, setUsernameErrorMessage] = useState();\r\n    const [passwordErrorMessage, setPasswordErrorMessage] = useState();\r\n\r\n    // Modal state\r\n    const [modal, setModal] = useState();\r\n    const [editingUser, setEditingUser] = useState();\r\n    const [maxLocationAllowance_editing, setMaxLocationAllowance_editing] = useState();\r\n        \r\n    useEffect(() => {\r\n        if (!state.allUsers && state.currentUser &&  state.currentUser.isAdmin) {\r\n            getAllUsers();\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [state.currentUser]);\r\n    \r\n    const getAllUsers = () => {\r\n        API.getAllUsers((res, err) => {\r\n            if (res && res.status === 200) {\r\n                dispatch({type: SET_USERS, payload: res.data});\r\n            }\r\n        });\r\n    }\r\n\r\n    const handleFormSubmit = e => {\r\n        if (!e.target.checkValidity()) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            setUsernameErrorMessage();\r\n            HELPERS.showToast(TOAST_TYPES.WARNING, 'Unable to submit form! One or more fields are invalid.');\r\n        }\r\n        else {\r\n            e.preventDefault();\r\n            const request = {\r\n                firstName,\r\n                lastName,\r\n                username,\r\n                password,\r\n                isAdmin,\r\n                maxLocationAllowance\r\n            }\r\n            API.createUser(request, (res, err) => {\r\n                if (res && res.status === 200) {\r\n                    console.log('success');\r\n                    getAllUsers();\r\n                }\r\n                else if (err) {\r\n                    if (err.response && err.response.status === 400) {\r\n                        e.target.elements.namedItem('username').setCustomValidity('Current username value already in use, username must be unique. Choose another value.');\r\n                        setUsernameErrorMessage('Current username value already in use, username must be unique. Choose another value.');\r\n                    }\r\n                    console.log(err);\r\n                }\r\n            });\r\n        }\r\n        setWasValidated(true);\r\n    }\r\n\r\n    const handleDeleteUser = user => {\r\n        if (window.confirm('Are you sure you want to delete this user?')) {\r\n            API.deleteUser(user._id, (res, err) => {\r\n                if (res && res.status === 200) {\r\n                    console.log('success');\r\n                    getAllUsers();\r\n                }\r\n                else if (err) {\r\n                    console.log(err);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    const handleEditAllowance = user => {\r\n        setEditingUser(user);\r\n        setMaxLocationAllowance_editing(user.maxLocationAllowance)\r\n        toggleModal();\r\n    }\r\n\r\n    const handlePasswordChange = e => {\r\n        if (/^(?=.*[A-Z])(?=.*\\d)[A-Za-z\\d].{5,}$/.test(e.target.value)) {\r\n            e.target.setCustomValidity('');\r\n            setPasswordErrorMessage();\r\n        }\r\n        else {\r\n            e.target.setCustomValidity('Password does not meet requirements. Must be minimum 6 digits long with at least one capital letter one number.');\r\n            setPasswordErrorMessage('Password does not meet requirements. Must be minimum 6 digits long with at least one capital letter one number.');\r\n        }\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    const toggleModal = () => setModal(!modal);\r\n\r\n    const handleUpdateAllowance = () => {\r\n        API.updateMaxAllowance(editingUser._id, {maxLocationAllowance: maxLocationAllowance_editing}, (res, err) => {\r\n            if (res && res.status === 200) {\r\n                console.log('success');\r\n                toggleModal();\r\n                getAllUsers();\r\n            }\r\n            else if (err) {\r\n                console.log(err);\r\n            }\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className='Users'>\r\n            <div className=\"container mb-5 pb-5\">\r\n                <h2 className='my-4'>Users</h2>\r\n                <p>Manage and create users here.</p>\r\n                <h4>Current Users</h4>\r\n                {\r\n                    state.allUsers\r\n                    &&\r\n                    state.allUsers.map((user, index) => (\r\n                        <div key={index} className=\"card my-3 border-secondary\">\r\n                            <div className=\"card-body\">\r\n                                <div className=\"row align-items-center\">\r\n                                    {\r\n                                        user.isAdmin\r\n                                        ?\r\n                                        <div className='col-12 col-md-2 d-flex align-items-center'>\r\n                                            <h3 className='d-inline'>\r\n                                                <i className=\"fas fa-user-tie\"></i>\r\n                                            </h3>\r\n                                            <div className=\"badge bg-success ms-2\">ADMIN</div>\r\n                                        </div>\r\n                                        :\r\n                                        <div className=\"col-12 col-md-2\">\r\n                                            <h3>\r\n                                                <i className=\"fas fa-user\"></i>\r\n                                            </h3>\r\n                                        </div>\r\n                                    }\r\n                                    <div className='col-12 col-md-10'>\r\n                                        <span className='fw-bold'>{user.username}</span>\r\n                                        <span className='fw-bold ms-3'>{`- (${user.firstName} ${user.lastName})`}</span>\r\n                                    </div>\r\n                                    {\r\n                                        !user.isAdmin\r\n                                        &&\r\n                                        <div className=\"col-12 offset-md-2\">\r\n                                            <span className=\"fw-bold\">Max Location Allowance: {user.maxLocationAllowance}</span>\r\n                                        </div>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            {\r\n                                ( !user.isAdmin || (state.currentUser && state.currentUser.isSuperAdmin) )\r\n                                &&\r\n                                <div className=\"card-footer d-flex\">\r\n                                    {\r\n                                        ( !user.isAdmin || (state.currentUser && state.currentUser.isSuperAdmin) )\r\n                                        &&\r\n                                        <button className=\"btn btn-danger\" onClick={() => handleDeleteUser(user)}>Delete</button>\r\n                                    }\r\n                                    {\r\n                                        !user.isAdmin\r\n                                        &&\r\n                                        <button className=\"btn btn-primary ms-auto\" onClick={() => handleEditAllowance(user)}>Edit Allowance</button>\r\n                                    }\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    ))\r\n                }\r\n                <form onSubmit={handleFormSubmit} className={`needs-validation ${wasValidated ? 'was-validated' : ''}`} noValidate>\r\n                    <h4 className='mt-5'>Create New User</h4>\r\n                    <p>Use this form to create a new user.</p>\r\n                    <div className=\"d-flex flex-column my-4\">\r\n                        <div className=\"form-check form-switch\">\r\n                            <input\r\n                                id='isAdmin'\r\n                                className='form-check-input'\r\n                                type=\"checkbox\"\r\n                                checked={isAdmin}\r\n                                onChange={e => setIsAdmin(e.target.checked)}\r\n                            />\r\n                            <label className='form-check-label' htmlFor=\"isAdmin\">Is Admin</label>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column my-4\">\r\n                        <label className='form-label requiredField' htmlFor=\"firstName\">First Name</label>\r\n                        <input\r\n                            id='firstName'\r\n                            className='form-control'\r\n                            type=\"text\"\r\n                            placeholder='Enter First Name'\r\n                            value={firstName}\r\n                            onChange={e => setFirstName(e.target.value)}\r\n                            required\r\n                        />\r\n                        <div className=\"invalid-feedback fw-bold\">\r\n                            First Name is a required field please enter a first name above.\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column my-4\">\r\n                        <label className='form-label requiredField' htmlFor=\"lastName\">Last Name</label>\r\n                        <input\r\n                            id='lastName'\r\n                            className='form-control'\r\n                            type=\"text\"\r\n                            placeholder='Enter Last Name'\r\n                            value={lastName}\r\n                            onChange={e => setLastName(e.target.value)}\r\n                            required\r\n                        />\r\n                        <div className=\"invalid-feedback fw-bold\">\r\n                            Last Name is a required field please enter a last name above.\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column my-4\">\r\n                        <label className='form-label requiredField' htmlFor=\"username\">Username</label>\r\n                        <input\r\n                            id='username'\r\n                            className='form-control'\r\n                            type=\"text\"\r\n                            placeholder='Enter Username'\r\n                            value={username}\r\n                            onChange={e => {e.target.setCustomValidity(''); setUsername(e.target.value);}}\r\n                            required\r\n                        />\r\n                        <div className=\"invalid-feedback fw-bold\">\r\n                            {\r\n                                usernameErrorMessage\r\n                                ?\r\n                                usernameErrorMessage\r\n                                :\r\n                                'Username is a required field please enter a username above.'\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"d-flex flex-column my-4\">\r\n                        <label className='form-label requiredField' htmlFor=\"password\">Password</label>\r\n                        <input\r\n                            id='password'\r\n                            className='form-control'\r\n                            type=\"text\"\r\n                            placeholder='Enter Password'\r\n                            value={password}\r\n                            onChange={handlePasswordChange}\r\n                            required\r\n                        />\r\n                        <div className=\"invalid-feedback fw-bold\">\r\n                            {\r\n                                passwordErrorMessage\r\n                                ?\r\n                                passwordErrorMessage\r\n                                :\r\n                                'Password is a required field please enter a password above.'\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    {\r\n                        !isAdmin\r\n                        &&\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <label className='form-label requiredField' htmlFor=\"maxAllowance\">Max Location Allowance</label>\r\n                            <small className='text-secondary'>This is how many locations this user will be able to publish according to their subscription level.</small>\r\n                            <input\r\n                                id='maxAllowance'\r\n                                className='form-control'\r\n                                type='number'\r\n                                placeholder='Enter Max Number of Locations'\r\n                                min='0'\r\n                                value={maxLocationAllowance}\r\n                                onChange={e => setMaxLocationAllowance(e.target.value)}\r\n                                required\r\n                            />\r\n                            <div className=\"invalid-feedback fw-bold\">\r\n                                Max location allowance is a required field please enter a value.\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    <button className=\"btn btn-primary\">Submit</button>\r\n                </form>\r\n            </div>\r\n            <Modal isOpen={modal} toggle={toggleModal} centered>\r\n                <ModalHeader>\r\n                    Edit Location Allowance\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    <div className=\"d-flex flex-column my-4\">\r\n                        <label className='form-label requiredField' htmlFor=\"maxAllowance\">Max Location Allowance</label>\r\n                        <small className='text-secondary'>This is how many locations this user will be able to publish according to their subscription level.</small>\r\n                        <input\r\n                            id='maxAllowance'\r\n                            className='form-control'\r\n                            type='number'\r\n                            placeholder='Enter Max Number of Locations'\r\n                            min='0'\r\n                            value={maxLocationAllowance_editing}\r\n                            onChange={e => setMaxLocationAllowance_editing(e.target.value)}\r\n                            required\r\n                        />\r\n                    </div>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <button className=\"btn\" onClick={toggleModal}>CANCEL</button>\r\n                    <button className=\"btn btn-primary\" onClick={handleUpdateAllowance}>Update</button>\r\n                </ModalFooter>\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Users;","import React, { useEffect, useState } from 'react';\r\nimport { MapContainer, TileLayer, Marker, useMapEvents } from 'react-leaflet';\r\nimport './CoordinatePicker.sass';\r\n\r\nfunction EventComponent(props) {\r\n\r\n    const map = useMapEvents({\r\n        zoomend: (event) => {\r\n            props.setZoom(map.getZoom());\r\n        },\r\n        click: (event) => {\r\n            props.handleClick(event.latlng);\r\n        }\r\n    });\r\n    \r\n    return null;\r\n}\r\n\r\nconst CoordinatePicker = (props) => {\r\n    const [zoom, setZoom] = useState(15);\r\n    const [markerLocation, setMarkerLocation] = useState();\r\n\r\n    useEffect(() => {\r\n        if (markerLocation) {\r\n            props.onCoordinateSelect(markerLocation);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [markerLocation]);\r\n\r\n    return (\r\n        <div className='CoordinatePicker'>\r\n            <MapContainer\r\n                center={props.center.length > 1 ? props.center : [40.68924454236941, -74.04454171657564]}\r\n                zoom={zoom}\r\n                scrollWheelZoom={true}\r\n            >\r\n                <EventComponent\r\n                    setZoom={setZoom}\r\n                    handleClick={latLng => setMarkerLocation([latLng.lat, latLng.lng])}\r\n                />\r\n                <TileLayer\r\n                    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                    url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                    opacity={zoom <= 7 ? 1 : 0}\r\n                />\r\n                <TileLayer\r\n                    attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n                    url=\"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png\"\r\n                    opacity={zoom > 7 ? 1 : 0}\r\n                />\r\n                {\r\n                    (markerLocation || props.center) &&\r\n                    <Marker\r\n                        position={markerLocation ? markerLocation : props.center}\r\n                    />\r\n                }\r\n            </MapContainer>\r\n            <div>\r\n                <label className='badge bg-info'>Lat</label>\r\n                <span className='fw-bold ms-4'>{markerLocation && markerLocation[0]}</span>\r\n            </div>\r\n            <div>\r\n                <label className='badge bg-info'>Long</label>\r\n                <span className='fw-bold ms-4'>{markerLocation && markerLocation[1]}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CoordinatePicker;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\r\nimport { OPEN_PREVIEW, RESET_PREVIEW, SET_TABVIEW } from '../../context/ActionTypes';\r\nimport { AppContext } from '../../context/Store';\r\nimport { API } from '../../util/API';\r\nimport { HELPERS } from '../../util/helpers';\r\n\r\nconst TabView = props => {\r\n    const [state, dispatch] = useContext(AppContext);\r\n    const routeLocation = useLocation();\r\n    const locationId = routeLocation.pathname.split('/location/')[1];\r\n    const [previewModal, setPreviewModal] = useState(false);\r\n    const [previewHref, setPreviewHref] = useState('');\r\n\r\n\r\n    useEffect(() => {\r\n        if (state.openPreview) {\r\n            API.createPreview({data: JSON.stringify(state.previewLocation)}, (res, err) => {\r\n                if (res && res.status === 200) {\r\n                    setPreviewHref('https://contractorsgarage.com/location/preview/' + res.data._id);\r\n                    togglePreviewModal();\r\n                    dispatch({type: RESET_PREVIEW});\r\n                }\r\n            });\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [state.openPreview]);\r\n    \r\n    const togglePreviewModal = () => setPreviewModal(!previewModal);\r\n    \r\n    const handleTabViewNavClick = (e, tabView) => {\r\n        e.preventDefault();\r\n        dispatch({type: SET_TABVIEW, payload: tabView})\r\n    }\r\n\r\n    const handlePreviewClick = () => {\r\n        props.updatePreview();\r\n        dispatch({type: OPEN_PREVIEW});\r\n    }\r\n\r\n    return (\r\n        <div className='TabView'>\r\n            <div className=\"mb-5 pb-5\">\r\n                <h2 className='my-4'>{props.header}</h2>\r\n                <p>{props.description}</p>\r\n                {props.children}\r\n                <div className=\"card p-4 mt-4\">\r\n                    <div>\r\n                        {\r\n                            locationId === 'new'\r\n                            ?\r\n                                <button form={props.formId} type='submit' className=\"btn btn-primary\">Save As Draft</button>\r\n                            :\r\n                            <>\r\n                                <button form={props.formId} type='submit' className=\"btn btn-primary\">Save</button>\r\n                                {\r\n                                    !props.isPublished && \r\n                                    <button\r\n                                        form={props.formId}\r\n                                        type='submit'\r\n                                        className=\"btn btn-primary ms-2\"\r\n                                        onClick={props.onPublish}\r\n                                    >\r\n                                        Publish\r\n                                    </button>\r\n                                }\r\n                                <button className=\"btn btn-secondary ms-2\" onClick={handlePreviewClick}>Create Preview</button>\r\n                            </>\r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className=\"tabViewNavSection d-flex justify-content-between my-5\">\r\n                    {\r\n                        props.previousView &&\r\n                        <div className='card p-3'>\r\n                            <a\r\n                                href='/'\r\n                                onClick={e => handleTabViewNavClick(e, props.previousView)}\r\n                            >\r\n                                <i className=\"fas fa-arrow-left\"></i> Previous: {HELPERS.getTabNameFromTabView(props.previousView)}\r\n                            </a>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        props.nextView &&\r\n                        <div className='ms-auto card p-3'>\r\n                            <a\r\n                                href='/'\r\n                                onClick={e => handleTabViewNavClick(e, props.nextView)}\r\n                            >\r\n                                Next: {HELPERS.getTabNameFromTabView(props.nextView)} <i className=\"fas fa-arrow-right\"></i>\r\n                            </a>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <Modal isOpen={previewModal} toggle={togglePreviewModal}>\r\n                <ModalHeader>Location Preview Generated</ModalHeader>\r\n                <ModalBody>\r\n                    <p>A preview has been generated from your data for this location. The link below will open the preview in a new tab. <b>This link will expire in 30 minutes.</b></p>\r\n                    <a href={previewHref} target='_blank' rel=\"noopener noreferrer\">View Preview <i className=\"fas fa-external-link-alt\"></i></a>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <button className=\"btn btn-primary\" onClick={togglePreviewModal}>Close</button>\r\n                </ModalFooter>\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TabView;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\r\nimport { UPDATE_PREVIEW } from '../../context/ActionTypes';\r\nimport { AppContext } from '../../context/Store';\r\nimport { TAB_THUMBNAIL } from '../../shared/Constants';\r\nimport { API } from '../../util/API';\r\nimport { HELPERS, TOAST_TYPES } from '../../util/helpers';\r\nimport CoordinatePicker from '../coordinatePicker/CoordinatePicker';\r\nimport TabView from '../tabView/TabView';\r\n\r\nconst GeneralTabView = ({location}) => {\r\n    const [state, dispatch] = useContext(AppContext);\r\n    const history = useHistory();\r\n    const routeLocation = useLocation();\r\n    const locationId = routeLocation.pathname.split('/location/')[1];\r\n\r\n    const [name, setName] = useState('');\r\n    const [slug, setSlug] = useState('');\r\n    const [addressFirstLine, setAddressFirstLine] = useState('');\r\n    const [addressSecondLine, setAddressSecondLine] = useState('');\r\n    const [coordinatesFromMap, setCoordinatesFromMap] = useState();\r\n    const [lat, setLat] = useState('');\r\n    const [long, setLong] = useState('');\r\n    const [shortDescription, setShortDescription] = useState('');\r\n    const [longDescription, setLongDescription] = useState('');\r\n    const [currentFeature, setCurrentFeature] = useState('');\r\n    const [features, setFeatures] = useState();\r\n    const [contactName, setContactName] = useState('');\r\n    const [contactPhone, setContactPhone] = useState('');\r\n    const [contactEmail, setContactEmail] = useState('');\r\n    const [isPublished, setIsPublished] = useState();\r\n\r\n    const [wasValidated, setWasValidated] = useState(false);\r\n    const [slugErrorMessage, setSlugErrorMessage] = useState('');\r\n\r\n    /**\r\n     * Every time a field changes update the preview so when this tab is exited the preview retains its data.\r\n     */\r\n    useEffect(() => {\r\n        updatePreview();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [name, slug, addressFirstLine, addressSecondLine, coordinatesFromMap, lat, long, shortDescription, longDescription, currentFeature, features, contactName, contactPhone, contactEmail, isPublished]);\r\n\r\n    useEffect(() => {\r\n        const locationWithChanges = {\r\n            ...location,\r\n            ...state.previewLocation\r\n        };\r\n        setName(locationWithChanges.name ? locationWithChanges.name : '');\r\n        setSlug(locationWithChanges.slug ? locationWithChanges.slug : '');\r\n        setAddressFirstLine(locationWithChanges.addressFirstLine ? locationWithChanges.addressFirstLine : '');\r\n        setAddressSecondLine(locationWithChanges.addressSecondLine ? locationWithChanges.addressSecondLine : '');\r\n        setLat(locationWithChanges.coordinates && locationWithChanges.coordinates.length > 1 ? locationWithChanges.coordinates[0] : '');\r\n        setLong(locationWithChanges.coordinates && locationWithChanges.coordinates.length > 1 ? locationWithChanges.coordinates[1] : '');\r\n        setShortDescription(locationWithChanges.shortDescription ? locationWithChanges.shortDescription : '');\r\n        setLongDescription(locationWithChanges.longDescription ? locationWithChanges.longDescription : '');\r\n        setFeatures(locationWithChanges.features ? locationWithChanges.features : '');\r\n        setContactName(locationWithChanges.contactName ? locationWithChanges.contactName : '');\r\n        setContactPhone(locationWithChanges.contactPhone ? locationWithChanges.contactPhone : '');\r\n        setContactEmail(locationWithChanges.contactEmail ? locationWithChanges.contactEmail : '');\r\n        setIsPublished(locationWithChanges.isPublished ? locationWithChanges.isPublished: null);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [location]);\r\n\r\n    const handleFormSubmit = (e, publish) => {\r\n        if (!e.target.checkValidity()) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            HELPERS.showToast(TOAST_TYPES.WARNING, 'Unable to submit form! One or more fields are invalid.');\r\n        }\r\n        else {\r\n            e.preventDefault();\r\n            if (state.previewLocation._id) {\r\n                const updateRequest = publish ? { ...state.previewLocation, isPublished: true, isDraft: false } : state.previewLocation;\r\n                API.updateLocation_hideToast(updateRequest, (res, err) => {\r\n                    if (res && res.status === 200) {\r\n                        console.log('success!');\r\n                        if (publish) {\r\n                            setIsPublished(true);\r\n                            HELPERS.showToast(TOAST_TYPES.SUCCESS, 'Location Published!');\r\n                        }\r\n                        else {\r\n                            HELPERS.showToast(TOAST_TYPES.SUCCESS, 'Update Successful!');\r\n                        }\r\n                    }\r\n                    else if (err) {\r\n                        if (err.response && err.response.status === 400) {\r\n                            e.target.elements.namedItem('slug').setCustomValidity('Current value already in use, url slug must be unique. Choose another value.');\r\n                            setSlugErrorMessage('Current value already in use, url slug must be unique. Choose another value.')\r\n                        }\r\n                        console.log(err);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                API.createLocation(state.previewLocation, (res, err) => {\r\n                    if (res && res.status === 200) {\r\n                        console.log('success!');\r\n                        dispatch({type: UPDATE_PREVIEW, payload: res.data});\r\n                        history.push(`/location/${res.data._id}`);\r\n                    }\r\n                    else if (err) {\r\n                        if (err.response && err.response.status === 400) {\r\n                            e.target.elements.namedItem('slug').setCustomValidity('Current value already in use, url slug must be unique. Choose another value.');\r\n                            setSlugErrorMessage('Current value already in use, url slug must be unique. Choose another value.')\r\n                        }\r\n                        console.log(err);\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        setWasValidated(true);\r\n    }\r\n\r\n    const handlePublish = (e) => {\r\n        e.preventDefault();\r\n        handleFormSubmit(e, true);\r\n    }\r\n\r\n    const handleHideLocation = () => {\r\n        API.hideLocation(state.previewLocation._id, (res, err) => {\r\n            if (res && res.status === 200) {\r\n                console.log('success');\r\n                setIsPublished(false);\r\n            }\r\n            else if (err) {\r\n                console.log(err);\r\n            }\r\n        });\r\n    }\r\n\r\n    const handleDeleteLocation = () => {\r\n        if (window.confirm('Are you sure you want to delete this location? This action cannot be reversed.')) {\r\n            API.deleteLocation(state.previewLocation._id, (res, err) => {\r\n                if (res && res.status === 200) {\r\n                    console.log('success');\r\n                    history.push('/locations');\r\n                }\r\n                else if (err) {\r\n                    console.log(err);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    const handleSlugChange = e => {\r\n        if (/[^a-z0-9-_]/g.test(e.target.value)) {\r\n            e.target.setCustomValidity('Field is required and must not contain spaces, uppercase letters or special characters (other than - and _).');\r\n            setSlugErrorMessage('Field is required and must not contain spaces, uppercase letters or special characters (other than - and _).');\r\n        }\r\n        else {\r\n            e.target.setCustomValidity('');\r\n        }\r\n        setSlug(e.target.value);\r\n    }\r\n    /**\r\n     * Updates the preview in context so when it is time to show the preview data from this tab will be included.\r\n     */\r\n    const updatePreview = () => {\r\n        const previewLocation = {\r\n            ...(name && {name}),\r\n            ...(slug && {slug}),\r\n            ...(addressFirstLine && {addressFirstLine}),\r\n            ...(addressSecondLine && {addressSecondLine}),\r\n            ...((lat && long) && {coordinates: [lat, long]}),\r\n            ...(shortDescription && {shortDescription}),\r\n            ...(longDescription && {longDescription}),\r\n            ...(features && {features}),\r\n            ...(contactName && {contactName}),\r\n            ...(contactPhone && {contactPhone}),\r\n            ...(contactEmail && {contactEmail}),\r\n            ...((isPublished != null) && {isPublished})\r\n        };\r\n        const payload = {\r\n            ...location,\r\n            ...state.previewLocation,\r\n            ...previewLocation\r\n        };\r\n        dispatch({type: UPDATE_PREVIEW, payload: payload});\r\n    }\r\n    \r\n    const [modal, setModal] = useState(false);\r\n\r\n    const toggle = () => setModal(!modal);\r\n\r\n    return (\r\n        <div className='GeneralTabView'>\r\n            <TabView\r\n                header={`General ${name ? '- ' + name : ''}`}\r\n                description='This section is for editing the general details about the location including the name, description, address, contact and coordinates.'\r\n                nextView={TAB_THUMBNAIL}\r\n                formId='generalForm'\r\n                isPublished={isPublished}\r\n                updatePreview={updatePreview}\r\n                onPublish={handlePublish}\r\n            >\r\n                {\r\n                    locationId !== 'new' &&\r\n                    <div className=\"card actionsSection p-4 my-4\">\r\n                        <h5>Quick Actions</h5>\r\n                        <p>Below is a list of actions you can perform on this location record.</p>\r\n                        {\r\n                            isPublished &&\r\n                            <div className=\"d-flex flex-column my-4\">\r\n                                <p>View this location on the live site.</p>\r\n                                <span>\r\n                                    <a className='btn btn-outline-primary' href={`https://contractorsgarage.com/location/${slug}`} target='_blank' rel=\"noopener noreferrer\">View Location &nbsp; <i className=\"fas fa-external-link-alt\"></i></a>\r\n                                </span>\r\n                            </div>\r\n                        }\r\n                        {\r\n                            isPublished &&\r\n                            <div className=\"d-flex flex-column my-4\">\r\n                                <p>Hide this location from view on the live site. This will only temporarily disable the location and will not delete it. You can reverse this action at any time.</p>\r\n                                <span>\r\n                                    <button className=\"btn btn-outline-secondary\" onClick={handleHideLocation}>Hide Location</button>\r\n                                </span>\r\n                            </div>\r\n                        }\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <p>Delete this location from the database. Warning this action cannot be reversed!</p>\r\n                            <span>\r\n                                <button className=\"btn btn-outline-danger\" onClick={handleDeleteLocation}>Delete</button>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                <div className='card editDetailCard p-4'>\r\n                    <form id='generalForm' className={`needs-validation ${wasValidated ? 'was-validated' : ''}`} onSubmit={handleFormSubmit} noValidate>\r\n                        <h5>Details</h5>\r\n                        <p>Use this section for filling out the basic details for this location.</p>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <label className='form-label requiredField' htmlFor=\"name\">Display Name</label>\r\n                            <small className='text-secondary'>This is the title of the location and will be displayed on the location directory and the top of this location page.</small>\r\n                            <input\r\n                                id='name'\r\n                                className='form-control'\r\n                                type=\"text\"\r\n                                placeholder='Enter Display Name'\r\n                                value={name}\r\n                                onChange={e => setName(e.target.value)}\r\n                                required\r\n                            />\r\n                            <div className=\"invalid-feedback fw-bold\">\r\n                                Display name is a required field please enter a display name above.\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <label className='form-label requiredField' htmlFor=\"slug\">URL Slug</label>\r\n                            <small className='text-secondary'>This is the unique ending of the URL that will link to your location page. It is a good idea to use something easy to type and human readable. Spaces are not allowed use the - or _ symbol as a separator. Only lowercase letters and numbers are allowed no special characters.</small>\r\n                            <small className='text-secondary'>Example: 'florida-garage' would appear like this in the URL. https://contractorsgarage.com/location/<span className='fw-bold'>florida-garage</span></small>\r\n                            <input\r\n                                id='slug'\r\n                                className='form-control'\r\n                                type=\"text\"\r\n                                placeholder='florida-garage'\r\n                                value={slug}\r\n                                onChange={handleSlugChange}\r\n                                required\r\n                            />\r\n                            <div className=\"invalid-feedback fw-bold\">\r\n                                {slugErrorMessage}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <label className='form-label' htmlFor=\"addressFirstLine\">Address (First Line)</label>\r\n                            <small className='text-secondary'>The street address for this location.</small>\r\n                            <small className='text-secondary'>Example: 123 Main Street</small>\r\n                            <input\r\n                                id='addressFirstLine'\r\n                                className='form-control'\r\n                                type=\"text\"\r\n                                placeholder='Enter Address'\r\n                                value={addressFirstLine}\r\n                                onChange={e => setAddressFirstLine(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <label className='form-label' htmlFor=\"addressSecondLine\">Address (Second Line)</label>\r\n                            <small className='text-secondary'>The city state and zip code for this location.</small>\r\n                            <small className='text-secondary'>Example: San Francisco, California 94105</small>\r\n                            <input\r\n                                id='addressSecondLine'\r\n                                className='form-control'\r\n                                type=\"text\"\r\n                                placeholder='Enter City, State Zip'\r\n                                value={addressSecondLine}\r\n                                onChange={e => setAddressSecondLine(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <h6>Coordinates</h6>\r\n                            <p>The exact coordinates to display the marker on the map for this location. You can manually enter the <i>latitude</i> and <i>longitude</i> or you can choose the point from the map by selecting <b>Choose From Map</b>.</p>\r\n                            <div className='row align-items-end'>\r\n                                <div className='d-flex flex-column col-12 col-md-3'>\r\n                                    <label className='form-label requiredField' htmlFor=\"lat\">Latitude</label>\r\n                                    <input\r\n                                        id='lat'\r\n                                        className='form-control'\r\n                                        type=\"number\"\r\n                                        max='90'\r\n                                        min='-90'\r\n                                        step='any'\r\n                                        value={lat}\r\n                                        onChange={e => setLat(e.target.value)}\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                                <div className='d-flex flex-column col-12 col-md-3 mt-4'>\r\n                                    <label className='form-label requiredField' htmlFor=\"log\">Longitude</label>\r\n                                    <input\r\n                                        id='log'\r\n                                        className='form-control'\r\n                                        type=\"number\"\r\n                                        max='180'\r\n                                        min='-180'\r\n                                        step='any'\r\n                                        value={long}\r\n                                        onChange={e => setLong(e.target.value)}\r\n                                        required\r\n                                    />\r\n                                </div>\r\n                                <div className='col-12 col-md-6'>\r\n                                    <button className=\"btn btn-outline-primary mt-4\" type='button' onClick={toggle}>Choose From Map</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <label className='form-label' htmlFor=\"shortDescription\">Short Description</label>\r\n                            <small className='text-secondary'>Description of this location to be shown on the map marker popup. Limit 140 characters.</small>\r\n                            <textarea\r\n                                id='shortDescription'\r\n                                className='form-control'\r\n                                maxLength={140}\r\n                                value={shortDescription}\r\n                                onChange={e => setShortDescription(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <label className='form-label' htmlFor=\"longDescription\">Long Description</label>\r\n                            <small className='text-secondary'>Description of this location to be shown on the location detail page. This will be shown at the top of the page and should include a description of the features and services.</small>\r\n                            <textarea\r\n                                id='longDescription'\r\n                                className='form-control'\r\n                                rows={6}\r\n                                value={longDescription}\r\n                                onChange={e => setLongDescription(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <label className='form-label' htmlFor=\"features\">Features</label>\r\n                            <small className='text-secondary'>A list of features and services provided at this location. Each item will appear as an item in a bulleted list. Enter each item in the input below and press <b>Add Feature</b> to add it to the list. To remove an item from the list press the <b>&times;</b> next to the item.</small>\r\n                            <form onSubmit={e => e.preventDefault()}>\r\n                                <div className=\"input-group\">\r\n                                    <input\r\n                                        id='features'\r\n                                        type=\"text\"\r\n                                        className='form-control'\r\n                                        placeholder='Enter Feature'\r\n                                        value={currentFeature}\r\n                                        onChange={e => setCurrentFeature(e.target.value)}\r\n                                    />\r\n                                    <button\r\n                                        className=\"btn btn-outline-primary\"\r\n                                        onClick={() => setFeatures([...features, currentFeature])}\r\n                                    >\r\n                                        Add Feature\r\n                                    </button>\r\n                                </div>\r\n                            </form>\r\n                            {\r\n                                !features || (features && features.length === 0)\r\n                                ?\r\n                                <p className=\"text-secondary pt-5\">Currently no features. Add features above and view them here...</p>\r\n                                :\r\n                                <ul className='list-unstyled mt-3'>\r\n                                    {\r\n                                        features.map((feature, index) => (\r\n                                            <li className='my-2' key={index}>\r\n                                                <div className=\"badge bg-secondary\">\r\n                                                    <span>{feature}</span>\r\n                                                    <button\r\n                                                        className=\"btn btn-close btn-close-white\"\r\n                                                        type='button'\r\n                                                        onClick={() => {\r\n                                                            if (window.confirm('Are you sure you want to delete this feature?')) {\r\n                                                                const newFeatures = [...features];\r\n                                                                newFeatures.splice(index, 1);\r\n                                                                setFeatures(newFeatures);\r\n                                                            }\r\n                                                        }}\r\n                                                    >\r\n                                                    </button>\r\n                                                </div>\r\n                                            </li>\r\n                                        ))\r\n                                    }\r\n                                </ul>\r\n                            }\r\n                        </div>\r\n                        <h5>Contact Info</h5>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <label className='form-label' htmlFor=\"contactName\">Contact Name</label>\r\n                            <small className='text-secondary'>The name of the contact for this location.</small>\r\n                            <input\r\n                                id='contactName'\r\n                                className='form-control'\r\n                                type=\"text\"\r\n                                placeholder='Enter Contact Name'\r\n                                value={contactName}\r\n                                onChange={e => setContactName(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <label className='form-label' htmlFor=\"contactPhone\">Contact Phone</label>\r\n                            <small className='text-secondary'>The phone number of the contact for this location.</small>\r\n                            <input\r\n                                id='contactPhone'\r\n                                className='form-control'\r\n                                type=\"text\"\r\n                                pattern='[\\d]{3}-[\\d]{3}-[\\d]{4}|[\\d]{10}'\r\n                                placeholder='Enter Contact Phone XXX-XXX-XXXX Format'\r\n                                value={contactPhone}\r\n                                onChange={e => setContactPhone(e.target.value)}\r\n                            />\r\n                            <div className=\"invalid-feedback fw-bold\">\r\n                                Phone number must contain only numbers or numbers separated with dashes, no spaces, letters or special characters allowed (other than -).\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <label className='form-label' htmlFor=\"contactEmail\">Contact Email</label>\r\n                            <small className='text-secondary'>The email address of the contact for this location.</small>\r\n                            <input\r\n                                id='contactEmail'\r\n                                className='form-control'\r\n                                type=\"email\"\r\n                                placeholder='Enter Contact Email'\r\n                                value={contactEmail}\r\n                                onChange={e => setContactEmail(e.target.value)}\r\n                            />\r\n                            <div className=\"invalid-feedback fw-bold\">\r\n                                Email address entered is not valid!\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </TabView>\r\n            <Modal isOpen={modal} toggle={toggle} size='lg'>\r\n                <ModalHeader>Choose Location On Map</ModalHeader>\r\n                <ModalBody>\r\n                    <p>Click on map to set marker location when finished click continue.</p>\r\n                    <CoordinatePicker\r\n                        center={(lat !== '' && long !== '') ? [lat, long] : (location.coordinates && location.coordinates.length > 1) ? location.coordinates : [40.68924454236941, -74.04454171657564]}\r\n                        onCoordinateSelect={setCoordinatesFromMap}\r\n                    />\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <button className=\"btn\" onClick={toggle}>CANCEL</button>\r\n                    <button\r\n                        className=\"btn btn-primary\"\r\n                        disabled={!coordinatesFromMap}\r\n                        onClick={() => {setLat(coordinatesFromMap[0]); setLong(coordinatesFromMap[1]); toggle();}}\r\n                    >\r\n                        Continue\r\n                    </button>\r\n                </ModalFooter>\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default GeneralTabView;","import React from 'react';\r\n\r\nconst ImageCard = (props) => {\r\n    return (\r\n        <div className='ImageCard'>\r\n            <div className=\"card\">\r\n                <div\r\n                    className=\"card-body\"\r\n                    style={\r\n                        {\r\n                            backgroundImage: \"url(\" + props.src + \")\",\r\n                            backgroundPosition: 'center',\r\n                            backgroundSize: 'cover',\r\n                            backgroundRepeat: 'no-repeat',\r\n                            minHeight: '250px'\r\n                        }\r\n                    }\r\n                />\r\n                <p className='position-absolute bg-white'>{props.caption}</p>\r\n                <div className=\"card-footer d-flex flex-row justify-content-between bg-light\">\r\n                    <button type='button' className=\"btn btn-link text-danger\" onClick={props.onDelete}>\r\n                        <i className=\"fas fa-trash-alt\"></i>\r\n                    </button>\r\n                    {\r\n                        props.hideEdit ??\r\n                        <button type='button' className=\"btn btn-link text-secondary\" onClick={props.onEdit}>\r\n                            <i className=\"fas fa-pencil-alt\"></i>\r\n                        </button>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ImageCard;","import React, { useCallback, useContext, useEffect, useState } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { TAB_PAYMENT, TAB_UNIT } from '../../shared/Constants';\r\nimport { HELPERS, TOAST_TYPES } from '../../util/helpers';\r\nimport TabView from '../tabView/TabView';\r\nimport './MediaTabView.sass';\r\nimport Compress from 'compress.js';\r\nimport { API } from '../../util/API';\r\nimport { AppContext } from '../../context/Store';\r\nimport { SET_BANNER_IMAGE_PENDING, SET_DETAIL_PAGE_IMAGES_PENDING, UPDATE_PREVIEW } from '../../context/ActionTypes';\r\nimport ImageCard from '../imageCard/ImageCard';\r\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst MediaTabView = ({location}) => {\r\n    const [state, dispatch] = useContext(AppContext);\r\n    const history = useHistory();\r\n\r\n    const [detailPageImages, setDetailPageImages] = useState();\r\n    const [bannerImage, setBannerImage] = useState();\r\n    const [isPublished, setIsPublished] = useState();\r\n\r\n    // State for new image object being created before it is uploaded\r\n    const [currentImage, setCurrentImage] = useState();\r\n    const [currentCaption, setCurrentCaption] = useState();\r\n    const [isEditing_pending, setIsEditing_pending] = useState(false);\r\n    const [editingIndex_pending, setEditingIndex_pending] = useState(-1);\r\n\r\n    // Modal state\r\n    const [captionModal, setCaptionModal] = useState(false);\r\n    const [captionModalPage, setCaptionModalPage] = useState(1);\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [editingIndex, setEditingIndex] = useState(-1);\r\n\r\n    const compress = new Compress();\r\n    /**\r\n     * Every time a field changes update the preview so when this tab is exited the preview retains its data.\r\n     */\r\n    useEffect(() => {\r\n        updatePreview();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [detailPageImages, bannerImage, isPublished]);\r\n\r\n    useEffect(() => {\r\n        const locationWithChanges = {\r\n            ...location,\r\n            ...state.previewLocation\r\n        };\r\n        setDetailPageImages(locationWithChanges.detailPageImages ? locationWithChanges.detailPageImages : '');\r\n        setBannerImage(locationWithChanges.bannerImage ? locationWithChanges.bannerImage : undefined);\r\n        setIsPublished(locationWithChanges.isPublished ? locationWithChanges.isPublished: null);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [location]);\r\n    \r\n    const handleFormSubmit = (e, publish) => {\r\n        e.preventDefault();\r\n        if (state.previewLocation._id) {\r\n            // First update the location data.\r\n            // The server will be responsible for deleting any images that are no longer in the new request.\r\n            const updateRequest = publish\r\n            ?\r\n            {...state.previewLocation, ...(state.previewLocation.bannerImage ?? {bannerImage: null}), _id: state.previewLocation._id, isPublished: true, isDraft: false}\r\n            :\r\n            {...state.previewLocation, ...(state.previewLocation.bannerImage ?? {bannerImage: null}), _id: state.previewLocation._id}\r\n            API.updateLocation_hideToast(updateRequest, (res, err) => {\r\n                if (res && res.status === 200) {\r\n                    // Once location is saved if there are pending images upload to cloudinary.\r\n                    if (state.bannerImage_pending || state.detailPageImages_pending) {\r\n                        const files = [];\r\n                        const locationImageRequest = {_id: state.previewLocation._id};\r\n                        if (state.bannerImage_pending && state.bannerImage_pending.file) {\r\n                            files.push(state.bannerImage_pending.file);\r\n                            locationImageRequest.bannerImage = {\r\n                                src: '',\r\n                                alt: state.previewLocation.name + ' banner image'\r\n                            };\r\n                        }\r\n                        if (state.detailPageImages_pending) {\r\n                            locationImageRequest.detailPageImages = [];\r\n                            for (let i = 0; i < state.detailPageImages_pending.length; i++) {\r\n                                files.push(state.detailPageImages_pending[i].file);\r\n                                locationImageRequest.detailPageImages.push({\r\n                                    src: '',\r\n                                    thumbnail: '',\r\n                                    alt: state.detailPageImages_pending[i].alt\r\n                                });\r\n                            }\r\n                        }\r\n                        API.uploadImages(files, (res, err) => {\r\n                            if (res) {\r\n                                // After images have been uploaded to cloudinary update the location record with the new images.\r\n                                if (locationImageRequest.bannerImage) {\r\n                                    locationImageRequest.bannerImage.src = res[0].data.secure_url;\r\n                                    res.shift();\r\n                                }\r\n                                if (locationImageRequest.detailPageImages) {\r\n                                    for (let i = 0; i < res.length; i++) {\r\n                                        locationImageRequest.detailPageImages[i].src = res[i].data.secure_url;\r\n                                        locationImageRequest.detailPageImages[i].thumbnail = res[i].data.secure_url;\r\n                                    }\r\n                                    locationImageRequest.detailPageImages = locationImageRequest.detailPageImages.concat(detailPageImages);\r\n                                }\r\n                                API.updateLocation_hideToast(locationImageRequest, (res, err) => {\r\n                                    if (res && res.status === 200) {\r\n                                        console.log('success');\r\n                                        if (publish) {\r\n                                            setIsPublished(true);\r\n                                            HELPERS.showToast(TOAST_TYPES.SUCCESS, 'Location Published!');\r\n                                        }\r\n                                        else {\r\n                                            HELPERS.showToast(TOAST_TYPES.SUCCESS, 'Update Successful!');\r\n                                        }\r\n                                        // Update the bannerImage object and the detailPageImages object with the new images.\r\n                                        // Reset the bannerImage_pending and detailPageImages_pending context variables\r\n                                        if (locationImageRequest.bannerImage) {\r\n                                            setBannerImage(locationImageRequest.bannerImage);\r\n                                            dispatch({type: SET_BANNER_IMAGE_PENDING, payload: undefined});\r\n                                        }\r\n                                        if (locationImageRequest.detailPageImages) {\r\n                                            setDetailPageImages(locationImageRequest.detailPageImages);\r\n                                            dispatch({type: SET_DETAIL_PAGE_IMAGES_PENDING, payload: undefined});\r\n                                        }\r\n                                    }\r\n                                    else if (err) {\r\n                                        console.log(err);\r\n                                    }\r\n                                });\r\n                            }\r\n                            else if (err) {\r\n                                console.log(err);\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        if (publish) {\r\n                            setIsPublished(true);\r\n                            HELPERS.showToast(TOAST_TYPES.SUCCESS, 'Location Published!');\r\n                        }\r\n                        else {\r\n                            HELPERS.showToast(TOAST_TYPES.SUCCESS, 'Update Successful!');\r\n                        }\r\n                    }\r\n                }\r\n                else if (err) {\r\n                    console.log(err);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            API.createLocation(state.previewLocation, (res, err) => {\r\n                if (res && res.status === 200) {\r\n                    // Once location is saved if there are pending images upload to cloudinary.\r\n                    const idField = res.data._id;\r\n                    if (state.bannerImage_pending || state.detailPageImages_pending) {\r\n                        const files = [];\r\n                        const locationImageRequest = {_id: idField};\r\n                        if (state.bannerImage_pending && state.bannerImage_pending.file) {\r\n                            files.push(state.bannerImage_pending.file);\r\n                            locationImageRequest.bannerImage = {\r\n                                src: '',\r\n                                alt: state.previewLocation.name + ' banner image'\r\n                            };\r\n                        }\r\n                        if (state.detailPageImages_pending) {\r\n                            locationImageRequest.detailPageImages = [];\r\n                            for (let i = 0; i < state.detailPageImages_pending.length; i++) {\r\n                                files.push(state.detailPageImages_pending[i].file);\r\n                                locationImageRequest.detailPageImages.push({\r\n                                    src: '',\r\n                                    thumbnail: '',\r\n                                    alt: state.detailPageImages_pending[i].alt\r\n                                });\r\n                            }\r\n                        }\r\n                        API.uploadImages(files, (res, err) => {\r\n                            if (res) {\r\n                                // After images have been uploaded to cloudinary update the location record with the new images.\r\n                                if (locationImageRequest.bannerImage) {\r\n                                    locationImageRequest.bannerImage.src = res[0].data.secure_url;\r\n                                    res.shift();\r\n                                }\r\n                                if (locationImageRequest.detailPageImages) {\r\n                                    for (let i = 0; i < res.length; i++) {\r\n                                        locationImageRequest.detailPageImages[i].src = res[i].data.secure_url;\r\n                                        locationImageRequest.detailPageImages[i].thumbnail = res[i].data.secure_url;\r\n                                    }\r\n                                }\r\n                                API.updateLocation_hideToast(locationImageRequest, (res, err) => {\r\n                                    if (res && res.status === 200) {\r\n                                        console.log('success');\r\n                                        HELPERS.showToast(TOAST_TYPES.SUCCESS, 'Update Successful!');\r\n                                        // Update the bannerImage object and the detailPageImages object with the new images.\r\n                                        // Reset the bannerImage_pending and detailPageImages_pending context variables\r\n                                        if (locationImageRequest.bannerImage) {\r\n                                            setBannerImage(locationImageRequest.bannerImage);\r\n                                            dispatch({type: SET_BANNER_IMAGE_PENDING, payload: undefined});\r\n                                        }\r\n                                        if (locationImageRequest.detailPageImages) {\r\n                                            setDetailPageImages(locationImageRequest.detailPageImages);\r\n                                            dispatch({type: SET_DETAIL_PAGE_IMAGES_PENDING, payload: undefined});\r\n                                        }\r\n                                        dispatch({type: UPDATE_PREVIEW, payload: res.data});\r\n                                        history.push(`/location/${res.data._id}`);\r\n                                    }\r\n                                    else if (err) {\r\n                                        console.log(err);\r\n                                    }\r\n                                });\r\n                            }\r\n                            else if (err) {\r\n                                console.log(err);\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        if (publish) {\r\n                            setIsPublished(true);\r\n                            HELPERS.showToast(TOAST_TYPES.SUCCESS, 'Location Published!');\r\n                        }\r\n                        else {\r\n                            HELPERS.showToast(TOAST_TYPES.SUCCESS, 'Update Successful!');\r\n                        }\r\n                    }\r\n                }\r\n                else if (err) {\r\n                    console.log(err);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    const handlePublish = (e) => {\r\n        e.preventDefault();\r\n        handleFormSubmit(e, true);\r\n    }\r\n    /**\r\n     * Updates the preview in context so when it is time to show the preview data from this tab will be included.\r\n     */\r\n    const updatePreview = () => {\r\n        const previewLocation = {\r\n            ...(detailPageImages) && {detailPageImages},\r\n            bannerImage,\r\n            ...((isPublished != null) && {isPublished})\r\n        };\r\n        const payload = {\r\n            ...location,\r\n            ...state.previewLocation,\r\n            ...previewLocation\r\n        };\r\n        dispatch({type: UPDATE_PREVIEW, payload: payload});\r\n    }\r\n    \r\n    const onDrop = useCallback(acceptedFiles => {\r\n        if (acceptedFiles.length > 0) {\r\n            console.log('accpetedFiles :>> ', acceptedFiles);\r\n            compress.compress(acceptedFiles, {\r\n                size: .4,\r\n                quality: 1,\r\n                maxWidth: 1920,\r\n                maxHeight: 1080\r\n            })\r\n            .then(data => {\r\n                const resizedimage = data[0];\r\n                const resizedFile = Compress.convertBase64ToFile(resizedimage.data, resizedimage.ext);\r\n                console.log(resizedFile);\r\n                setCurrentImage(resizedFile);\r\n\r\n                // Open caption modal\r\n                toggleCaptionModal();\r\n            })\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const onDropRejected = event => {\r\n        console.log(event);\r\n        HELPERS.showToast(TOAST_TYPES.WARNING, 'Warning! Cannot upload file because it is not the correct file type! Image must be .jpg or .png');\r\n    }\r\n\r\n    const { getRootProps, getInputProps } = useDropzone({\r\n        onDrop,\r\n        onDropRejected,\r\n        maxFiles: 1,\r\n        accept: 'image/jpeg, image/png'\r\n    });\r\n    \r\n    const toggleCaptionModal = () => {\r\n        if (captionModal) {\r\n            resetCaptionModal();\r\n        }\r\n        setCaptionModal(!captionModal);\r\n    }\r\n\r\n    const resetCaptionModal = () => {\r\n        setCurrentCaption('');\r\n        setIsEditing(false);\r\n        setEditingIndex(-1);\r\n        setCaptionModalPage(1);\r\n        setIsEditing_pending(false);\r\n        setEditingIndex_pending(-1);\r\n    }\r\n\r\n    const handleBannerClick_modalPage = () => {\r\n        const newBannerImage = {\r\n            ...(currentImage && {file: currentImage}),\r\n            ...(currentImage && {src: URL.createObjectURL(currentImage)})\r\n        };\r\n        dispatch({type: SET_BANNER_IMAGE_PENDING, payload: newBannerImage});\r\n        toggleCaptionModal();\r\n    }\r\n\r\n    const handleLocaionImageClick_modalPage = () => {\r\n        setCaptionModalPage(2);\r\n    }\r\n\r\n    const handleEdit = index => {\r\n        if (detailPageImages[index]) {\r\n            setCurrentCaption(detailPageImages[index].alt);\r\n            setIsEditing(true);\r\n            setEditingIndex(index);\r\n            setCaptionModalPage(2);\r\n            toggleCaptionModal();\r\n        }\r\n    }\r\n\r\n    const handleDelete = index => {\r\n        if (window.confirm('Are you sure you want to delete this image?')) {\r\n            const newDetailPageImages = [...detailPageImages];\r\n            newDetailPageImages.splice(index, 1);\r\n            setDetailPageImages(newDetailPageImages);\r\n        }\r\n    }\r\n\r\n    const handleBanner_pendingDelete = () => {\r\n        if (window.confirm('Are you sure you want to delete this banner image?')) {\r\n            dispatch({type: SET_BANNER_IMAGE_PENDING, payload: undefined});\r\n        }\r\n    }\r\n\r\n    const handleUpdateCaption = () => {\r\n        if (isEditing) {\r\n            const newDetailPageImage = {\r\n                ...(currentCaption && {alt: currentCaption}),\r\n                ...(detailPageImages[editingIndex].src && {src: detailPageImages[editingIndex].src}),\r\n                ...(detailPageImages[editingIndex].thumbnail && {thumbnail: detailPageImages[editingIndex].thumbnail})\r\n            };\r\n            const newDetailPageImages = [...detailPageImages];\r\n            newDetailPageImages.splice(editingIndex, 1, newDetailPageImage);\r\n            setDetailPageImages(newDetailPageImages);\r\n            toggleCaptionModal();\r\n        }\r\n        else if (isEditing_pending) {\r\n            const newDetailPageImage = {\r\n                ...(currentCaption && {alt: currentCaption}),\r\n                ...(state.detailPageImages_pending[editingIndex_pending].src && {src: state.detailPageImages_pending[editingIndex_pending].src}),\r\n                ...(state.detailPageImages_pending[editingIndex_pending].file && {file: state.detailPageImages_pending[editingIndex_pending].file})\r\n            };\r\n            const newDetailPageImages_pending = [...state.detailPageImages_pending];\r\n            newDetailPageImages_pending.splice(editingIndex_pending, 1, newDetailPageImage);\r\n            dispatch({type: SET_DETAIL_PAGE_IMAGES_PENDING, payload: newDetailPageImages_pending});\r\n            toggleCaptionModal();\r\n        }\r\n    }\r\n    \r\n    const handleAddCaption = () => {\r\n        const newDetailPageImage = {\r\n            ...(currentCaption && {alt: currentCaption}),\r\n            ...(currentImage && {file: currentImage}),\r\n            ...(currentImage && {src: URL.createObjectURL(currentImage)})\r\n        };\r\n        let newDetailPageImages_pending = [];\r\n        if (state.detailPageImages_pending) {\r\n            newDetailPageImages_pending = [...state.detailPageImages_pending];\r\n        }\r\n        newDetailPageImages_pending.push(newDetailPageImage);\r\n        dispatch({type: SET_DETAIL_PAGE_IMAGES_PENDING, payload: newDetailPageImages_pending});\r\n        toggleCaptionModal();\r\n    }\r\n\r\n    const handlePendingEdit = index => {\r\n        if (state.detailPageImages_pending[index]) {\r\n            setCurrentCaption(state.detailPageImages_pending[index].alt);\r\n            setIsEditing_pending(true);\r\n            setEditingIndex_pending(index);\r\n            setCaptionModalPage(2);\r\n            toggleCaptionModal();\r\n        }\r\n    }\r\n\r\n    const handlePendingDelete = index => {\r\n        if (window.confirm('Are you sure you want to delete this image?')) {\r\n            const newDetailPageImages_pending = [...state.detailPageImages_pending];\r\n            newDetailPageImages_pending.splice(index, 1);\r\n            dispatch({type: SET_DETAIL_PAGE_IMAGES_PENDING, payload: newDetailPageImages_pending});\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='MediaTabView'>\r\n            <TabView\r\n                header={`Media Upload ${state.previewLocation.name ? '- ' + state.previewLocation.name : ''}`}\r\n                description='This section is for uploading image media which can have optional caption text that will be shown with the image.'\r\n                previousView={TAB_UNIT}\r\n                nextView={TAB_PAYMENT}\r\n                formId='mediaForm'\r\n                isPublished={isPublished}\r\n                updatePreview={updatePreview}\r\n                onPublish={handlePublish}\r\n            >\r\n                <div className='card editDetailCard p-4'>\r\n                    <form id='mediaForm' onSubmit={handleFormSubmit}>\r\n                        <div {...getRootProps()} className='dropzone'>\r\n                            <input {...getInputProps()} />\r\n                            <div className=\"d-flex flex-column align-items-center justify-content-around h-100 py-5 bg-light\">\r\n                                <i className=\"fas fa-cloud-upload-alt largeText\"></i>\r\n                                <h3>Drop Files Here</h3>\r\n                                <p className='text-secondary fw-bold'>File types must be .jpg or .png</p>\r\n                                <button type=\"button\" className=\"btn btn-outline-primary\">Browse</button>\r\n                            </div>\r\n                        </div>\r\n                        {\r\n                            ((state.detailPageImages_pending && state.detailPageImages_pending.length > 0) || state.bannerImage_pending) &&\r\n                            <>\r\n                                <h5 className=\"mt-5\">Images Pending Save</h5>\r\n                                <p>The following images will be uploaded once the location is saved with the <b>Save</b> button below. Banner images uploaded here will replace any existing banner image shown below.</p>\r\n                                <div className=\"row\">\r\n                                    {\r\n                                        state.bannerImage_pending &&\r\n                                        <div className=\"col-12 mb-4\">\r\n                                            <ImageCard\r\n                                                src={state.bannerImage_pending.src}\r\n                                                caption='Banner'\r\n                                                hideEdit\r\n                                                onDelete={handleBanner_pendingDelete}\r\n                                            />\r\n                                        </div>\r\n                                    }\r\n                                    {\r\n                                        state.detailPageImages_pending && state.detailPageImages_pending.map((image, index) => (\r\n                                            <div className=\"col-12 col-lg-6 mb-4\" key={index}>\r\n                                                <ImageCard\r\n                                                    src={image.src}\r\n                                                    caption={image.alt}\r\n                                                    onEdit={() => handlePendingEdit(index)}\r\n                                                    onDelete={() => handlePendingDelete(index)}\r\n                                                />\r\n                                            </div>\r\n                                        ))\r\n                                    }\r\n                                </div>\r\n                            </>\r\n                        }\r\n                        <h5 className='mt-5'>Banner Image</h5>\r\n                        <p>An optional banner image can be shown at the top of the page for each location. To change this image use the upload tool above and select <b>Banner Image</b> after uploading image. This new image will replace the current banner image once the location is saved.</p>\r\n                        {\r\n                            bannerImage\r\n                            ?\r\n                            <div\r\n                                className=\"bannerImage card rounded-0 rounded-top\"\r\n                                style={{\r\n                                    backgroundImage: `url(${bannerImage.src})`,\r\n                                    backgroundPosition: 'center',\r\n                                    backgroundRepeat: 'no-repeat',\r\n                                    backgroundSize: 'cover',\r\n                                    height: '30vh'\r\n                                }}\r\n                            >\r\n                                <div className=\"card-footer position-relative rounded-bottom border\">\r\n                                    <button type='button' className=\"btn btn-link text-danger\" onClick={() => {\r\n                                        if (window.confirm('Are you sure you want to delete this banner image?')) {\r\n                                            setBannerImage();\r\n                                        }\r\n                                    }}>\r\n                                        <i className=\"fas fa-trash-alt\"></i>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            :\r\n                            <p className=\"text-secondary pt-5\">Currently no banner image has been added. Upload an image with the upload tool above.</p>\r\n                        }\r\n                        <h5 className='mt-5'>Location Images</h5>\r\n                        <p>These are the images that are shown in the slider at the bottom of the location detail page. Here you can edit the caption text, delete images, and upload new ones using the upload tool above.</p>\r\n                        {\r\n                            !detailPageImages || (detailPageImages && detailPageImages.length === 0)\r\n                            ?\r\n                            <p className=\"text-secondary pt-5\">Currently no location images have been added. Upload images with the upload tool above.</p>\r\n                            :\r\n                            <div className=\"row\">\r\n                                {\r\n                                    detailPageImages.map((image, index) => (\r\n                                        <div className=\"col-12 col-lg-6 mb-4\" key={index}>\r\n                                            <ImageCard\r\n                                                src={image.src}\r\n                                                caption={image.alt}\r\n                                                onEdit={() => handleEdit(index)}\r\n                                                onDelete={() => handleDelete(index)}\r\n                                            />\r\n                                        </div>\r\n                                    ))\r\n                                }\r\n                            </div>\r\n                        }\r\n                    </form>\r\n                </div>\r\n            </TabView>\r\n            <Modal isOpen={captionModal} toggle={toggleCaptionModal} centered>\r\n                <ModalHeader>\r\n                    {\r\n                        captionModalPage === 1\r\n                        ?\r\n                        'Select Image Type'\r\n                        :\r\n                        `${isEditing ? 'Edit' : 'Add'} Caption Text`\r\n                    }\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    {\r\n                        captionModalPage === 1\r\n                        ?\r\n                        <div className='text-center'>\r\n                            <p>What type of image is this?</p>\r\n                            <button className=\"btn btn-outline-primary me-3\" type='button' onClick={handleBannerClick_modalPage}>Banner Image</button>\r\n                            <button className=\"btn btn-outline-primary\" type='button' onClick={handleLocaionImageClick_modalPage}>Location Image</button>\r\n                        </div>\r\n                        :\r\n                        <>\r\n                            <label htmlFor=\"caption\" className=\"form-label\">Image Caption</label>\r\n                            <textarea\r\n                                id=\"caption\"\r\n                                className='form-control'\r\n                                rows=\"4\"\r\n                                placeholder='Enter Caption'\r\n                                value={currentCaption}\r\n                                onChange={e => setCurrentCaption(e.target.value)}\r\n                            />\r\n                        </>\r\n                    }\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <button className=\"btn\" onClick={toggleCaptionModal}>CANCEL</button>\r\n                    {\r\n                        captionModalPage === 2 &&\r\n                        (isEditing || isEditing_pending\r\n                        ?\r\n                        <button className=\"btn btn-primary\" onClick={handleUpdateCaption}>Update</button>\r\n                        :\r\n                        <button className=\"btn btn-primary\" onClick={handleAddCaption}>Add</button>)\r\n                    }\r\n                </ModalFooter>\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MediaTabView;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { UPDATE_PREVIEW } from '../../context/ActionTypes';\r\nimport { AppContext } from '../../context/Store';\r\nimport { TAB_MEDIA } from '../../shared/Constants';\r\nimport { API } from '../../util/API';\r\nimport { HELPERS, TOAST_TYPES } from '../../util/helpers';\r\nimport TabView from '../tabView/TabView';\r\n\r\nconst PaymentTabView = ({location}) => {\r\n    const [state, dispatch] = useContext(AppContext);\r\n    const history = useHistory();\r\n\r\n    const [enablePayments, setEnablePayments] = useState(false);\r\n    const [paypalEmail, setPaypalEmail] = useState('');\r\n    const [markupPercentage, setMarkupPercentage] = useState('');\r\n    const [markupAmount, setMarkupAmount] = useState('');\r\n    const [isPublished, setIsPublished] = useState();\r\n\r\n    const [wasValidated, setWasValidated] = useState(false);\r\n\r\n    /**\r\n     * Every time a field changes update the preview so when this tab is exited the preview retains its data.\r\n     */\r\n    useEffect(() => {\r\n        updatePreview();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [enablePayments, paypalEmail, markupPercentage, markupAmount, isPublished]);\r\n\r\n    useEffect(() => {\r\n        const locationWithChanges = {\r\n            ...location,\r\n            ...state.previewLocation\r\n        };\r\n        setEnablePayments(locationWithChanges.enablePayments ? locationWithChanges.enablePayments : false);\r\n        setPaypalEmail(locationWithChanges.paypalEmail ? locationWithChanges.paypalEmail : '');\r\n        setMarkupPercentage(locationWithChanges.paymentMarkupPercent ? (locationWithChanges.paymentMarkupPercent * 100).toFixed(1) : '');\r\n        setMarkupAmount(locationWithChanges.paymentMarkupFixed ? locationWithChanges.paymentMarkupFixed : '');\r\n        setIsPublished(locationWithChanges.isPublished ? locationWithChanges.isPublished: null);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [location]);\r\n\r\n    const handleFormSubmit = (e, publish) => {\r\n        if (!e.target.checkValidity()) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            HELPERS.showToast(TOAST_TYPES.WARNING, 'Unable to submit form! One or more fields are invalid.');\r\n        }\r\n        else {\r\n            e.preventDefault();\r\n            if (state.previewLocation._id) {\r\n                const updateRequest = publish ? { ...state.previewLocation, isPublished: true, isDraft: false } : state.previewLocation;\r\n                API.updateLocation_hideToast(updateRequest, (res, err) => {\r\n                    if (res && res.status === 200) {\r\n                        console.log('success!');\r\n                        if (publish) {\r\n                            setIsPublished(true);\r\n                            HELPERS.showToast(TOAST_TYPES.SUCCESS, 'Location Published!');\r\n                        }\r\n                        else {\r\n                            HELPERS.showToast(TOAST_TYPES.SUCCESS, 'Update Successful!');\r\n                        }\r\n                    }\r\n                    else if (err) {\r\n                        console.log(err);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                API.createLocation(state.previewLocation, (res, err) => {\r\n                    if (res && res.status === 200) {\r\n                        console.log('success!');\r\n                        dispatch({type: UPDATE_PREVIEW, payload: res.data});\r\n                        history.push(`/location/${res.data._id}`);\r\n                    }\r\n                    else if (err) {\r\n                        console.log(err);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        setWasValidated(true);\r\n    }\r\n\r\n    const handlePublish = (e) => {\r\n        e.preventDefault();\r\n        handleFormSubmit(e, true);\r\n    }\r\n    /**\r\n     * Updates the preview in context so when it is time to show the preview data from this tab will be included.\r\n     */\r\n    const updatePreview = () => {\r\n        const previewLocation = {\r\n            ...((enablePayments != null) && {enablePayments}),\r\n            ...(paypalEmail) && {paypalEmail},\r\n            ...(markupPercentage && {paymentMarkupPercent: (markupPercentage / 100).toFixed(3)}),\r\n            ...(markupAmount && {paymentMarkupFixed: markupAmount}),\r\n            ...((isPublished != null) && {isPublished})\r\n        };\r\n        const payload = {\r\n            ...location,\r\n            ...state.previewLocation,\r\n            ...previewLocation\r\n        };\r\n        dispatch({type: UPDATE_PREVIEW, payload: payload});\r\n    }\r\n\r\n    return (\r\n        <div className='PaymentTabView'>\r\n            <TabView\r\n                header={`Payment Processing ${state.previewLocation.name ? '- ' + state.previewLocation.name : ''}`}\r\n                description='This section is for enabling payment processing with PayPal for this location. Optional fees can be set which will be added to each payment that is made.'\r\n                previousView={TAB_MEDIA}\r\n                formId='paymentForm'\r\n                isPublished={isPublished}\r\n                updatePreview={updatePreview}\r\n                onPublish={handlePublish}\r\n            >\r\n                <div className='card editDetailCard p-4'>\r\n                    <form id='paymentForm' className={`needs-validation ${wasValidated ? 'was-validated' : ''}`} onSubmit={handleFormSubmit} noValidate>\r\n                        <h5>Payment Information</h5>\r\n                        <p>Use this section to define if you would like to accept PayPal payment for this location, the associated account, and any fees you would like to charge.</p>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <div className=\"form-check form-switch\">\r\n                                <input\r\n                                    id='enablePayments'\r\n                                    className='form-check-input'\r\n                                    type=\"checkbox\"\r\n                                    checked={enablePayments}\r\n                                    onChange={e => setEnablePayments(e.target.checked)}\r\n                                />\r\n                                <label className='form-check-label' htmlFor=\"enablePayments\">Enable Payments</label>\r\n                            </div>\r\n                        </div>\r\n                        {\r\n                            enablePayments &&\r\n                            <>\r\n                                <div className=\"d-flex flex-column my-4\">\r\n                                    <label className='form-label requiredField' htmlFor=\"paypalEmail\">PayPal Primary Email</label>\r\n                                    <small className='text-secondary'>This is the primary email address associated with the PayPal account you wish to receive payments with.</small>\r\n                                    <input\r\n                                        id='paypalEmail'\r\n                                        className='form-control'\r\n                                        type=\"email\"\r\n                                        placeholder='Enter email'\r\n                                        value={paypalEmail}\r\n                                        onChange={e => setPaypalEmail(e.target.value)}\r\n                                        required\r\n                                    />\r\n                                    <div className=\"invalid-feedback fw-bold\">\r\n                                        PayPal Primary Email is a required field please enter an email address above.\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"d-flex flex-column my-4\">\r\n                                    <label className='form-label requiredField' htmlFor=\"markupPercentage\">Markup Percentage</label>\r\n                                    <small className='text-secondary'>For each payment sent to you an optional markup percentage can be applied. PayPal charges a 2.9% transaction fee for each payment so if you want to cover that cost you can set it to 2.9%. <b>To set no fee enter 0.</b></small>\r\n                                    <div className=\"input-group\">\r\n                                        <input\r\n                                            id='markupPercentage'\r\n                                            className='form-control'\r\n                                            type=\"number\"\r\n                                            placeholder='Enter Markup Percentage'\r\n                                            max='100'\r\n                                            min='0'\r\n                                            step='.1'\r\n                                            value={markupPercentage}\r\n                                            onChange={e => setMarkupPercentage(e.target.value)}\r\n                                            required\r\n                                        />\r\n                                        <span className=\"input-group-text\">%</span>\r\n                                        <div className=\"invalid-feedback fw-bold\">\r\n                                            Markup Percentage is a required field please enter a value above.\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"d-flex flex-column my-4\">\r\n                                    <label className='form-label requiredField' htmlFor=\"markupAmount\">Fixed Markup Amount</label>\r\n                                    <small className='text-secondary'>For each payment sent to you an optional fixed markup amount can be applied. PayPal charges a 30 cent transaction fee for each payment so if you want to cover that cost you can set it to 30 cents. <b>To set no fee enter 0.</b></small>\r\n                                    <div className=\"input-group\">\r\n                                        <span className=\"input-group-text\">$</span>\r\n                                        <input\r\n                                            id='markupAmount'\r\n                                            className='form-control'\r\n                                            type=\"number\"\r\n                                            placeholder='Enter Markup Amount'\r\n                                            min='0'\r\n                                            step='.01'\r\n                                            value={markupAmount}\r\n                                            onChange={e => setMarkupAmount(e.target.value)}\r\n                                            required\r\n                                        />\r\n                                        <div className=\"invalid-feedback fw-bold\">\r\n                                            Markup Amount is a required field please enter a value above.\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </>\r\n                        }\r\n                    </form>\r\n                </div>\r\n            </TabView>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PaymentTabView;","import React, { useCallback, useContext, useEffect, useState } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { AppContext } from '../../context/Store';\r\nimport { TAB_GENERAL, TAB_UNIT } from '../../shared/Constants';\r\nimport TabView from '../tabView/TabView';\r\nimport Compress from 'compress.js';\r\nimport { UPDATE_PREVIEW, SET_THUMBNAIL_IMAGE_PENDING } from '../../context/ActionTypes';\r\nimport { HELPERS, TOAST_TYPES } from '../../util/helpers';\r\nimport './ThumbnailTabView.sass';\r\nimport { API } from '../../util/API';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst ThumbnailTabView = ({location}) => {\r\n    const [state, dispatch] = useContext(AppContext);\r\n    const history = useHistory();\r\n\r\n    const [thumbnailImage, setThumbnailImage] = useState();\r\n    const [isPublished, setIsPublished] = useState();\r\n    \r\n    const compress = new Compress();\r\n    /**\r\n     * Every time a field changes update the preview so when this tab is exited the preview retains its data.\r\n     */\r\n    useEffect(() => {\r\n        updatePreview();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [thumbnailImage, isPublished]);\r\n\r\n    useEffect(() => {\r\n        const locationWithChanges = {\r\n            ...location,\r\n            ...state.previewLocation\r\n        };\r\n        setThumbnailImage(locationWithChanges.thumbnailImage ? locationWithChanges.thumbnailImage : undefined);\r\n        setIsPublished(locationWithChanges.isPublished ? locationWithChanges.isPublished: null);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [location]);\r\n\r\n    const handleFormSubmit = (e, publish) => {\r\n        e.preventDefault();\r\n        if (state.previewLocation._id) {\r\n            const updateRequest = publish\r\n            ?\r\n            {...state.previewLocation, ...(state.previewLocation.thumbnailImage ?? {thumbnailImage: null}), _id: state.previewLocation._id, isPublished: true, isDraft: false}\r\n            :\r\n            {...state.previewLocation, ...(state.previewLocation.thumbnailImage ?? {thumbnailImage: null}), _id: state.previewLocation._id}\r\n            API.updateLocation_hideToast(updateRequest, (res, err) => {\r\n                if (res && res.status === 200) {\r\n                    if (state.thumbnailImage_pending) {\r\n                        API.uploadImages([state.thumbnailImage_pending.file], (res, err) => {\r\n                            if (res) {\r\n                                const locationImageRequest = {\r\n                                    _id: state.previewLocation._id,\r\n                                    thumbnailImage: {\r\n                                        src: res[0].data.secure_url,\r\n                                        alt: state.previewLocation.name\r\n                                    }\r\n                                }\r\n                                API.updateLocation_hideToast(locationImageRequest, (res, err) => {\r\n                                    if (res && res.status === 200) {\r\n                                        console.log('Thumbnail Upload Success!');\r\n                                        if (publish) {\r\n                                            setIsPublished(true);\r\n                                            HELPERS.showToast(TOAST_TYPES.SUCCESS, 'Location Published!');\r\n                                        }\r\n                                        else {\r\n                                            HELPERS.showToast(TOAST_TYPES.SUCCESS, 'Update Successful!');\r\n                                        }\r\n                                        setThumbnailImage(locationImageRequest.thumbnailImage);\r\n                                        dispatch({type: SET_THUMBNAIL_IMAGE_PENDING, payload: undefined});\r\n                                    }\r\n                                    else if (err) {\r\n                                        console.log(err);\r\n                                    }\r\n                                });\r\n                            }\r\n                            else if (err) {\r\n                                console.log(err);\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        if (publish) {\r\n                            setIsPublished(true);\r\n                            HELPERS.showToast(TOAST_TYPES.SUCCESS, 'Location Published!');\r\n                        }\r\n                        else {\r\n                            HELPERS.showToast(TOAST_TYPES.SUCCESS, 'Update Successful!');\r\n                        }\r\n                    }\r\n                }\r\n                else if (err) {\r\n                    console.log(err);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            API.createLocation(state.previewLocation, (res, err) => {\r\n                if (res && res.status === 200) {\r\n                    console.log(res.data);\r\n                    const idField = res.data._id;\r\n                    if (state.thumbnailImage_pending) {\r\n                        API.uploadImages([state.thumbnailImage_pending.file], (res, err) => {\r\n                            if (res) {\r\n                                const locationImageRequest = {\r\n                                    _id: idField,\r\n                                    thumbnailImage: {\r\n                                        src: res[0].data.secure_url,\r\n                                        alt: state.previewLocation.name\r\n                                    }\r\n                                }\r\n                                API.updateLocation_hideToast(locationImageRequest, (res, err) => {\r\n                                    if (res && res.status === 200) {\r\n                                        console.log('Thumbnail Upload Success!');\r\n                                        HELPERS.showToast(TOAST_TYPES.SUCCESS, 'Update Successful!');\r\n                                        setThumbnailImage(locationImageRequest.thumbnailImage);\r\n                                        dispatch({type: SET_THUMBNAIL_IMAGE_PENDING, payload: undefined});\r\n                                        dispatch({type: UPDATE_PREVIEW, payload: res.data});\r\n                                        history.push(`/location/${res.data._id}`);\r\n                                    }\r\n                                    else if (err) {\r\n                                        console.log(err);\r\n                                    }\r\n                                });\r\n                            }\r\n                            else if (err) {\r\n                                console.log(err);\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        HELPERS.showToast(TOAST_TYPES.SUCCESS, 'Update Successful!');\r\n                        dispatch({type: UPDATE_PREVIEW, payload: res.data});\r\n                        history.push(`/location/${res.data._id}`);\r\n                    }\r\n                }\r\n                else if (err) {\r\n                    console.log(err);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    const handlePublish = (e) => {\r\n        e.preventDefault();\r\n        handleFormSubmit(e, true);\r\n    }\r\n    /**\r\n     * Updates the preview in context so when it is time to show the preview data from this tab will be included.\r\n     */\r\n    const updatePreview = () => {\r\n        const previewLocation = {\r\n            thumbnailImage,\r\n            ...((isPublished != null) && {isPublished})\r\n        };\r\n        const payload = {\r\n            ...location,\r\n            ...state.previewLocation,\r\n            ...previewLocation\r\n        };\r\n        dispatch({type: UPDATE_PREVIEW, payload: payload});\r\n    }\r\n    \r\n    const onDrop = useCallback(acceptedFiles => {\r\n        if (acceptedFiles.length > 0) {\r\n            console.log('accpetedFiles :>> ', acceptedFiles);\r\n            compress.compress(acceptedFiles, {\r\n                size: .4,\r\n                quality: 1,\r\n                maxWidth: 300,\r\n                maxHeight: 280\r\n            })\r\n            .then(data => {\r\n                const resizedimage = data[0];\r\n                const resizedFile = Compress.convertBase64ToFile(resizedimage.data, resizedimage.ext);\r\n                console.log(resizedFile);\r\n                dispatch({type: SET_THUMBNAIL_IMAGE_PENDING, payload: {\r\n                        file: resizedFile,\r\n                        src: URL.createObjectURL(resizedFile),\r\n                        alt: state.previewLocation.name\r\n                    }\r\n                });\r\n            })\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const onDropRejected = event => {\r\n        console.log(event);\r\n        HELPERS.showToast(TOAST_TYPES.WARNING, 'Warning! Cannot upload file because it is not the correct file type! Image must be .jpg or .png');\r\n    }\r\n\r\n    const { getRootProps, getInputProps } = useDropzone({\r\n        onDrop,\r\n        onDropRejected,\r\n        maxFiles: 1,\r\n        accept: 'image/jpeg, image/png'\r\n    });\r\n\r\n    const handleDelete = () => {\r\n        if (window.confirm('Are you sure you want to delete this image?')) {\r\n            setThumbnailImage();\r\n        }\r\n    }\r\n    \r\n    const handleDelete_pending = () => {\r\n        if (window.confirm('Are you sure you want to delete this image?')) {\r\n            dispatch({type: SET_THUMBNAIL_IMAGE_PENDING, payload: undefined});\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='ThumbnailTabView'>\r\n            <TabView\r\n                header={`Thumbnail ${state.previewLocation.name ? '- ' + state.previewLocation.name : ''}`}\r\n                description='This section is for editing the thumbnail image that will be shown on the map view when users click on the marker for this location.'\r\n                previousView={TAB_GENERAL}\r\n                nextView={TAB_UNIT}\r\n                formId='thumbnailForm'\r\n                isPublished={isPublished}\r\n                updatePreview={updatePreview}\r\n                onPublish={handlePublish}\r\n            >\r\n                <div className='card editDetailCard p-4'>\r\n                    <form id='thumbnailForm' onSubmit={handleFormSubmit}>\r\n                        <div {...getRootProps()} className='dropzone'>\r\n                            <input {...getInputProps()} />\r\n                            <div className=\"d-flex flex-column align-items-center justify-content-around h-100 py-5 bg-light\">\r\n                                <i className=\"fas fa-cloud-upload-alt largeText\"></i>\r\n                                <h3>Drop Files Here</h3>\r\n                                <p className='text-secondary fw-bold'>File types must be .jpg or .png</p>\r\n                                <button type=\"button\" className=\"btn btn-outline-primary\">Browse</button>\r\n                            </div>\r\n                        </div>\r\n                        {\r\n                            state.thumbnailImage_pending &&\r\n                            <>\r\n                                <h5 className='mt-5'>Images Pending Save</h5>\r\n                                <p>The following images will be uploaded once the location is saved with the <b>Save</b> button below. Thumbnail images uploaded here will replace any existing thumbnail image shown below.</p>\r\n                                <div className=\"thumbnailCard card mb-4\">\r\n                                    <div className='card-body'>\r\n                                        <img src={state.thumbnailImage_pending.src} alt={state.thumbnailImage_pending.alt} />\r\n                                    </div>\r\n                                    <div className=\"card-footer\">\r\n                                        <button type='button' className=\"btn btn-link text-danger\" onClick={handleDelete_pending}>\r\n                                            <i className=\"fas fa-trash-alt\"></i>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </>\r\n                        }\r\n                        <h5 className='mt-5'>Thumbnail Image</h5>\r\n                        <p>A thumbnail image can be shown on the map when a location marker is clicked. To change this image use the upload tool above. This new image will replace the current thumbnail image once the location is saved.</p>\r\n                        {\r\n                            thumbnailImage\r\n                            ?\r\n                            <div className=\"thumbnailCard card mb-4\">\r\n                                <div className='card-body'>\r\n                                    <img src={thumbnailImage.src} alt={thumbnailImage.alt} />\r\n                                </div>\r\n                                <div className=\"card-footer\">\r\n                                    <button type='button' className=\"btn btn-link text-danger\" onClick={handleDelete}>\r\n                                        <i className=\"fas fa-trash-alt\"></i>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            :\r\n                            <p className=\"text-secondary pt-5\">Currently no thumbnail image has been added. Upload an image with the upload tool above.</p>\r\n                        }\r\n                    </form>\r\n                </div>\r\n            </TabView>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ThumbnailTabView;","import React from 'react';\r\nimport './UnitCard.sass';\r\n\r\nconst UnitCard = props => {\r\n    const {unit} = props;\r\n    return (\r\n        <div className='UnitCard'>\r\n            <div className=\"card\">\r\n                <div className=\"card-header d-flex flex-row align-items-center p-2 bg-light\">\r\n                    <b className='me-auto'>{unit.unitName ? unit.unitName : '(unnamed)'}</b>\r\n                    <button type='button' className=\"btn btn-link text-secondary\" onClick={props.onEditClick}>\r\n                        <i className=\"fas fa-pencil-alt\"></i>\r\n                    </button>\r\n                    <button type='button' className=\"btn btn-link text-danger\" onClick={props.onDeleteClick}>\r\n                        <i className=\"fas fa-trash-alt\"></i>\r\n                    </button>\r\n                </div>\r\n                {\r\n                    props.showAvailable &&\r\n                    <div className=\"card-header p-2\">\r\n                        <button\r\n                            type='button'\r\n                            className={`availableButton ${unit.available ? 'available' : ''}`}\r\n                            onClick={props.onAvailableClick}\r\n                        ></button>\r\n                        <span className='fw-bold ms-3'>{unit.available ? 'Available' : 'Unavailable'}</span>\r\n                    </div>\r\n                }\r\n                <div className=\"card-body row\">\r\n                    <div className=\"col-12 col-sm-6\">\r\n                        <label className='fw-bold text-secondary'>Rent:</label>\r\n                        <span className=\"ms-3\">{unit.monthlyRent ? `$${unit.monthlyRent}` : '-'}</span>\r\n                    </div>\r\n                    <div className=\"col-12 col-sm-6\">\r\n                        <label className='fw-bold text-secondary'>Width:</label>\r\n                        <span className=\"ms-3\">{unit.width ? `${unit.width}ft` : '-'}</span>\r\n                    </div>\r\n                    <div className=\"col-12 col-sm-6\">\r\n                        <label className='fw-bold text-secondary'>Height:</label>\r\n                        <span className=\"ms-3\">{unit.height ? unit.height : '-'}</span>\r\n                    </div>\r\n                    <div className=\"col-12 col-sm-6\">\r\n                        <label className='fw-bold text-secondary'>Depth:</label>\r\n                        <span className=\"ms-3\">{unit.depth ? `${unit.depth}ft` : '-'}</span>\r\n                    </div>\r\n                    <div className=\"col-12 col-sm-6\">\r\n                        <label className='fw-bold text-secondary'>SQ FT:</label>\r\n                        <span className=\"ms-3\">{unit.squareFeet ? `${unit.squareFeet}sqft` : '-'}</span>\r\n                    </div>\r\n                    {\r\n                        !props.hideTotal &&\r\n                        <div className=\"col-12 col-sm-6\">\r\n                            <label className='fw-bold text-secondary'>Total #:</label>\r\n                            <span className=\"ms-3\">{unit.numberOfUnitsByType ? unit.numberOfUnitsByType : '-'}</span>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UnitCard;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\r\nimport { UPDATE_PREVIEW } from '../../context/ActionTypes';\r\nimport { AppContext } from '../../context/Store';\r\nimport { TAB_MEDIA, TAB_THUMBNAIL } from '../../shared/Constants';\r\nimport { API } from '../../util/API';\r\nimport { HELPERS, TOAST_TYPES } from '../../util/helpers';\r\nimport TabView from '../tabView/TabView';\r\nimport UnitCard from '../unitCard/UnitCard';\r\n\r\nconst UnitTabView = ({location}) => {\r\n    const [state, dispatch] = useContext(AppContext);\r\n    const history = useHistory();\r\n\r\n    // location fields\r\n    const [unitSummary, setUnitSummary] = useState();\r\n    const [units, setUnits] = useState();\r\n    const [extras, setExtras] = useState();\r\n    const [isPublished, setIsPublished] = useState();\r\n\r\n    // Fields for unit summary creation modal\r\n    const [unitName_create, setUnitName_create] = useState('');\r\n    const [monthlyRent_create, setMonthlyRent_create] = useState('');\r\n    const [width_create, setWidth_create] = useState('');\r\n    const [height_create, setHeight_create] = useState('');\r\n    const [depth_create, setDepth_create] = useState('');\r\n    const [sqft_create, setSqft_create] = useState('');\r\n    const [numberOfUnits_create, setNumberOfUnits_create] = useState('');\r\n    \r\n    // Fields for unit available modal\r\n    const [unitName_available, setUnitName_available] = useState('');\r\n    const [monthlyRent_available, setMonthlyRent_available] = useState('');\r\n    const [width_available, setWidth_available] = useState('');\r\n    const [height_available, setHeight_available] = useState('');\r\n    const [depth_available, setDepth_available] = useState('');\r\n    const [sqft_available, setSqft_available] = useState('');\r\n    const [isAvailable_available, setIsAvailable_available] = useState(true);\r\n\r\n    // Fields for extras modal\r\n    const [price_extra, setPrice_extra] = useState();\r\n    const [frequency_extra, setFrequency_extra] = useState();\r\n    const [details_extra, setDetails_extra] = useState();\r\n\r\n    // form state\r\n    const [wasValidated, setWasValidated] = useState(false);\r\n\r\n    // unit summary state\r\n    const [unitSummaryModal, setUnitSummaryModal] = useState(false);\r\n    const [isEditing_summary, setIsEditing_summary] = useState(false);\r\n    const [editingIndex_summary, setEditingIndex_summary] = useState(-1);\r\n    \r\n    // unit availability state\r\n    const [unitAvailableModal, setUnitAvailableModal] = useState(false);\r\n    const [isEditing_available, setIsEditing_available] = useState(false);\r\n    const [editingIndex_available, setEditingIndex_available] = useState(-1);\r\n    const [availableModalPage, setAvailableModalPage] = useState(1);\r\n    const [existingUnit, setExistingUnit] = useState('');\r\n\r\n    // extras state\r\n    const [extrasModal, setExtrasModal] = useState(false);\r\n    const [isEditing_extra, setIsEditing_extra] = useState(false);\r\n    const [editingIndex_extra, setEditingIndex_extra] = useState(-1);\r\n    \r\n\r\n    /**\r\n     * Every time a field changes update the preview so when this tab is exited the preview retains its data.\r\n     */\r\n    useEffect(() => {\r\n        updatePreview();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [unitSummary, units, extras, isPublished]);\r\n\r\n    useEffect(() => {\r\n        const locationWithChanges = {\r\n            ...location,\r\n            ...state.previewLocation\r\n        };\r\n        setUnitSummary(locationWithChanges.unitSummary ? locationWithChanges.unitSummary : '');\r\n        setUnits(locationWithChanges.units ? locationWithChanges.units : '');\r\n        setExtras(locationWithChanges.extras ? locationWithChanges.extras : '');\r\n        setIsPublished(locationWithChanges.isPublished ? locationWithChanges.isPublished: null);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [location]);\r\n\r\n    const handleFormSubmit = (e, publish) => {\r\n        if (!e.target.checkValidity()) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            HELPERS.showToast(TOAST_TYPES.WARNING, 'Unable to submit form! One or more fields are invalid.');\r\n        }\r\n        else {\r\n            e.preventDefault();\r\n            if (state.previewLocation._id) {\r\n                const updateRequest = publish ? { ...state.previewLocation, isPublished: true, isDraft: false } : state.previewLocation;\r\n                API.updateLocation_hideToast(updateRequest, (res, err) => {\r\n                    if (res && res.status === 200) {\r\n                        console.log('success!');\r\n                        if (publish) {\r\n                            setIsPublished(true);\r\n                            HELPERS.showToast(TOAST_TYPES.SUCCESS, 'Location Published!');\r\n                        }\r\n                        else {\r\n                            HELPERS.showToast(TOAST_TYPES.SUCCESS, 'Update Successful!');\r\n                        }\r\n                    }\r\n                    else if (err) {\r\n                        console.log(err);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                API.createLocation(state.previewLocation, (res, err) => {\r\n                    if (res && res.status === 200) {\r\n                        console.log('success!');\r\n                        dispatch({type: UPDATE_PREVIEW, payload: res.data});\r\n                        history.push(`/location/${res.data._id}`);\r\n                    }\r\n                    else if (err) {\r\n                        console.log(err);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        setWasValidated(true);\r\n    }\r\n\r\n    const handlePublish = (e) => {\r\n        e.preventDefault();\r\n        handleFormSubmit(e, true);\r\n    }\r\n    /**\r\n     * Updates the preview in context so when it is time to show the preview data from this tab will be included.\r\n     */\r\n    const updatePreview = () => {\r\n        const previewLocation = {\r\n            ...(unitSummary && {unitSummary}),\r\n            ...(units && {units}),\r\n            ...(extras && {extras}),\r\n            ...((isPublished != null) && {isPublished})\r\n        };\r\n        const payload = {\r\n            ...location,\r\n            ...state.previewLocation,\r\n            ...previewLocation\r\n        };\r\n        dispatch({type: UPDATE_PREVIEW, payload: payload});\r\n    }\r\n\r\n    /*\r\n    *          !!##########################!!\r\n    *          !!                          !!\r\n    *          !!       Unit Summary       !!\r\n    *          !!                          !!\r\n    *          !!##########################!!\r\n    */\r\n\r\n    /**\r\n     * Event handler for creating a new unit summary\r\n     */\r\n    const handleCreateUnitSummary = () => {\r\n        const newUnit = {\r\n        ...(unitName_create && {unitName: unitName_create}),\r\n        ...(monthlyRent_create && {monthlyRent: monthlyRent_create}),\r\n        ...(width_create && {width: width_create}),\r\n        ...(height_create && {height: height_create}),\r\n        ...(depth_create && {depth: depth_create}),\r\n        ...(sqft_create && {squareFeet: sqft_create}),\r\n        ...(numberOfUnits_create && {numberOfUnitsByType: numberOfUnits_create})\r\n        };\r\n        setUnitSummary([...unitSummary, newUnit]);\r\n        toggleUnitSummaryModal();\r\n    }\r\n    \r\n    const handleUpdateUnitSummary = () => {\r\n        const newUnit = {\r\n        ...(unitName_create && {unitName: unitName_create}),\r\n        ...(monthlyRent_create && {monthlyRent: monthlyRent_create}),\r\n        ...(width_create && {width: width_create}),\r\n        ...(height_create && {height: height_create}),\r\n        ...(depth_create && {depth: depth_create}),\r\n        ...(sqft_create && {squareFeet: sqft_create}),\r\n        ...(numberOfUnits_create && {numberOfUnitsByType: numberOfUnits_create})\r\n        };\r\n        const newUnitSummarys = [...unitSummary];\r\n        newUnitSummarys.splice(editingIndex_summary, 1, newUnit);\r\n        setUnitSummary(newUnitSummarys);\r\n        toggleUnitSummaryModal();\r\n    }\r\n\r\n    const handleEditUnitSummary = index => {\r\n        if (unitSummary[index]) {\r\n            setUnitName_create(unitSummary[index].unitName);\r\n            setMonthlyRent_create(unitSummary[index].monthlyRent);\r\n            setWidth_create(unitSummary[index].width);\r\n            setHeight_create(unitSummary[index].height);\r\n            setDepth_create(unitSummary[index].depth);\r\n            setSqft_create(unitSummary[index].squareFeet);\r\n            setNumberOfUnits_create(unitSummary[index].numberOfUnitsByType);\r\n            setIsEditing_summary(true);\r\n            setEditingIndex_summary(index);\r\n            toggleUnitSummaryModal();\r\n        }\r\n    }\r\n\r\n    const handleDeleteUnitSummary = index => {\r\n        if (window.confirm('Are you sure you want to delete this unit summary?')) {\r\n            const newUnitSummarys = [...unitSummary];\r\n            newUnitSummarys.splice(index, 1);\r\n            setUnitSummary(newUnitSummarys);\r\n        }\r\n    }\r\n\r\n    const toggleUnitSummaryModal = () => {\r\n        if (unitSummaryModal) {\r\n            resetUnitSummaryModal();\r\n        }\r\n        setUnitSummaryModal(!unitSummaryModal);\r\n    }\r\n\r\n     const resetUnitSummaryModal = () => {\r\n        setUnitName_create('');\r\n        setMonthlyRent_create('');\r\n        setWidth_create('');\r\n        setHeight_create('');\r\n        setDepth_create('');\r\n        setSqft_create('');\r\n        setNumberOfUnits_create('');\r\n        setIsEditing_summary(false);\r\n        setEditingIndex_summary(-1);\r\n    }\r\n\r\n    \r\n    /*\r\n    *          !!###########################!!\r\n    *          !!                           !!\r\n    *          !!     Unit Availability     !!\r\n    *          !!                           !!\r\n    *          !!###########################!!\r\n    */\r\n\r\n    const toggleUnitAvailableModal = () => {\r\n        if (unitAvailableModal) {\r\n            resetUnitAvailableModal();\r\n        }\r\n        setUnitAvailableModal(!unitAvailableModal);\r\n    }\r\n\r\n    const resetUnitAvailableModal = () => {\r\n        setUnitName_available('');\r\n        setMonthlyRent_available('');\r\n        setWidth_available('');\r\n        setHeight_available('');\r\n        setDepth_available('');\r\n        setSqft_available('');\r\n        setIsEditing_available(false);\r\n        setEditingIndex_available(-1);\r\n        setExistingUnit('');\r\n        setTimeout(() => {\r\n            setAvailableModalPage(1);\r\n        }, 500);\r\n    }\r\n\r\n    const handleNextClickAvailableModal = () => {\r\n        const unit = JSON.parse(existingUnit);\r\n        setAvailableModalPage(2);\r\n        setUnitName_available(unit.unitName ? unit.unitName : '');\r\n        setMonthlyRent_available(unit.monthlyRent ? unit.monthlyRent : '');\r\n        setWidth_available(unit.width ? unit.width : '');\r\n        setHeight_available(unit.height ? unit.height : '');\r\n        setDepth_available(unit.depth ? unit.depth : '');\r\n        setSqft_available(unit.squareFeet ? unit.squareFeet : '');\r\n    }\r\n    \r\n    const handleAddUnitAvailable = () => {\r\n        const newUnit = {\r\n            ...(unitName_available && {unitName: unitName_available}),\r\n            ...(monthlyRent_available && {monthlyRent: monthlyRent_available}),\r\n            ...(width_available && {width: width_available}),\r\n            ...(height_available && {height: height_available}),\r\n            ...(depth_available && {depth: depth_available}),\r\n            ...(sqft_available && {squareFeet: sqft_available}),\r\n            available: true\r\n        };\r\n        setUnits([...units, newUnit]);\r\n        toggleUnitAvailableModal();\r\n    }\r\n    \r\n    const handleUpdateUnitAvailable = () => {\r\n        const newUnit = {\r\n        ...(unitName_available && {unitName: unitName_available}),\r\n        ...(monthlyRent_available && {monthlyRent: monthlyRent_available}),\r\n        ...(width_available && {width: width_available}),\r\n        ...(height_available && {height: height_available}),\r\n        ...(depth_available && {depth: depth_available}),\r\n        ...(sqft_available && {squareFeet: sqft_available}),\r\n        ...(isAvailable_available && {available: isAvailable_available})\r\n        };\r\n        const newUnits = [...units];\r\n        newUnits.splice(editingIndex_available, 1, newUnit);\r\n        setUnits(newUnits);\r\n        toggleUnitAvailableModal();\r\n    }\r\n\r\n    const handleAvailableClick = index => {\r\n        if (units[index]) {\r\n            const newUnits = [...units];\r\n            newUnits[index].available = !newUnits[index].available;\r\n            setUnits(newUnits);\r\n        }\r\n    }\r\n\r\n    const handleEditUnitAvailable = (index) => {\r\n        if (units[index]) {\r\n            setUnitName_available(units[index].unitName);\r\n            setMonthlyRent_available(units[index].monthlyRent);\r\n            setWidth_available(units[index].width);\r\n            setHeight_available(units[index].height);\r\n            setDepth_available(units[index].depth);\r\n            setSqft_available(units[index].squareFeet);\r\n            setIsAvailable_available(units[index].available);\r\n            setIsEditing_available(true);\r\n            setEditingIndex_available(index);\r\n            setAvailableModalPage(2);\r\n            toggleUnitAvailableModal();\r\n        }\r\n    }\r\n\r\n    const handleDeleteUnitAvailable = (index) => {\r\n        if (window.confirm('Are you sure you want to delete this unit availability?')) {\r\n            const newUnits = [...units];\r\n            newUnits.splice(index, 1);\r\n            setUnits(newUnits);\r\n        }\r\n    }\r\n  \r\n    /*\r\n    *          !!##########################!!\r\n    *          !!                          !!\r\n    *          !!          Extras          !!\r\n    *          !!                          !!\r\n    *          !!##########################!!\r\n    */\r\n\r\n    const toggleExtrasModal = () => {\r\n        if (extrasModal) {\r\n            resetExtrasModal();\r\n        }\r\n        setExtrasModal(!extrasModal);\r\n    }\r\n\r\n    const resetExtrasModal = () => {\r\n        setPrice_extra('');\r\n        setFrequency_extra('');\r\n        setDetails_extra('');\r\n        setIsEditing_extra(false);\r\n        setEditingIndex_extra(-1);\r\n    }\r\n\r\n    const handleCreateExtra = () => {\r\n        const newExtra = {\r\n            ...(price_extra && {price: price_extra}),\r\n            ...(frequency_extra && {frequency: frequency_extra}),\r\n            ...(details_extra && {details: details_extra})\r\n        };\r\n        setExtras([...extras, newExtra]);\r\n        toggleExtrasModal();\r\n    }\r\n\r\n    const handleUpdateExtra = () => {\r\n        const newExtra = {\r\n            ...(price_extra && {price: price_extra}),\r\n            ...(frequency_extra && {frequency: frequency_extra}),\r\n            ...(details_extra && {details: details_extra})\r\n        };\r\n        const newExtras = [...extras];\r\n        newExtras.splice(editingIndex_extra, 1, newExtra);\r\n        setExtras(newExtras);\r\n        toggleExtrasModal();\r\n    }\r\n\r\n    const handleEditExtra = index => {\r\n        if (extras[index]) {\r\n            setPrice_extra(extras[index].price);\r\n            setFrequency_extra(extras[index].frequency);\r\n            setDetails_extra(extras[index].details);\r\n            setIsEditing_extra(true);\r\n            setEditingIndex_extra(index);\r\n            toggleExtrasModal();\r\n        }\r\n    }\r\n\r\n    const handleDeleteExtra = index => {\r\n        if (window.confirm('Are you sure you want to delete this pricing extra?')) {\r\n            const newExtras = [...extras];\r\n            newExtras.splice(index, 1);\r\n            setExtras(newExtras);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className='UnitTabView'>\r\n            <TabView\r\n                header={`Unit and Pricing Information ${state.previewLocation.name ? '- ' + state.previewLocation.name : ''}`}\r\n                description='This section is for editing unit information including a summary of the units at this location and a list of what units are currently available.'\r\n                previousView={TAB_THUMBNAIL}\r\n                nextView={TAB_MEDIA}\r\n                formId='unitForm'\r\n                isPublished={isPublished}\r\n                updatePreview={updatePreview}\r\n                onPublish={handlePublish}\r\n            >\r\n                <div className='card editDetailCard p-4 my-4'>\r\n                    <form id='unitForm' className={`needs-validation ${wasValidated ? 'was-validated' : ''}`} onSubmit={handleFormSubmit} noValidate>\r\n                        <h5>Unit Summary</h5>\r\n                        <p>Use this section for filling out the unit summary information. This is a description of what types and sizes of units are at this location.</p>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <small className='text-secondary'>Add a unit type with the <b>Add Unit</b> button. All unit types will be displayed below.</small>\r\n                            <div>\r\n                                <button type='button' className=\"btn btn-outline-primary\" onClick={toggleUnitSummaryModal}>Add Unit</button>\r\n                            </div>\r\n                            {\r\n                                !unitSummary || (unitSummary && unitSummary.length === 0)\r\n                                ?\r\n                                <p className=\"text-secondary pt-5\">Currently no unit types have been added. Create units with the <b>Add Unit</b> button above.</p>\r\n                                :\r\n                                <div className=\"row\">\r\n                                    {\r\n                                        unitSummary.map((unit, index) => (\r\n                                            <div className='my-2 col-12 col-lg-6 col-xl-4' key={index}>\r\n                                                <UnitCard\r\n                                                    unit={unit}\r\n                                                    onEditClick={() => handleEditUnitSummary(index)}\r\n                                                    onDeleteClick={() => handleDeleteUnitSummary(index)}\r\n                                                />\r\n                                            </div>\r\n                                        ))\r\n                                    }\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        <h5>Unit Availabilities</h5>\r\n                        <p>Use this section for showing which units are currently available.</p>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <small className='text-secondary'>Add an available unit with the <b>Add Availability</b> button. All available unit added will be displayed below.</small>\r\n                            <div>\r\n                                <button type='button' className=\"btn btn-outline-primary\" onClick={toggleUnitAvailableModal}>Add Availability</button>\r\n                            </div>\r\n                            {\r\n                                !units || (units && units.length === 0)\r\n                                ?\r\n                                <p className=\"text-secondary pt-5\">Currently no available units have been added. Create availabilities with the <b>Add Availability</b> button above.</p>\r\n                                :\r\n                                <div className=\"row\">\r\n                                    <p className='p-4 mt-3 bg-warning rounded-3'><b className='fst-italic'>Note:</b> You can quick change the availability of a unit by clicking the <b className='text-danger'>red</b> or <b className='text-success'>green</b> circular indicators. Setting a unit as <i>Unavailable</i> will remove it from the list of availabilities without deleting the record.</p>\r\n                                    {\r\n                                        units.map((unit, index) => (\r\n                                            <div className='my-2 col-12 col-lg-6 col-xl-4' key={index}>\r\n                                                <UnitCard\r\n                                                    unit={unit}\r\n                                                    hideTotal\r\n                                                    showAvailable\r\n                                                    onEditClick={() => handleEditUnitAvailable(index)}\r\n                                                    onDeleteClick={() => handleDeleteUnitAvailable(index)}\r\n                                                    onAvailableClick={() => handleAvailableClick(index)}\r\n                                                />\r\n                                            </div>\r\n                                        ))\r\n                                    }\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        <h5>Pricing Extras</h5>\r\n                        <p>Use this section to list extra charges, services, features that are available at this location such as additional storage, key replacements, parking etc.</p>\r\n                        <div className=\"d-flex flex-column my-4\">\r\n                            <small className='text-secondary'>Add a pricing extra with the <b>Add Extra</b> button. All pricing extras will be displayed below.</small>\r\n                            <div>\r\n                                <button type='button' className=\"btn btn-outline-primary\" onClick={toggleExtrasModal}>Add Extra</button>\r\n                            </div>\r\n                            {\r\n                                !extras || (extras && extras.length === 0)\r\n                                ?\r\n                                <p className=\"text-secondary pt-5\">Currently no pricing extras have been added. Create pricing extras with the <b>Add Extra</b> button above.</p>\r\n                                :\r\n                                <div className=\"row\">\r\n                                    {\r\n                                        extras.map((extra, index) => (\r\n                                            <div className='my-2 col-12 col-xl-6' key={index}>\r\n                                                <div className=\"card\">\r\n                                                    <div className=\"card-header d-flex flex-row align-items-center p-2 bg-light\">\r\n                                                        <b className='me-auto'>Pricing Extra</b>\r\n                                                        <button type='button' className=\"btn btn-link text-secondary\" onClick={() => handleEditExtra(index)}>\r\n                                                            <i className=\"fas fa-pencil-alt\"></i>\r\n                                                        </button>\r\n                                                        <button type='button' className=\"btn btn-link text-danger\" onClick={() => handleDeleteExtra(index)}>\r\n                                                            <i className=\"fas fa-trash-alt\"></i>\r\n                                                        </button>\r\n                                                    </div>\r\n                                                    <div className=\"card-body row\">\r\n                                                        <div className=\"col-12 col-sm-6\">\r\n                                                            <label className='fw-bold text-secondary'>Price:</label>\r\n                                                            <span className=\"ms-3\">{extra.price ? `$${extra.price}` : '-'}</span>\r\n                                                        </div>\r\n                                                        <div className=\"col-12 col-sm-6\">\r\n                                                            <label className='fw-bold text-secondary'>Frequency:</label>\r\n                                                            <span className=\"ms-3\">{extra.frequency ? `${extra.frequency}` : '-'}</span>\r\n                                                        </div>\r\n                                                        <div className=\"col-12\">\r\n                                                            <label className='fw-bold text-secondary'>Details:</label>\r\n                                                            <span className=\"ms-3\">{extra.details ? extra.details : '-'}</span>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        ))\r\n                                    }\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </TabView>\r\n            <Modal isOpen={unitSummaryModal} toggle={toggleUnitSummaryModal} size='lg' centered>\r\n                <ModalHeader>\r\n                    {\r\n                        isEditing_summary\r\n                        ?\r\n                        'Editing Unit Type'\r\n                        :\r\n                        'Create A Unit Type'\r\n                    }\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    <div className=\"row my-3 align-items-end\">\r\n                        <div className=\"col-12 col-lg-6\">\r\n                            <label className='form-label' htmlFor=\"unitName\">Unit Name</label>\r\n                            <small className='text-secondary d-block'>Name that describes this unit like 'Small Unit' or 'Large Unit'.</small>\r\n                            <input\r\n                                id='unitName'\r\n                                className='form-control'\r\n                                type=\"text\"\r\n                                placeholder='Enter Unit Name'\r\n                                value={unitName_create}\r\n                                onChange={e => setUnitName_create(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-12 col-lg-6\">\r\n                            <label htmlFor=\"monthlyRent\" className=\"form-label\">Monthly Rent</label>\r\n                            <div className=\"input-group\">\r\n                                <span className='input-group-text'>$</span>\r\n                                <input\r\n                                    id='monthlyRent'\r\n                                    className='form-control'\r\n                                    type=\"Number\"\r\n                                    placeholder='Enter Monthly Rent'\r\n                                    min={0}\r\n                                    step='.01'\r\n                                    value={monthlyRent_create}\r\n                                    onChange={e => setMonthlyRent_create(e.target.value)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row my-3 align-items-end\">\r\n                        <div className=\"col-12 col-lg-6\">\r\n                            <label htmlFor=\"width\" className=\"form-label\">Unit Width</label>\r\n                            <small className='text-secondary d-block'>Width in feet (a <b>ft</b> symbol will be added to the value entered)</small>\r\n                            <input\r\n                                id=\"width\"\r\n                                className=\"form-control\"\r\n                                type='Number'\r\n                                placeholder='Enter Width'\r\n                                min={0}\r\n                                value={width_create}\r\n                                onChange={e => setWidth_create(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-12 col-lg-6\">\r\n                            <label htmlFor=\"height\" className=\"form-label\">Unit Height</label>\r\n                            <input\r\n                                id=\"height\"\r\n                                className=\"form-control\"\r\n                                type='text'\r\n                                placeholder='Enter Height'\r\n                                value={height_create}\r\n                                onChange={e => setHeight_create(e.target.value)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row my-3 align-items-end\">\r\n                        <div className=\"col-12 col-lg-6\">\r\n                            <label htmlFor=\"depth\" className=\"form-label\">Unit Depth</label>\r\n                            <small className='text-secondary d-block'>Depth in feet (a <b>ft</b> symbol will be added to the value entered)</small>\r\n                            <input\r\n                                id='depth'\r\n                                className=\"form-control\"\r\n                                type=\"Number\"\r\n                                placeholder='Enter Depth'\r\n                                min={0}\r\n                                value={depth_create}\r\n                                onChange={e => setDepth_create(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"col-12 col-lg-6\">\r\n                            <label htmlFor=\"sqft\" className=\"form-label\">Square Feet</label>\r\n                            <small className='text-secondary d-block'>Square footage (a <b>sqft</b> symbol will be added to the value entered)</small>\r\n                            <input\r\n                                id='sqft'\r\n                                className=\"form-control\"\r\n                                type=\"Number\"\r\n                                placeholder='Enter Square Feet'\r\n                                min={0}\r\n                                value={sqft_create}\r\n                                onChange={e => setSqft_create(e.target.value)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row my-3 align-items-end\">\r\n                        <div className=\"col-12 col-lg-6\">\r\n                            <label htmlFor=\"numberOfUnits\" className=\"form-label\">Number of Units</label>\r\n                            <small className='text-secondary d-block'>The total number of these units that are at this location.</small>\r\n                            <input\r\n                                id='numberOfUnits'\r\n                                className=\"form-control\"\r\n                                type=\"Number\"\r\n                                placeholder='Enter # Of Units'\r\n                                min={0}\r\n                                value={numberOfUnits_create}\r\n                                onChange={e => setNumberOfUnits_create(e.target.value)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <button className=\"btn\" onClick={toggleUnitSummaryModal}>CANCEL</button>\r\n                    {\r\n                        isEditing_summary\r\n                        ?\r\n                        <button className=\"btn btn-primary\" onClick={handleUpdateUnitSummary}>Update</button>\r\n                        :\r\n                        <button className=\"btn btn-primary\" onClick={handleCreateUnitSummary}>Create</button>\r\n                    }\r\n                </ModalFooter>\r\n            </Modal>\r\n            <Modal isOpen={unitAvailableModal} toggle={toggleUnitAvailableModal} size='lg' centered>\r\n                <ModalHeader>\r\n                    {\r\n                        isEditing_available\r\n                        ?\r\n                        'Editing Unit'\r\n                        :\r\n                        'Add A New Availability'\r\n                    }\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    {\r\n                        availableModalPage === 1 &&\r\n                        <div className=\"row\">\r\n                            <div className=\"col-12 col-lg-6 d-flex flex-column border-end border-dark\">\r\n                                <p>You can add available unit information based on a unit previously created by selecting the unit name in the dropdown below.</p>\r\n                                <label htmlFor=\"existingUnit\" className=\"form-label text-secondary\">Existing Unit</label>\r\n                                <div className=\"input-group\">\r\n                                    <select\r\n                                        id=\"existingUnit\"\r\n                                        className=\"form-select\"\r\n                                        value={existingUnit}\r\n                                        onChange={e => setExistingUnit(e.target.value)}\r\n                                    >\r\n                                        <option value='' selected>Select Unit</option>\r\n                                        {\r\n                                            unitSummary &&\r\n                                            unitSummary.map((unit, index) => (\r\n                                                <option key={index} value={JSON.stringify(unit)}>{unit.unitName}</option>\r\n                                            ))\r\n                                        }\r\n                                    </select>\r\n                                    <button\r\n                                        className=\"btn btn-outline-primary\"\r\n                                        onClick={handleNextClickAvailableModal}\r\n                                        disabled={existingUnit === ''}\r\n                                    >\r\n                                        Next\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"d-lg-none text-center mt-5\">or</div>\r\n                            <div className=\"col-12 col-lg-6 d-flex flex-column text-center justify-content-center mt-5 mt-lg-0\">\r\n                                <p>Enter values for unit manually</p>\r\n                                <div>\r\n                                    <button className=\"btn btn-outline-secondary\" onClick={() => setAvailableModalPage(2)}>Enter Manually</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        availableModalPage === 2 &&\r\n                        <>\r\n                            <div className=\"row my-3 align-items-end\">\r\n                                <div className=\"col-12 col-lg-6\">\r\n                                    <label className='form-label' htmlFor=\"unitName\">Unit Name</label>\r\n                                    <small className='text-secondary d-block'>Can be the same as the unit summary name or the specific name/number of this unit like 'Unit 101'.</small>\r\n                                    <input\r\n                                        id='unitName'\r\n                                        className='form-control'\r\n                                        type=\"text\"\r\n                                        placeholder='Enter Unit Name'\r\n                                        value={unitName_available}\r\n                                        onChange={e => setUnitName_available(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-12 col-lg-6\">\r\n                                    <label htmlFor=\"monthlyRent\" className=\"form-label\">Monthly Rent</label>\r\n                                    <div className=\"input-group\">\r\n                                        <span className='input-group-text'>$</span>\r\n                                        <input\r\n                                            id='monthlyRent'\r\n                                            className='form-control'\r\n                                            type=\"Number\"\r\n                                            placeholder='Enter Monthly Rent'\r\n                                            min={0}\r\n                                            step='.01'\r\n                                            value={monthlyRent_available}\r\n                                            onChange={e => setMonthlyRent_available(e.target.value)}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row my-3 align-items-end\">\r\n                                <div className=\"col-12 col-lg-6\">\r\n                                    <label htmlFor=\"width\" className=\"form-label\">Unit Width</label>\r\n                                    <small className='text-secondary d-block'>Width in feet (a <b>ft</b> symbol will be added to the value entered)</small>\r\n                                    <input\r\n                                        id=\"width\"\r\n                                        className=\"form-control\"\r\n                                        type='Number'\r\n                                        placeholder=\"Enter Width\"\r\n                                        min={0}\r\n                                        value={width_available}\r\n                                        onChange={e => setWidth_available(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-12 col-lg-6\">\r\n                                    <label htmlFor=\"height\" className=\"form-label\">Unit Height</label>\r\n                                    <input\r\n                                        id=\"height\"\r\n                                        className=\"form-control\"\r\n                                        type='text'\r\n                                        placeholder='Enter Height'\r\n                                        value={height_available}\r\n                                        onChange={e => setHeight_available(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row my-3 align-items-end\">\r\n                                <div className=\"col-12 col-lg-6\">\r\n                                    <label htmlFor=\"depth\" className=\"form-label\">Unit Depth</label>\r\n                                    <small className='text-secondary d-block'>Depth in feet (a <b>ft</b> symbol will be added to the value entered)</small>\r\n                                    <input\r\n                                        id='depth'\r\n                                        className=\"form-control\"\r\n                                        type=\"Number\"\r\n                                        placeholder='Enter Depth'\r\n                                        min={0}\r\n                                        value={depth_available}\r\n                                        onChange={e => setDepth_available(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col-12 col-lg-6\">\r\n                                    <label htmlFor=\"sqft\" className=\"form-label\">Square Feet</label>\r\n                                    <small className='text-secondary d-block'>Square footage (a <b>sqft</b> symbol will be added to the value entered)</small>\r\n                                    <input\r\n                                        id='sqft'\r\n                                        className=\"form-control\"\r\n                                        type=\"Number\"\r\n                                        placeholder='Enter Square Feet'\r\n                                        min={0}\r\n                                        value={sqft_available}\r\n                                        onChange={e => setSqft_available(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </>\r\n                    }\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <button className=\"btn\" onClick={toggleUnitAvailableModal}>CANCEL</button>\r\n                    {\r\n                        availableModalPage === 2 &&\r\n                        (isEditing_available\r\n                        ?\r\n                        <button className=\"btn btn-primary\" onClick={handleUpdateUnitAvailable}>Update</button>\r\n                        :\r\n                        <button className=\"btn btn-primary\" onClick={handleAddUnitAvailable}>Add</button>)\r\n                    }\r\n                </ModalFooter>\r\n            </Modal>\r\n            <Modal isOpen={extrasModal} toggle={toggleExtrasModal} size='lg' centered>\r\n                <ModalHeader>\r\n                    {\r\n                        isEditing_extra\r\n                        ?\r\n                        'Editing Extra'\r\n                        :\r\n                        'Create A New Pricing Extra'\r\n                    }\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                    <>\r\n                        <div className=\"row my-3 align-items-end\">\r\n                            <div className=\"col-12 col-lg-6\">\r\n                                <label className='form-label' htmlFor=\"price\">Price</label>\r\n                                <small className='text-secondary d-block'>The price / cost of this extra.</small>\r\n                                <div className=\"input-group\">\r\n                                    <span className='input-group-text'>$</span>\r\n                                    <input\r\n                                        id='price'\r\n                                        className='form-control'\r\n                                        type=\"Number\"\r\n                                        placeholder='Enter Price'\r\n                                        min={0}\r\n                                        step='.01'\r\n                                        value={price_extra}\r\n                                        onChange={e => setPrice_extra(e.target.value)}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-12 col-lg-6\">\r\n                                <label htmlFor=\"frequency\" className=\"form-label\">Pricing Frequency</label>\r\n                                <small className='text-secondary d-block'>How often the charge is due.</small>\r\n                                <small className='text-secondary'>Example: monthly, yearly, one time etc.</small>\r\n                                <input\r\n                                    id='frequency'\r\n                                    className='form-control'\r\n                                    type=\"text\"\r\n                                    placeholder='Enter Pricing Frequency'\r\n                                    value={frequency_extra}\r\n                                    onChange={e => setFrequency_extra(e.target.value)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row my-3 align-items-end\">\r\n                            <div className=\"col-12\">\r\n                                <label htmlFor=\"details\" className=\"form-label\">Details</label>\r\n                                <small className='text-secondary d-block'>Explain what this charge is and the details associated with it.</small>\r\n                                <textarea\r\n                                    id=\"details\"\r\n                                    className='form-control'\r\n                                    rows=\"4\"\r\n                                    placeholder='Enter Details'\r\n                                    value={details_extra}\r\n                                    onChange={e => setDetails_extra(e.target.value)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                    <button className=\"btn\" onClick={toggleExtrasModal}>CANCEL</button>\r\n                    {\r\n                        isEditing_extra\r\n                        ?\r\n                        <button className=\"btn btn-primary\" onClick={handleUpdateExtra}>Update</button>\r\n                        :\r\n                        <button className=\"btn btn-primary\" onClick={handleCreateExtra}>Create</button>\r\n                    }\r\n                </ModalFooter>\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UnitTabView;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport GeneralTabView from '../../../components/generalTabView/GeneralTabView';\r\nimport MediaTabView from '../../../components/mediaTabView/MediaTabView';\r\nimport PaymentTabView from '../../../components/paymentTabView/PaymentTabView';\r\nimport ThumbnailTabView from '../../../components/thumbnailTabView/ThumbnailTabView';\r\nimport UnitTabView from '../../../components/unitTabView/UnitTabView';\r\nimport { SET_BANNER_IMAGE_PENDING, SET_DETAIL_PAGE_IMAGES_PENDING, SET_TABVIEW, UPDATE_PREVIEW } from '../../../context/ActionTypes';\r\nimport { AppContext } from '../../../context/Store';\r\nimport { TAB_GENERAL, TAB_MEDIA, TAB_PAYMENT, TAB_THUMBNAIL, TAB_UNIT } from '../../../shared/Constants';\r\nimport { API } from '../../../util/API';\r\n\r\nconst LocationEdit = () => {\r\n    const routeLocation = useLocation();\r\n    const history = useHistory();\r\n    const locationId = routeLocation.pathname.split('/location/')[1];\r\n    const [location, setLocation] = useState({});\r\n    const [state, dispatch] = useContext(AppContext);\r\n\r\n    useEffect(() => {\r\n        if (locationId === 'new') {\r\n            setLocation({isDraft: true});\r\n        }\r\n        else {\r\n            API.getLocationById(locationId, (res, err) => {\r\n                if (res && res.status === 200) {\r\n                    setLocation(res.data);\r\n                }\r\n                else {\r\n                    console.log(err);\r\n                    history.push('/locations');\r\n                }\r\n            });\r\n        }\r\n\r\n        return () => {\r\n            // reset the preview to empty so the data doesn't cross with other locations that get opened.\r\n            setTimeout(() => {\r\n                dispatch({type: UPDATE_PREVIEW, payload: {}});\r\n                dispatch({type: SET_DETAIL_PAGE_IMAGES_PENDING, payload: undefined});\r\n                dispatch({type: SET_BANNER_IMAGE_PENDING, payload: undefined});\r\n            }, 1000);\r\n            dispatch({type: SET_TABVIEW, payload: TAB_GENERAL});\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    return (\r\n        <div className='LocationEdit'>\r\n            {\r\n                state.tabView === TAB_GENERAL &&\r\n                <GeneralTabView location={location}/>\r\n            }\r\n            {\r\n                state.tabView === TAB_THUMBNAIL &&\r\n                <ThumbnailTabView location={location}/>\r\n            }\r\n            {\r\n                state.tabView === TAB_UNIT &&\r\n                <UnitTabView location={location}/>\r\n            }\r\n            {\r\n                state.tabView === TAB_MEDIA &&\r\n                <MediaTabView location={location}/>\r\n            }\r\n            {\r\n                state.tabView === TAB_PAYMENT &&\r\n                <PaymentTabView location={location}/>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LocationEdit;","import { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport default function ScrollToTop() {\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    document.getElementById('mainContent').scrollTo(0,0);\r\n  }, [pathname]);\r\n\r\n  return null;\r\n}","import './App.sass';\nimport { HashRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport Login from './routes/login/Login';\nimport Dashboard from './routes/dashboard/Dashboard';\nimport NotFound from './routes/NotFound/NotFound';\nimport PrivateRoute from './components/privateRoute/PrivateRoute';\nimport Settings from './routes/settings/Settings';\nimport Locations from './routes/locations/Locations';\nimport Toolbar from './shared/toolbar/Toolbar';\nimport MobileHeader from './shared/mobileHeader/MobileHeader';\nimport Store from './context/Store';\nimport Users from './routes/users/Users';\nimport LocationEdit from './routes/locations/locationEdit/LocationEdit';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useEffect } from 'react';\nimport { HELPERS, TOAST_TYPES } from './util/helpers';\nimport ScrollToTop from './components/scrollToTop/ScrollToTop';\n\nfunction App() {\n\n  useEffect(() => {\n    HELPERS.addToastListener((type, message) => {\n      const actionMap = {\n        [TOAST_TYPES.INFO]: showInfoToast,\n        [TOAST_TYPES.SUCCESS]: showSuccessToast,\n        [TOAST_TYPES.WARNING]: showWarningToast,\n        [TOAST_TYPES.ERROR]: showErrorToast\n      };\n      actionMap[type](message);\n    });\n  }, []);\n\n  const showInfoToast = (message) => toast.info(message);\n  const showSuccessToast = (message) => toast.success(message);\n  const showWarningToast = (message) => toast.warning(message);\n  const showErrorToast = (error) => {\n    error && toast.error(`${error.status} ${error.statusText}: ${error.data}`);\n  }\n  \n  return (\n    <Store>\n      <div className=\"App lightTheme\">\n        <HashRouter>\n          <div className=\"row m-0\">\n            <Route\n              path='/'\n              render={props => (\n                props.location.pathname !== '/login' &&\n                <>\n                  <div className=\"d-none d-md-block col-2 p-0\">\n                    <Toolbar/>\n                  </div>\n                  <div className='d-md-none'>\n                    <MobileHeader/>\n                  </div>\n                </>\n              )}\n            />\n            <div id='mainContent' className=\"col mainContent\">\n                <ScrollToTop/>\n                <Switch>\n                  <Route\n                    path='/'\n                    exact\n                    render={props => <Redirect to='/dashboard'/>}\n                  />\n                  <Route\n                    path='/login'\n                    exact\n                    component={Login}\n                  />\n                  <PrivateRoute\n                    path='/dashboard'\n                    exact\n                  >\n                    <Dashboard/>\n                  </PrivateRoute>\n                  <PrivateRoute\n                    path='/locations'\n                    exact\n                  >\n                    <Locations/>\n                  </PrivateRoute>\n                  <PrivateRoute\n                    path='/location/:slug'\n                    \n                  >\n                    <LocationEdit/>\n                  </PrivateRoute>\n                  <PrivateRoute\n                    path='/users'\n                    exact\n                  >\n                    <Users/>\n                  </PrivateRoute>\n                  <PrivateRoute\n                    path='/settings'\n                    exact\n                  >\n                    <Settings/>\n                  </PrivateRoute>\n                  <Route\n                    path='*'\n                    exact\n                    component={NotFound}\n                  />\n                </Switch>\n            </div>\n          </div>\n        </HashRouter>\n      </div>\n      <ToastContainer/>\n    </Store>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}